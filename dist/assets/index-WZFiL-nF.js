(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var cm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function QA(){if(Tv)return Pl;Tv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Sv;function KA(){return Sv||(Sv=1,cm.exports=QA()),cm.exports}var T=KA(),hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function YA(){if(Av)return Re;Av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Y={};function L(x,te,oe){this.props=x,this.context=te,this.refs=Y,this.updater=oe||P}L.prototype.isReactComponent={},L.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function re(x,te,oe){this.props=x,this.context=te,this.refs=Y,this.updater=oe||P}var se=re.prototype=new Q;se.constructor=re,H(se,L.prototype),se.isPureReactComponent=!0;var be=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function O(x,te,oe,ne,pe,Ie){return oe=Ie.ref,{$$typeof:i,type:x,key:te,ref:oe!==void 0?oe:null,props:Ie}}function R(x,te){return O(x.type,te,void 0,void 0,void 0,x.props)}function I(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function M(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(oe){return te[oe]})}var V=/\/+/g;function j(x,te){return typeof x=="object"&&x!==null&&x.key!=null?M(""+x.key):te.toString(36)}function N(){}function jt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function lt(x,te,oe,ne,pe){var Ie=typeof x;(Ie==="undefined"||Ie==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(Ie){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case i:case e:Se=!0;break;case E:return Se=x._init,lt(Se(x._payload),te,oe,ne,pe)}}if(Se)return pe=pe(x),Se=ne===""?"."+j(x,0):ne,be(pe)?(oe="",Se!=null&&(oe=Se.replace(V,"$&/")+"/"),lt(pe,te,oe,"",function(Yn){return Yn})):pe!=null&&(I(pe)&&(pe=R(pe,oe+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+Se)),te.push(pe)),1;Se=0;var xt=ne===""?".":ne+":";if(be(x))for(var Ze=0;Ze<x.length;Ze++)ne=x[Ze],Ie=xt+j(ne,Ze),Se+=lt(ne,te,oe,Ie,pe);else if(Ze=b(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(ne=x.next()).done;)ne=ne.value,Ie=xt+j(ne,Ze++),Se+=lt(ne,te,oe,Ie,pe);else if(Ie==="object"){if(typeof x.then=="function")return lt(jt(x),te,oe,ne,pe);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function $(x,te,oe){if(x==null)return x;var ne=[],pe=0;return lt(x,ne,"","",function(Ie){return te.call(oe,Ie,pe++)}),ne}function ae(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(oe){(x._status===0||x._status===-1)&&(x._status=1,x._result=oe)},function(oe){(x._status===0||x._status===-1)&&(x._status=2,x._result=oe)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var de=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ze(){}return Re.Children={map:$,forEach:function(x,te,oe){$(x,function(){te.apply(this,arguments)},oe)},count:function(x){var te=0;return $(x,function(){te++}),te},toArray:function(x){return $(x,function(te){return te})||[]},only:function(x){if(!I(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return le.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,te,oe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ne=H({},x.props),pe=x.key,Ie=void 0;if(te!=null)for(Se in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(pe=""+te.key),te)!ge.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(ne[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)ne.children=oe;else if(1<Se){for(var xt=Array(Se),Ze=0;Ze<Se;Ze++)xt[Ze]=arguments[Ze+2];ne.children=xt}return O(x.type,pe,void 0,void 0,Ie,ne)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,te,oe){var ne,pe={},Ie=null;if(te!=null)for(ne in te.key!==void 0&&(Ie=""+te.key),te)ge.call(te,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=te[ne]);var Se=arguments.length-2;if(Se===1)pe.children=oe;else if(1<Se){for(var xt=Array(Se),Ze=0;Ze<Se;Ze++)xt[Ze]=arguments[Ze+2];pe.children=xt}if(x&&x.defaultProps)for(ne in Se=x.defaultProps,Se)pe[ne]===void 0&&(pe[ne]=Se[ne]);return O(x,Ie,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=I,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ae}},Re.memo=function(x,te){return{$$typeof:p,type:x,compare:te===void 0?null:te}},Re.startTransition=function(x){var te=le.T,oe={};le.T=oe;try{var ne=x(),pe=le.S;pe!==null&&pe(oe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ze,de)}catch(Ie){de(Ie)}finally{le.T=te}},Re.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Re.use=function(x){return le.H.use(x)},Re.useActionState=function(x,te,oe){return le.H.useActionState(x,te,oe)},Re.useCallback=function(x,te){return le.H.useCallback(x,te)},Re.useContext=function(x){return le.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,te){return le.H.useDeferredValue(x,te)},Re.useEffect=function(x,te,oe){var ne=le.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(x,te)},Re.useId=function(){return le.H.useId()},Re.useImperativeHandle=function(x,te,oe){return le.H.useImperativeHandle(x,te,oe)},Re.useInsertionEffect=function(x,te){return le.H.useInsertionEffect(x,te)},Re.useLayoutEffect=function(x,te){return le.H.useLayoutEffect(x,te)},Re.useMemo=function(x,te){return le.H.useMemo(x,te)},Re.useOptimistic=function(x,te){return le.H.useOptimistic(x,te)},Re.useReducer=function(x,te,oe){return le.H.useReducer(x,te,oe)},Re.useRef=function(x){return le.H.useRef(x)},Re.useState=function(x){return le.H.useState(x)},Re.useSyncExternalStore=function(x,te,oe){return le.H.useSyncExternalStore(x,te,oe)},Re.useTransition=function(){return le.H.useTransition()},Re.version="19.1.1",Re}var wv;function cp(){return wv||(wv=1,hm.exports=YA()),hm.exports}var U=cp(),fm={exports:{}},Vl={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function $A(){return bv||(bv=1,function(i){function e($,ae){var de=$.length;$.push(ae);e:for(;0<de;){var ze=de-1>>>1,x=$[ze];if(0<o(x,ae))$[ze]=ae,$[de]=x,de=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],de=$.pop();if(de!==ae){$[0]=de;e:for(var ze=0,x=$.length,te=x>>>1;ze<te;){var oe=2*(ze+1)-1,ne=$[oe],pe=oe+1,Ie=$[pe];if(0>o(ne,de))pe<x&&0>o(Ie,ne)?($[ze]=Ie,$[pe]=de,ze=pe):($[ze]=ne,$[oe]=de,ze=oe);else if(pe<x&&0>o(Ie,de))$[ze]=Ie,$[pe]=de,ze=pe;else break e}}return ae}function o($,ae){var de=$.sortIndex-ae.sortIndex;return de!==0?de:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,A=null,b=3,P=!1,H=!1,Y=!1,L=!1,Q=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function be($){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=$)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function le($){if(Y=!1,be($),!H)if(n(g)!==null)H=!0,ge||(ge=!0,j());else{var ae=n(p);ae!==null&&lt(le,ae.startTime-$)}}var ge=!1,O=-1,R=5,I=-1;function M(){return L?!0:!(i.unstable_now()-I<R)}function V(){if(L=!1,ge){var $=i.unstable_now();I=$;var ae=!0;try{e:{H=!1,Y&&(Y=!1,re(O),O=-1),P=!0;var de=b;try{t:{for(be($),A=n(g);A!==null&&!(A.expirationTime>$&&M());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,b=A.priorityLevel;var x=ze(A.expirationTime<=$);if($=i.unstable_now(),typeof x=="function"){A.callback=x,be($),ae=!0;break t}A===n(g)&&s(g),be($)}else s(g);A=n(g)}if(A!==null)ae=!0;else{var te=n(p);te!==null&&lt(le,te.startTime-$),ae=!1}}break e}finally{A=null,b=de,P=!1}ae=void 0}}finally{ae?j():ge=!1}}}var j;if(typeof se=="function")j=function(){se(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,jt=N.port2;N.port1.onmessage=V,j=function(){jt.postMessage(null)}}else j=function(){Q(V,0)};function lt($,ae){O=Q(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var de=b;b=ae;try{return $()}finally{b=de}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=b;b=$;try{return ae()}finally{b=de}},i.unstable_scheduleCallback=function($,ae,de){var ze=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,$){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=de+x,$={id:E++,callback:ae,priorityLevel:$,startTime:de,expirationTime:x,sortIndex:-1},de>ze?($.sortIndex=de,e(p,$),n(g)===null&&$===n(p)&&(Y?(re(O),O=-1):Y=!0,lt(le,de-ze))):($.sortIndex=x,e(g,$),H||P||(H=!0,ge||(ge=!0,j()))),$},i.unstable_shouldYield=M,i.unstable_wrapCallback=function($){var ae=b;return function(){var de=b;b=ae;try{return $.apply(this,arguments)}finally{b=de}}}}(mm)),mm}var Rv;function XA(){return Rv||(Rv=1,dm.exports=$A()),dm.exports}var pm={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function JA(){if(Cv)return $t;Cv=1;var i=cp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:p,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},$t.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},$t.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:b,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$t.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},$t.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,A=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$t.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,p){return g(p)},$t.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.1",$t}var Iv;function WA(){if(Iv)return pm.exports;Iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=JA(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function ZA(){if(Nv)return Vl;Nv=1;var i=XA(),e=cp(),n=WA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),se=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function jt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case L:return"Profiler";case Y:return"StrictMode";case le:return"Suspense";case ge:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case se:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case be:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:jt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return jt(t(r))}catch{}}return null}var lt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],x=-1;function te(t){return{current:t}}function oe(t){0>x||(t.current=ze[x],ze[x]=null,x--)}function ne(t,r){x++,ze[x]=t.current,t.current=r}var pe=te(null),Ie=te(null),Se=te(null),xt=te(null);function Ze(t,r){switch(ne(Se,r),ne(Ie,t),ne(pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?$_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=$_(r),t=X_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),ne(pe,t)}function Yn(){oe(pe),oe(Ie),oe(Se)}function li(t){t.memoizedState!==null&&ne(xt,t);var r=pe.current,a=X_(r,t.type);r!==a&&(ne(Ie,t),ne(pe,a))}function Sr(t){Ie.current===t&&(oe(pe),oe(Ie)),xt.current===t&&(oe(xt),Nl._currentValue=de)}var ss=Object.prototype.hasOwnProperty,as=i.unstable_scheduleCallback,os=i.unstable_cancelCallback,Ro=i.unstable_shouldYield,wu=i.unstable_requestPaint,Tn=i.unstable_now,cf=i.unstable_getCurrentPriorityLevel,Co=i.unstable_ImmediatePriority,sa=i.unstable_UserBlockingPriority,ls=i.unstable_NormalPriority,hf=i.unstable_LowPriority,aa=i.unstable_IdlePriority,Io=i.log,bu=i.unstable_setDisableYieldValue,ut=null,Ge=null;function cn(t){if(typeof Io=="function"&&bu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,t)}catch{}}var Kt=Math.clz32?Math.clz32:us,Ru=Math.log,ff=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(Ru(t)/ff|0)|0}var cs=256,hs=4194304;function jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=jn(l):(v&=S,v!==0?h=jn(v):a||(a=S&~t,a!==0&&(h=jn(a))))):(S=l&~d,S!==0?h=jn(S):v!==0?h=jn(v):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function fs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function No(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),t}function Do(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function Ar(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Kt(a),Z=1<<X;S[X]=0,C[X]=-1;var F=q[X];if(F!==null)for(q[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~Z}l!==0&&$n(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function $n(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Mo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ui(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function la(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ci(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Cu(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var rt=Math.random().toString(36).slice(2),wt="__reactFiber$"+rt,yt="__reactProps$"+rt,Sn="__reactContainer$"+rt,Po="__reactEvents$"+rt,df="__reactListeners$"+rt,hi="__reactHandles$"+rt,Iu="__reactResources$"+rt,ds="__reactMarker$"+rt;function fi(t){delete t[wt],delete t[yt],delete t[Po],delete t[df],delete t[hi]}function br(t){var r=t[wt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Sn]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=ev(t);t!==null;){if(a=t[wt])return a;t=ev(t)}return r}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[wt]||t[Sn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function en(t){var r=t[Iu];return r||(r=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(t){t[ds]=!0}var Vo=new Set,ua={};function Un(t,r){Rr(t,r),Rr(t+"Capture",r)}function Rr(t,r){for(ua[t]=r,t=0;t<r.length;t++)Vo.add(r[t])}var Nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},ms={};function Du(t){return ss.call(ms,t)?!0:ss.call(xu,t)?!1:Nu.test(t)?ms[t]=!0:(xu[t]=!0,!1)}function di(t,r,a){if(Du(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Wn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ut(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ps,Ou;function Cr(t){if(ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",Ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+Ou}var ca=!1;function ha(t,r){if(!t||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var F=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){F=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){F=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var C=v.split(`
`),q=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Cr(a):""}function ko(t){switch(t.tag){case 26:case 27:case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return Cr("Activity");default:return""}}function fa(t){try{var r="";do r+=ko(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(t){var r=Lo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function da(t){t._valueTracker||(t._valueTracker=mf(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Lo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pf=/[\n"\\]/g;function _t(t){return t.replace(pf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function hn(t,r,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?mi(t,v,tn(r)):a!=null?mi(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+tn(S):t.removeAttribute("name")}function ys(t,r,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function mi(t,r,a){r==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+tn(a):""}function _s(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||vs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Uo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Mu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Mu(t,d,r[d])}function zo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Nr=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,Dr=null;function Bo(t){var r=Xn(t);if(r&&(t=r.stateNode)){var a=t[yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&jo(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var Zn=!1;function Pu(t,r,a){if(Zn)return t(r,a);Zn=!0;try{var l=t(r);return l}finally{if(Zn=!1,(xr!==null||Dr!==null)&&(Cc(),xr&&(r=xr,t=Dr,Dr=xr=null,Bo(r),t)))for(r=0;r<t.length;r++)Bo(t[r])}}function Es(t,r){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(zn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){bn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{bn=!1}var er=null,pi=null,Or=null;function qo(){if(Or)return Or;var t,r=pi,a=r.length,l,h="value"in er?er.value:er.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function tr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function Ho(){return!1}function Dt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:Ho,this.isPropagationStopped=Ho,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Dt(He),Ss=E({},He,{view:0,detail:0}),Vu=Dt(Ss),ga,ya,rr,As=E({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(ga=t.screenX-rr.screenX,ya=t.screenY-rr.screenY):ya=ga=0,rr=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Rn=Dt(As),ku=E({},As,{dataTransfer:0}),_f=Dt(ku),ws=E({},Ss,{relatedTarget:0}),_a=Dt(ws),Fo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Dt(Fo),Lu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=Dt(Lu),vf=E({},He,{data:0}),Go=Dt(vf),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Uu[t])?!!r[t]:!1}function Rs(){return Qo}var zu=E({},Ss,{key:function(t){if(t.key){var r=bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=Dt(zu),Bu=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Dt(Bu),Mr=E({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),qu=Dt(Mr),Hu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Dt(Hu),Gu=E({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Dt(Gu),nn=E({},He,{newState:0,oldState:0}),Qu=Dt(nn),Ku=[9,13,27,32],ir=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!ir||c&&8<c&&11>=c),w=" ",z=!1;function K(t,r){switch(t){case"keyup":return Ku.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function bt(t,r){switch(t){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return t=r.data,t===w&&z?null:t;default:return null}}function ke(t,r){if(Ve)return t==="compositionend"||!ir&&K(t,r)?(t=qo(),Or=pi=er=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ot[t.type]:r==="textarea"}function Pr(t,r,a,l){xr?Dr?Dr.push(l):Dr=[l]:xr=l,r=Mc(r,"onChange"),0<r.length&&(a=new pa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,sr=null;function Yo(t){F_(t,0)}function Yu(t){var r=Jn(t);if(jo(r))return t}function hg(t,r){if(t==="change")return r}var fg=!1;if(zn){var Ef;if(zn){var Tf="oninput"in document;if(!Tf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Tf=typeof dg.oninput=="function"}Ef=Tf}else Ef=!1;fg=Ef&&(!document.documentMode||9<document.documentMode)}function mg(){zt&&(zt.detachEvent("onpropertychange",pg),sr=zt=null)}function pg(t){if(t.propertyName==="value"&&Yu(sr)){var r=[];Pr(r,sr,t,wn(t)),Pu(Yo,r)}}function SS(t,r,a){t==="focusin"?(mg(),zt=r,sr=a,zt.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function AS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(sr)}function wS(t,r){if(t==="click")return Yu(r)}function bS(t,r){if(t==="input"||t==="change")return Yu(r)}function RS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fn=typeof Object.is=="function"?Object.is:RS;function $o(t,r){if(fn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ss.call(r,h)||!fn(t[h],r[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,r){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?_g(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=gs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=gs(t.document)}return r}function Sf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var CS=zn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Af=null,Xo=null,wf=!1;function Eg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Aa==null||Aa!==gs(l)||(l=Aa,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&$o(Xo,l)||(Xo=l,l=Mc(Af,"onSelect"),0<l.length&&(r=new pa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Aa)))}function Cs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var wa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},bf={},Tg={};zn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Is(t){if(bf[t])return bf[t];if(!wa[t])return t;var r=wa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Tg)return bf[t]=r[a];return t}var Sg=Is("animationend"),Ag=Is("animationiteration"),wg=Is("animationstart"),IS=Is("transitionrun"),NS=Is("transitionstart"),xS=Is("transitioncancel"),bg=Is("transitionend"),Rg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function Bn(t,r){Rg.set(t,r),Un(r,[t])}var Cg=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:fa(r)},Cg.set(t,r),r)}return{value:t,source:r,stack:fa(r)}}var In=[],ba=0,Cf=0;function $u(){for(var t=ba,r=Cf=ba=0;r<t;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var h=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ig(a,h,d)}}function Xu(t,r,a,l){In[ba++]=t,In[ba++]=r,In[ba++]=a,In[ba++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return Xu(t,r,a,l),Ju(t)}function Ra(t,r){return Xu(t,null,null,r),Ju(t)}function Ig(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ju(t){if(50<Tl)throw Tl=0,Pd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ca={};function DS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,a,l){return new DS(t,r,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,r){var a=t.alternate;return a===null?(a=dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Wu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Nf(t)&&(v=1);else if(typeof t=="string")v=MA(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=dn(31,a,r,h),t.elementType=I,t.lanes=d,t;case H:return Ns(a.children,h,d,r);case Y:v=8,h|=24;break;case L:return t=dn(12,a,r,h|2),t.elementType=L,t.lanes=d,t;case le:return t=dn(13,a,r,h),t.elementType=le,t.lanes=d,t;case ge:return t=dn(19,a,r,h),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case se:v=10;break e;case re:v=9;break e;case be:v=11;break e;case O:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=dn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ns(t,r,a,l){return t=dn(7,t,l,r),t.lanes=a,t}function xf(t,r,a){return t=dn(6,t,null,r),t.lanes=a,t}function Df(t,r,a){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ia=[],Na=0,Zu=null,ec=0,Nn=[],xn=0,xs=null,kr=1,Lr="";function Ds(t,r){Ia[Na++]=ec,Ia[Na++]=Zu,Zu=t,ec=r}function xg(t,r,a){Nn[xn++]=kr,Nn[xn++]=Lr,Nn[xn++]=xs,xs=t;var l=kr;t=Lr;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,kr=1<<32-Kt(r)+h|a<<h|l,Lr=d+t}else kr=1<<d|a<<h|l,Lr=t}function Of(t){t.return!==null&&(Ds(t,1),xg(t,1,0))}function Mf(t){for(;t===Zu;)Zu=Ia[--Na],Ia[Na]=null,ec=Ia[--Na],Ia[Na]=null;for(;t===xs;)xs=Nn[--xn],Nn[xn]=null,Lr=Nn[--xn],Nn[xn]=null,kr=Nn[--xn],Nn[xn]=null}var rn=null,ct=null,Be=!1,Os=null,ar=!1,Pf=Error(s(519));function Ms(t){var r=Error(s(418,""));throw Zo(Cn(r,t)),Pf}function Dg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[wt]=t,r[yt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)De(Al[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),ys(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),da(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),_s(r,l.value,l.defaultValue,l.children),da(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Y_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||Ms(t)}function Og(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:rn=rn.return}}function Jo(t){if(t!==rn)return!1;if(!Be)return Og(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&ct&&Ms(t),Og(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,Di(t.type)?(t=em,em=null,ct=t):ct=r):ct=rn?Hn(t.stateNode.nextSibling):null;return!0}function Wo(){ct=rn=null,Be=!1}function Mg(){var t=Os;return t!==null&&(on===null?on=t:on.push.apply(on,t),Os=null),t}function Zo(t){Os===null?Os=[t]:Os.push(t)}var Vf=te(null),Ps=null,jr=null;function gi(t,r,a){ne(Vf,r._currentValue),r._currentValue=a}function Ur(t){t._currentValue=Vf.current,oe(Vf)}function kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Lf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var C=0;C<r.length;C++)if(S.context===r[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),kf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),kf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function el(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===xt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Lf(r,t,a,l),r.flags|=262144}function tc(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ps=t,jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Pg(Ps,t)}function nc(t,r){return Ps===null&&Vs(t),Pg(t,r)}function Pg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},jr===null){if(t===null)throw Error(s(308));jr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else jr=jr.next=r;return a}var OS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},MS=i.unstable_scheduleCallback,PS=i.unstable_NormalPriority,Ct={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new OS,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&MS(PS,function(){t.controller.abort()})}var nl=null,Uf=0,xa=0,Da=null;function VS(t,r){if(nl===null){var a=nl=[];Uf=0,xa=Bd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,r.then(Vg,Vg),r}function Vg(){if(--Uf===0&&nl!==null){Da!==null&&(Da.status="fulfilled");var t=nl;nl=null,xa=0,Da=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function kS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&VS(t,r),kg!==null&&kg(t,r)};var ks=te(null);function zf(){var t=ks.current;return t!==null?t:et.pooledCache}function rc(t,r){r===null?ne(ks,ks.current):ne(ks,r.pool)}function Lg(){var t=zf();return t===null?null:{parent:Ct._currentValue,pool:t}}var rl=Error(s(460)),jg=Error(s(474)),ic=Error(s(542)),Bf={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sc(){}function zg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(sc,sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,qg(t),t;default:if(typeof r.status=="string")r.then(sc,sc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,qg(t),t}throw il=r,rl}}var il=null;function Bg(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function qg(t){if(t===rl||t===ic)throw Error(s(483))}var yi=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ju(t),Ig(t,null,a),r}return Xu(t,l,r,a),Ju(t)}function sl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}function Ff(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Gf=!1;function al(){if(Gf){var t=Da;if(t!==null)throw t}}function ol(t,r,a,l){Gf=!1;var h=t.updateQueue;yi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,q=C.next;C.next=null,v===null?d=q:v.next=q,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=q:S.next=q,X.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,X=q=C=null,S=d;do{var F=S.lane&-536870913,G=F!==S.lane;if(G?(Le&F)===F:(l&F)===F){F!==0&&F===xa&&(Gf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=t,ye=S;F=r;var Je=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){Z=Te.call(Je,Z,F);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,F=typeof Te=="function"?Te.call(Je,Z,F):Te,F==null)break e;Z=E({},Z,F);break e;case 2:yi=!0}}F=S.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(q=X=G,C=Z):X=X.next=G,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ci|=v,t.lanes=v,t.memoizedState=Z}}function Hg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Fg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],r)}var Oa=te(null),ac=te(0);function Gg(t,r){t=Qr,ne(ac,t),ne(Oa,r),Qr=t|r.baseLanes}function Qf(){ne(ac,Qr),ne(Oa,Oa.current)}function Kf(){Qr=ac.current,oe(Oa),oe(ac)}var Ei=0,Ce=null,$e=null,vt=null,oc=!1,Ma=!1,Ls=!1,lc=0,ll=0,Pa=null,LS=0;function dt(){throw Error(s(321))}function Yf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!fn(t[a],r[a]))return!1;return!0}function $f(t,r,a,l,h,d){return Ei=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?Iy:Ny,Ls=!1,d=a(l,h),Ls=!1,Ma&&(d=Kg(r,a,l,h)),Qg(t),d}function Qg(t){$.H=mc;var r=$e!==null&&$e.next!==null;if(Ei=0,vt=$e=Ce=null,oc=!1,ll=0,Pa=null,r)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&tc(t)&&(Mt=!0))}function Kg(t,r,a,l){Ce=t;var h=0;do{if(Ma&&(Pa=null),ll=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=FS,d=r(a,l)}while(Ma);return d}function jS(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?ul(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ce.flags|=1024),r}function Xf(){var t=lc!==0;return lc=0,t}function Jf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Wf(t){if(oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}oc=!1}Ei=0,vt=$e=Ce=null,Ma=!1,ll=lc=0,Pa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ce.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=vt===null?Ce.memoizedState:vt.next;if(r!==null)vt=r,$e=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ce.memoizedState=vt=t:vt=vt.next=t}return vt}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var r=ll;return ll+=1,Pa===null&&(Pa=[]),t=zg(Pa,t,r),r=Ce,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Iy:Ny),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===se)return Yt(t)}throw Error(s(438,String(t)))}function ed(t){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Zf(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function zr(t,r){return typeof r=="function"?r(t):r}function cc(t){var r=Et();return td(r,$e,t)}function td(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var S=v=null,C=null,q=r,X=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Le&Z)===Z:(Ei&Z)===Z){var F=q.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===xa&&(X=!0);else if((Ei&F)===F){q=q.next,F===xa&&(X=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(S=C=Z,v=d):C=C.next=Z,Ce.lanes|=F,Ci|=F;Z=q.action,Ls&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else F={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(S=C=F,v=d):C=C.next=F,Ce.lanes|=Z,Ci|=Z;q=q.next}while(q!==null&&q!==r);if(C===null?v=d:C.next=S,!fn(d,t.memoizedState)&&(Mt=!0,X&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(t,r,a){var l=Ce,h=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!fn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var S=Jg.bind(null,l,h,t);if(cl(2048,8,S,[t]),h.getSnapshot!==r||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Va(9,hc(),Xg.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(Ei&124)!==0||$g(l,r,a)}return a}function $g(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=Zf(),Ce.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Xg(t,r,a,l){r.value=a,r.getSnapshot=l,Wg(r)&&Zg(t)}function Jg(t,r,a){return a(function(){Wg(r)&&Zg(t)})}function Wg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!fn(t,a)}catch{return!0}}function Zg(t){var r=Ra(t,2);r!==null&&_n(r,t,2)}function rd(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),Ls){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},r}function ey(t,r,a,l){return t.baseState=a,td(t,$e,typeof l=="function"?l:zr)}function US(t,r,a,l,h){if(dc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ty(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ty(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,v={};$.T=v;try{var S=a(h,l),C=$.S;C!==null&&C(v,S),ny(t,r,S)}catch(q){id(t,r,q)}finally{$.T=d}}else try{d=a(h,l),ny(t,r,d)}catch(q){id(t,r,q)}}function ny(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ry(t,r,l)},function(l){return id(t,r,l)}):ry(t,r,a)}function ry(t,r,a){r.status="fulfilled",r.value=a,iy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ty(t,a)))}function id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,iy(r),r=r.next;while(r!==l)}t.action=null}function iy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function sy(t,r){return r}function ay(t,r){if(Be){var a=et.formState;if(a!==null){e:{var l=Ce;if(Be){if(ct){t:{for(var h=ct,d=ar;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Hn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:r},a.queue=l,a=by.bind(null,Ce,l),l.dispatch=a,l=rd(!1),d=ud.bind(null,Ce,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=US.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function oy(t){var r=Et();return ly(r,$e,t)}function ly(t,r,a){if(r=td(t,r,sy)[0],t=cc(zr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ul(r)}catch(v){throw v===rl?ic:v}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ce.flags|=2048,Va(9,hc(),zS.bind(null,h,a),null)),[l,d,t]}function zS(t,r){t.action=r}function uy(t){var r=Et(),a=$e;if(a!==null)return ly(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Va(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=Zf(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function hc(){return{destroy:void 0,resource:void 0}}function cy(){return Et().memoizedState}function fc(t,r,a,l){var h=sn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Va(1|r,hc(),a,l)}function cl(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Yf(l,$e.memoizedState.deps)?h.memoizedState=Va(r,d,a,l):(Ce.flags|=t,h.memoizedState=Va(1|r,d,a,l))}function hy(t,r){fc(8390656,8,t,r)}function fy(t,r){cl(2048,8,t,r)}function dy(t,r){return cl(4,2,t,r)}function my(t,r){return cl(4,4,t,r)}function py(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gy(t,r,a){a=a!=null?a.concat([t]):null,cl(4,4,py.bind(null,r,t),a)}function sd(){}function yy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function _y(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),Ls){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function ad(t,r,a){return a===void 0||(Ei&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=T_(),Ce.lanes|=t,Ci|=t,a)}function vy(t,r,a,l){return fn(a,r)?a:Oa.current!==null?(t=ad(t,a,l),fn(t,r)||(Mt=!0),t):(Ei&42)===0?(Mt=!0,t.memoizedState=a):(t=T_(),Ce.lanes|=t,Ci|=t,r)}function Ey(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=$.T,S={};$.T=S,ud(t,!1,r,a);try{var C=h(),q=$.S;if(q!==null&&q(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=kS(C,l);hl(t,r,X,yn(t))}else hl(t,r,l,yn(t))}catch(Z){hl(t,r,{then:function(){},status:"rejected",reason:Z},yn())}finally{ae.p=d,$.T=v}}function BS(){}function od(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ty(t).queue;Ey(t,h,r,de,a===null?BS:function(){return Sy(t),a(l)})}function Ty(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Sy(t){var r=Ty(t).next.queue;hl(t,r,{},yn())}function ld(){return Yt(Nl)}function Ay(){return Et().memoizedState}function wy(){return Et().memoizedState}function qS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();t=_i(a);var l=vi(r,t,a);l!==null&&(_n(l,r,a),sl(l,r,a)),r={cache:jf()},t.payload=r;return}r=r.return}}function HS(t,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?Ry(r,a):(a=If(t,r,a,l),a!==null&&(_n(a,t,l),Cy(a,r,l)))}function by(t,r,a){var l=yn();hl(t,r,a,l)}function hl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))Ry(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,fn(S,v))return Xu(t,r,h,0),et===null&&$u(),!1}catch{}finally{}if(a=If(t,r,h,l),a!==null)return _n(a,t,l),Cy(a,r,l),!0}return!1}function ud(t,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&_n(r,t,2)}function dc(t){var r=t.alternate;return t===Ce||r!==null&&r===Ce}function Ry(t,r){Ma=oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Cy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}var mc={readContext:Yt,use:uc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Iy={readContext:Yt,use:uc,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:hy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,fc(4194308,4,py.bind(null,r,t),a)},useLayoutEffect:function(t,r){return fc(4194308,4,t,r)},useInsertionEffect:function(t,r){fc(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(Ls){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(Ls){cn(!0);try{a(r)}finally{cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=HS.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=rd(t);var r=t.queue,a=by.bind(null,Ce,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,r){var a=sn();return ad(a,t,r)},useTransition:function(){var t=rd(!1);return t=Ey.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ce,h=sn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Le&124)!==0||$g(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,hc(),Xg.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=et.identifierPrefix;if(Be){var a=Lr,l=kr;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=LS++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:ay,useActionState:ay,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,Ce,!0,a),a.dispatch=r,[t,r]},useMemoCache:ed,useCacheRefresh:function(){return sn().memoizedState=qS.bind(null,Ce)}},Ny={readContext:Yt,use:uc,useCallback:yy,useContext:Yt,useEffect:fy,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:cc,useRef:cy,useState:function(){return cc(zr)},useDebugValue:sd,useDeferredValue:function(t,r){var a=Et();return vy(a,$e.memoizedState,t,r)},useTransition:function(){var t=cc(zr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:Yg,useId:Ay,useHostTransitionStatus:ld,useFormState:oy,useActionState:oy,useOptimistic:function(t,r){var a=Et();return ey(a,$e,t,r)},useMemoCache:ed,useCacheRefresh:wy},FS={readContext:Yt,use:uc,useCallback:yy,useContext:Yt,useEffect:fy,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:nd,useRef:cy,useState:function(){return nd(zr)},useDebugValue:sd,useDeferredValue:function(t,r){var a=Et();return $e===null?ad(a,t,r):vy(a,$e.memoizedState,t,r)},useTransition:function(){var t=nd(zr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),r]},useSyncExternalStore:Yg,useId:Ay,useHostTransitionStatus:ld,useFormState:uy,useActionState:uy,useOptimistic:function(t,r){var a=Et();return $e!==null?ey(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:wy},ka=null,fl=0;function pc(t){var r=fl;return fl+=1,ka===null&&(ka=[]),zg(ka,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function gc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function xy(t){var r=t._init;return r(t._payload)}function Dy(t){function r(k,D){if(t){var B=k.deletions;B===null?(k.deletions=[D],k.flags|=16):B.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)r(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Vr(k,D),k.index=0,k.sibling=null,k}function d(k,D,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<D?(k.flags|=67108866,D):B):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function S(k,D,B,J){return D===null||D.tag!==6?(D=xf(B,k.mode,J),D.return=k,D):(D=h(D,B),D.return=k,D)}function C(k,D,B,J){var he=B.type;return he===H?X(k,D,B.props.children,J,B.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&xy(he)===D.type)?(D=h(D,B.props),dl(D,B),D.return=k,D):(D=Wu(B.type,B.key,B.props,null,k.mode,J),dl(D,B),D.return=k,D)}function q(k,D,B,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=Df(B,k.mode,J),D.return=k,D):(D=h(D,B.children||[]),D.return=k,D)}function X(k,D,B,J,he){return D===null||D.tag!==7?(D=Ns(B,k.mode,J,he),D.return=k,D):(D=h(D,B),D.return=k,D)}function Z(k,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=xf(""+D,k.mode,B),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return B=Wu(D.type,D.key,D.props,null,k.mode,B),dl(B,D),B.return=k,B;case P:return D=Df(D,k.mode,B),D.return=k,D;case R:var J=D._init;return D=J(D._payload),Z(k,D,B)}if(lt(D)||j(D))return D=Ns(D,k.mode,B,null),D.return=k,D;if(typeof D.then=="function")return Z(k,pc(D),B);if(D.$$typeof===se)return Z(k,nc(k,D),B);gc(k,D)}return null}function F(k,D,B,J){var he=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:S(k,D,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===he?C(k,D,B,J):null;case P:return B.key===he?q(k,D,B,J):null;case R:return he=B._init,B=he(B._payload),F(k,D,B,J)}if(lt(B)||j(B))return he!==null?null:X(k,D,B,J,null);if(typeof B.then=="function")return F(k,D,pc(B),J);if(B.$$typeof===se)return F(k,D,nc(k,B),J);gc(k,B)}return null}function G(k,D,B,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(B)||null,S(D,k,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return k=k.get(J.key===null?B:J.key)||null,C(D,k,J,he);case P:return k=k.get(J.key===null?B:J.key)||null,q(D,k,J,he);case R:var Ne=J._init;return J=Ne(J._payload),G(k,D,B,J,he)}if(lt(J)||j(J))return k=k.get(B)||null,X(D,k,J,he,null);if(typeof J.then=="function")return G(k,D,B,pc(J),he);if(J.$$typeof===se)return G(k,D,B,nc(D,J),he);gc(D,J)}return null}function Te(k,D,B,J){for(var he=null,Ne=null,fe=D,_e=D=0,Vt=null;fe!==null&&_e<B.length;_e++){fe.index>_e?(Vt=fe,fe=null):Vt=fe.sibling;var Ue=F(k,fe,B[_e],J);if(Ue===null){fe===null&&(fe=Vt);break}t&&fe&&Ue.alternate===null&&r(k,fe),D=d(Ue,D,_e),Ne===null?he=Ue:Ne.sibling=Ue,Ne=Ue,fe=Vt}if(_e===B.length)return a(k,fe),Be&&Ds(k,_e),he;if(fe===null){for(;_e<B.length;_e++)fe=Z(k,B[_e],J),fe!==null&&(D=d(fe,D,_e),Ne===null?he=fe:Ne.sibling=fe,Ne=fe);return Be&&Ds(k,_e),he}for(fe=l(fe);_e<B.length;_e++)Vt=G(fe,k,_e,B[_e],J),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?_e:Vt.key),D=d(Vt,D,_e),Ne===null?he=Vt:Ne.sibling=Vt,Ne=Vt);return t&&fe.forEach(function(ki){return r(k,ki)}),Be&&Ds(k,_e),he}function ye(k,D,B,J){if(B==null)throw Error(s(151));for(var he=null,Ne=null,fe=D,_e=D=0,Vt=null,Ue=B.next();fe!==null&&!Ue.done;_e++,Ue=B.next()){fe.index>_e?(Vt=fe,fe=null):Vt=fe.sibling;var ki=F(k,fe,Ue.value,J);if(ki===null){fe===null&&(fe=Vt);break}t&&fe&&ki.alternate===null&&r(k,fe),D=d(ki,D,_e),Ne===null?he=ki:Ne.sibling=ki,Ne=ki,fe=Vt}if(Ue.done)return a(k,fe),Be&&Ds(k,_e),he;if(fe===null){for(;!Ue.done;_e++,Ue=B.next())Ue=Z(k,Ue.value,J),Ue!==null&&(D=d(Ue,D,_e),Ne===null?he=Ue:Ne.sibling=Ue,Ne=Ue);return Be&&Ds(k,_e),he}for(fe=l(fe);!Ue.done;_e++,Ue=B.next())Ue=G(fe,k,_e,Ue.value,J),Ue!==null&&(t&&Ue.alternate!==null&&fe.delete(Ue.key===null?_e:Ue.key),D=d(Ue,D,_e),Ne===null?he=Ue:Ne.sibling=Ue,Ne=Ue);return t&&fe.forEach(function(GA){return r(k,GA)}),Be&&Ds(k,_e),he}function Je(k,D,B,J){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var he=B.key;D!==null;){if(D.key===he){if(he=B.type,he===H){if(D.tag===7){a(k,D.sibling),J=h(D,B.props.children),J.return=k,k=J;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&xy(he)===D.type){a(k,D.sibling),J=h(D,B.props),dl(J,B),J.return=k,k=J;break e}a(k,D);break}else r(k,D);D=D.sibling}B.type===H?(J=Ns(B.props.children,k.mode,J,B.key),J.return=k,k=J):(J=Wu(B.type,B.key,B.props,null,k.mode,J),dl(J,B),J.return=k,k=J)}return v(k);case P:e:{for(he=B.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){a(k,D.sibling),J=h(D,B.children||[]),J.return=k,k=J;break e}else{a(k,D);break}else r(k,D);D=D.sibling}J=Df(B,k.mode,J),J.return=k,k=J}return v(k);case R:return he=B._init,B=he(B._payload),Je(k,D,B,J)}if(lt(B))return Te(k,D,B,J);if(j(B)){if(he=j(B),typeof he!="function")throw Error(s(150));return B=he.call(B),ye(k,D,B,J)}if(typeof B.then=="function")return Je(k,D,pc(B),J);if(B.$$typeof===se)return Je(k,D,nc(k,B),J);gc(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(a(k,D.sibling),J=h(D,B),J.return=k,k=J):(a(k,D),J=xf(B,k.mode,J),J.return=k,k=J),v(k)):a(k,D)}return function(k,D,B,J){try{fl=0;var he=Je(k,D,B,J);return ka=null,he}catch(fe){if(fe===rl||fe===ic)throw fe;var Ne=dn(29,fe,null,k.mode);return Ne.lanes=J,Ne.return=k,Ne}finally{}}}var La=Dy(!0),Oy=Dy(!1),Dn=te(null),or=null;function Ti(t){var r=t.alternate;ne(It,It.current&1),ne(Dn,t),or===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(or=t)}function My(t){if(t.tag===22){if(ne(It,It.current),ne(Dn,t),or===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(or=t)}}else Si()}function Si(){ne(It,It.current),ne(Dn,Dn.current)}function Br(t){oe(Dn),or===t&&(or=null),oe(It)}var It=te(0);function yc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=yn(),h=_i(l);h.payload=r,a!=null&&(h.callback=a),r=vi(t,h,l),r!==null&&(_n(r,t,l),sl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=yn(),h=_i(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=vi(t,h,l),r!==null&&(_n(r,t,l),sl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=yn(),l=_i(a);l.tag=2,r!=null&&(l.callback=r),r=vi(t,l,a),r!==null&&(_n(r,t,a),sl(r,t,a))}};function Py(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function Vy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&hd.enqueueReplaceState(r,r.state,null)}function js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ky(t){_c(t)}function Ly(t){console.error(t)}function jy(t){_c(t)}function vc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,r,a){return a=_i(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,r)},a}function zy(t){return t=_i(t),t.tag=3,t}function By(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Uy(r,a,l),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function GS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&el(r,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return or===null?kd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),jd(t,l,h)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),jd(t,l,h)),!1}throw Error(s(435,a.tag))}return jd(t,l,h),kd(),!1}if(Be)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Pf&&(t=Error(s(422),{cause:l}),Zo(Cn(t,a)))):(l!==Pf&&(r=Error(s(423),{cause:l}),Zo(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=fd(t.stateNode,l,h),Ff(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),El===null?El=[d]:El.push(d),ht!==4&&(ht=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,l,t),Ff(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ii===null||!Ii.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zy(h),By(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var qy=Error(s(461)),Mt=!1;function Bt(t,r,a,l){r.child=t===null?Oy(r,null,a,l):La(r,t.child,a,l)}function Hy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Vs(r),l=$f(t,r,a,v,d,h),S=Xf(),t!==null&&!Mt?(Jf(t,r,h),qr(t,r,h)):(Be&&S&&Of(r),r.flags|=1,Bt(t,r,l,h),r.child)}function Fy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Gy(t,r,d,l,h)):(t=Wu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ed(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(v,l)&&t.ref===r.ref)return qr(t,r,h)}return r.flags|=1,t=Vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Gy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,Ed(t,h))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,qr(t,r,h)}return dd(t,r,a,l,h)}function Qy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ky(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(r,d!==null?d.cachePool:null),d!==null?Gg(r,d):Qf(),My(r);else return r.lanes=r.childLanes=536870912,Ky(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(r,d.cachePool),Gg(r,d),Si(),r.memoizedState=null):(t!==null&&rc(r,null),Qf(),Si());return Bt(t,r,h,a),r.child}function Ky(t,r,a,l){var h=zf();return h=h===null?null:{parent:Ct._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&rc(r,null),Qf(),My(r),t!==null&&el(t,r,l,!0),null}function Ec(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function dd(t,r,a,l,h){return Vs(r),a=$f(t,r,a,l,void 0,h),l=Xf(),t!==null&&!Mt?(Jf(t,r,h),qr(t,r,h)):(Be&&l&&Of(r),r.flags|=1,Bt(t,r,a,h),r.child)}function Yy(t,r,a,l,h,d){return Vs(r),r.updateQueue=null,a=Kg(r,l,a,h),Qg(t),l=Xf(),t!==null&&!Mt?(Jf(t,r,d),qr(t,r,d)):(Be&&l&&Of(r),r.flags|=1,Bt(t,r,a,d),r.child)}function $y(t,r,a,l,h){if(Vs(r),r.stateNode===null){var d=Ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},qf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ca,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(cd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hd.enqueueReplaceState(d,d.state,null),ol(r,l,d,h),al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,C=js(a,S);d.props=C;var q=d.context,X=a.contextType;v=Ca,typeof X=="object"&&X!==null&&(v=Yt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==v)&&Vy(r,d,l,v),yi=!1;var F=r.memoizedState;d.state=F,ol(r,l,d,h),al(),q=r.memoizedState,S||F!==q||yi?(typeof Z=="function"&&(cd(r,a,Z,l),q=r.memoizedState),(C=yi||Py(r,a,C,l,F,q,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Hf(t,r),v=r.memoizedProps,X=js(a,v),d.props=X,Z=r.pendingProps,F=d.context,q=a.contextType,C=Ca,typeof q=="object"&&q!==null&&(C=Yt(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==C)&&Vy(r,d,l,C),yi=!1,F=r.memoizedState,d.state=F,ol(r,l,d,h),al();var G=r.memoizedState;v!==Z||F!==G||yi||t!==null&&t.dependencies!==null&&tc(t.dependencies)?(typeof S=="function"&&(cd(r,a,S,l),G=r.memoizedState),(X=yi||Py(r,a,X,l,F,G,C)||t!==null&&t.dependencies!==null&&tc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ec(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=La(r,t.child,null,h),r.child=La(r,null,a,h)):Bt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qr(t,r,h),t}function Xy(t,r,a,l){return Wo(),r.flags|=256,Bt(t,r,a,l),r.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Lg()}}function gd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=On),t}function Jy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?Ti(r):Si(),Be){var S=ct,C;if(C=S){e:{for(C=S,S=ar;C.nodeType!==8;){if(!S){S=null;break e}if(C=Hn(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(r.memoizedState={dehydrated:S,treeContext:xs!==null?{id:kr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},C=dn(18,null,null,0),C.stateNode=S,C.return=r,r.child=C,rn=r,ct=null,C=!0):C=!1}C||Ms(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Zd(S)?r.lanes=32:r.lanes=536870912,null;Br(r)}return S=l.children,l=l.fallback,h?(Si(),h=r.mode,S=Tc({mode:"hidden",children:S},h),l=Ns(l,h,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,h=r.child,h.memoizedState=pd(a),h.childLanes=gd(t,v,a),r.memoizedState=md,l):(Ti(r),yd(r,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)r.flags&256?(Ti(r),r.flags&=-257,r=_d(t,r,a)):r.memoizedState!==null?(Si(),r.child=t.child,r.flags|=128,r=null):(Si(),h=l.fallback,S=r.mode,l=Tc({mode:"visible",children:l.children},S),h=Ns(h,S,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,La(r,t.child,null,a),l=r.child,l.memoizedState=pd(a),l.childLanes=gd(t,v,a),r.memoizedState=md,r=h);else if(Ti(r),Zd(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),r=_d(t,r,a)}else if(Mt||el(t,r,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:ui(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ra(t,l),_n(v,t,l),qy;S.data==="$?"||kd(),r=_d(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ct=Hn(S.nextSibling),rn=r,Be=!0,Os=null,ar=!1,t!==null&&(Nn[xn++]=kr,Nn[xn++]=Lr,Nn[xn++]=xs,kr=t.id,Lr=t.overflow,xs=r),r=yd(r,l.children),r.flags|=4096);return r}return h?(Si(),h=l.fallback,S=r.mode,C=t.child,q=C.sibling,l=Vr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Vr(q,h):(h=Ns(h,S,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,S=t.child.memoizedState,S===null?S=pd(a):(C=S.cachePool,C!==null?(q=Ct._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Lg(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=gd(t,v,a),r.memoizedState=md,l):(Ti(r),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function yd(t,r){return r=Tc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Tc(t,r){return t=dn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function _d(t,r,a){return La(r,t.child,null,a),t=yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Wy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),kf(t.return,r,a)}function vd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Zy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,r);else if(t.tag===19)Wy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ne(It,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&yc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),vd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&yc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}vd(r,!0,a,null,d);break;case"together":vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ci|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(el(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&tc(t)))}function QS(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),gi(r,Ct,t.memoizedState.cache),Wo();break;case 27:case 5:li(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:gi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ti(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Jy(t,r,a):(Ti(r),t=qr(t,r,a),t!==null?t.sibling:null);Ti(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(el(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Zy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,Qy(t,r,a);case 24:gi(r,Ct,t.memoizedState.cache)}return qr(t,r,a)}function e_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Ed(t,a)&&(r.flags&128)===0)return Mt=!1,QS(t,r,a);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(r.flags&1048576)!==0&&xg(r,ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Nf(l)?(t=js(l,t),r.tag=1,r=$y(null,r,l,t,a)):(r.tag=0,r=dd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===be){r.tag=11,r=Hy(null,r,l,t,a);break e}else if(h===O){r.tag=14,r=Fy(null,r,l,t,a);break e}}throw r=jt(l)||l,Error(s(306,r,""))}}return r;case 0:return dd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),$y(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Hf(t,r),ol(r,l,null,a);var v=r.memoizedState;if(l=v.cache,gi(r,Ct,l),l!==d.cache&&Lf(r,[Ct],a,!0),al(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Xy(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),Zo(h),r=Xy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Hn(t.firstChild),rn=r,Be=!0,Os=null,ar=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){r=qr(t,r,a);break e}Bt(t,r,l,a)}r=r.child}return r;case 26:return Ec(t,r),t===null?(a=iv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Vc(Se.current).createElement(a),l[wt]=r,l[yt]=t,Ht(l,a,t),ft(l),r.stateNode=l):r.memoizedState=iv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return li(r),t===null&&Be&&(l=r.stateNode=tv(r.type,r.pendingProps,Se.current),rn=r,ar=!0,h=ct,Di(r.type)?(em=h,ct=Hn(l.firstChild)):ct=h),Bt(t,r,r.pendingProps.children,a),Ec(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=ct)&&(l=EA(l,r.type,r.pendingProps,ar),l!==null?(r.stateNode=l,rn=r,ct=Hn(l.firstChild),ar=!1,h=!0):h=!1),h||Ms(r)),li(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:v!==null&&Xd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=$f(t,r,jS,null,null,a),Nl._currentValue=h),Ec(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=ct)&&(a=TA(a,r.pendingProps,ar),a!==null?(r.stateNode=a,rn=r,ct=null,t=!0):t=!1),t||Ms(r)),null;case 13:return Jy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=La(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return Hy(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gi(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Vs(r),h=Yt(h),l=l(h),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return Fy(t,r,r.type,r.pendingProps,a);case 15:return Gy(t,r,r.type,r.pendingProps,a);case 19:return Zy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Tc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Qy(t,r,a);case 24:return Vs(r),l=Yt(Ct),t===null?(h=zf(),h===null&&(h=et,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},qf(r),gi(r,Ct,h)):((t.lanes&a)!==0&&(Hf(t,r),ol(r,null,null,a),al()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),gi(r,Ct,l)):(l=d.cache,gi(r,Ct,l),l!==h.cache&&Lf(r,[Ct],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Hr(t){t.flags|=4}function t_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uv(r)){if(r=Dn.current,r!==null&&((Le&4194048)===Le?or!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==or))throw il=Bf,jg;t.flags|=8192}}function Sc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Do():536870912,t.lanes|=r,Ba|=r)}function ml(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function KS(t,r,a){var l=r.pendingProps;switch(Mf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ur(Ct),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Jo(r)?Hr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mg())),st(r),null;case 26:return a=r.memoizedState,t===null?(Hr(r),a!==null?(st(r),t_(r,a)):(st(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Hr(r),st(r),t_(r,a)):(st(r),r.flags&=-16777217):(t.memoizedProps!==l&&Hr(r),st(r),r.flags&=-16777217),null;case 27:Sr(r),a=Se.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=pe.current,Jo(r)?Dg(r):(t=tv(h,l,a),r.stateNode=t,Hr(r))}return st(r),null;case 5:if(Sr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(t=pe.current,Jo(r))Dg(r);else{switch(h=Vc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[wt]=r,t[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hr(r)}}return st(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Se.current,Jo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,a)),t||Ms(r)}else t=Vc(t).createTextNode(l),t[wt]=r,r.stateNode=t}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Jo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=Mg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Br(r),r):(Br(r),null)}if(Br(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),st(r),null;case 4:return Yn(),t===null&&Gd(r.stateNode.containerInfo),st(r),null;case 10:return Ur(r.type),st(r),null;case 19:if(oe(It),h=r.memoizedState,h===null)return st(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ml(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=yc(t),d!==null){for(r.flags|=128,ml(h,!1),t=d.updateQueue,r.updateQueue=t,Sc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ng(a,t),a=a.sibling;return ne(It,It.current&1|2),r.child}t=t.sibling}h.tail!==null&&Tn()>bc&&(r.flags|=128,l=!0,ml(h,!1),r.lanes=4194304)}else{if(!l)if(t=yc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Sc(r,t),ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return st(r),null}else 2*Tn()-h.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,ml(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Tn(),r.sibling=null,t=It.current,ne(It,l?t&1|2:t&1),r):(st(r),null);case 22:case 23:return Br(r),Kf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ur(Ct),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function YS(t,r){switch(Mf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ur(Ct),Yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Sr(r),null;case 13:if(Br(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(It),null;case 4:return Yn(),null;case 10:return Ur(r.type),null;case 22:case 23:return Br(r),Kf(),t!==null&&oe(ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ur(Ct),null;case 25:return null;default:return null}}function n_(t,r){switch(Mf(r),r.tag){case 3:Ur(Ct),Yn();break;case 26:case 27:case 5:Sr(r);break;case 4:Yn();break;case 13:Br(r);break;case 19:oe(It);break;case 10:Ur(r.type);break;case 22:case 23:Br(r),Kf(),t!==null&&oe(ks);break;case 24:Ur(Ct)}}function pl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){We(r,r.return,S)}}function Ai(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=r;var C=a,q=S;try{q()}catch(X){We(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function r_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Fg(r,a)}catch(l){We(t,t.return,l)}}}function i_(t,r,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function gl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function lr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function s_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Td(t,r,a){try{var l=t.stateNode;pA(l,t.type,a,r),l[yt]=r}catch(h){We(t,t.return,h)}}function a_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Di(t.type)||t.tag===4}function Sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ad(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Ad(t,r,a),t=t.sibling;t!==null;)Ad(t,r,a),t=t.sibling}function Ac(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,r,a),t=t.sibling;t!==null;)Ac(t,r,a),t=t.sibling}function o_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ht(r,l,a),r[wt]=t,r[yt]=a}catch(d){We(t,t.return,d)}}var Fr=!1,mt=!1,wd=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function $S(t,r){if(t=t.containerInfo,Yd=Bc,t=vg(t),Sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,q=0,X=0,Z=t,F=null;t:for(;;){for(var G;Z!==a||h!==0&&Z.nodeType!==3||(S=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(G=Z.firstChild)!==null;)F=Z,Z=G;for(;;){if(Z===t)break t;if(F===a&&++q===h&&(S=v),F===d&&++X===l&&(C=v),(G=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=G}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Bc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function u_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&pl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&r_(a),l&512&&gl(a,a.return);break;case 3:if(wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Fg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&o_(a);case 26:case 5:wi(t,a),r===null&&l&4&&s_(a),l&512&&gl(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&f_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=iA.bind(null,a),SA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fr,!l){r=r!==null&&r.memoizedState!==null||mt,h=Fr;var d=mt;Fr=l,(mt=r)&&!d?bi(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),Fr=h,mt=d}break;case 30:break;default:wi(t,a)}}function c_(t){var r=t.alternate;r!==null&&(t.alternate=null,c_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,an=!1;function Gr(t,r,a){for(a=a.child;a!==null;)h_(t,r,a),a=a.sibling}function h_(t,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||lr(a,r),Gr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||lr(a,r);var l=it,h=an;Di(a.type)&&(it=a.stateNode,an=!1),Gr(t,r,a),bl(a.stateNode),it=l,an=h;break;case 5:mt||lr(a,r);case 6:if(l=it,h=an,it=null,Gr(t,r,a),it=l,an=h,it!==null)if(an)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:it!==null&&(an?(t=it,Z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):Z_(it,a.stateNode));break;case 4:l=it,h=an,it=a.stateNode.containerInfo,an=!0,Gr(t,r,a),it=l,an=h;break;case 0:case 11:case 14:case 15:mt||Ai(2,a,r),mt||Ai(4,a,r),Gr(t,r,a);break;case 1:mt||(lr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,r,l)),Gr(t,r,a);break;case 21:Gr(t,r,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Gr(t,r,a),mt=l;break;default:Gr(t,r,a)}}function f_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){We(r,r.return,a)}}function XS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new l_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new l_),r;default:throw Error(s(435,t.tag))}}function bd(t,r){var a=XS(t);r.forEach(function(l){var h=sA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Di(S.type)){it=S.stateNode,an=!1;break e}break;case 5:it=S.stateNode,an=!1;break e;case 3:case 4:it=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(it===null)throw Error(s(160));h_(d,v,h),it=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)d_(r,t),r=r.sibling}var qn=null;function d_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Ai(3,t,t.return),pl(3,t),Ai(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(mt||a===null||lr(a,a.return)),l&64&&Fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(mn(r,t),pn(t),l&512&&(mt||a===null||lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ds]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,a),d[wt]=t,ft(d),l=d;break e;case"link":var v=ov("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;case"meta":if(v=ov("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,ft(d),l=d}t.stateNode=l}else lv(h,t.type,t.stateNode);else t.stateNode=av(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lv(h,t.type,t.stateNode):av(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(mt||a===null||lr(a,a.return)),a!==null&&l&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(mt||a===null||lr(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(jc=null,h=qn,qn=kc(r.containerInfo),mn(r,t),qn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch(G){We(t,t.return,G)}wd&&(wd=!1,m_(t));break;case 4:l=qn,qn=kc(t.stateNode.containerInfo),mn(r,t),pn(t),qn=l;break;case 12:mn(r,t),pn(t);break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=Tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=Fr,X=mt;if(Fr=q||h,mt=X||C,mn(r,t),mt=X,Fr=q,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Fr||mt||Us(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=C.stateNode;var Z=C.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){We(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bd(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bd(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(a_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Sd(t);Ac(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var S=Sd(t);Ac(t,S,v);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Sd(t);Ad(t,q,C);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function m_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;m_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)u_(t,r.alternate,r),r=r.sibling}function Us(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ai(4,r,r.return),Us(r);break;case 1:lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&i_(r,r.return,a),Us(r);break;case 27:bl(r.stateNode);case 26:case 5:lr(r,r.return),Us(r);break;case 22:r.memoizedState===null&&Us(r);break;case 30:Us(r);break;default:Us(r)}t=t.sibling}}function bi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:bi(h,d,a),pl(4,d);break;case 1:if(bi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Hg(C[h],S)}catch(q){We(l,l.return,q)}}a&&v&64&&r_(d),gl(d,d.return);break;case 27:o_(d);case 26:case 5:bi(h,d,a),a&&l===null&&v&4&&s_(d),gl(d,d.return);break;case 12:bi(h,d,a);break;case 13:bi(h,d,a),a&&v&4&&f_(h,d);break;case 22:d.memoizedState===null&&bi(h,d,a),gl(d,d.return);break;case 30:break;default:bi(h,d,a)}r=r.sibling}}function Rd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Cd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t))}function ur(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p_(t,r,a,l),r=r.sibling}function p_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ur(t,r,a,l),h&2048&&pl(9,r);break;case 1:ur(t,r,a,l);break;case 3:ur(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ur(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else ur(t,r,a,l);break;case 13:ur(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ur(t,r,a,l):yl(t,r):d._visibility&2?ur(t,r,a,l):(d._visibility|=2,ja(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Rd(v,r);break;case 24:ur(t,r,a,l),h&2048&&Cd(r.alternate,r);break;default:ur(t,r,a,l)}}function ja(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,S=a,C=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:ja(d,v,S,C,h),pl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ja(d,v,S,C,h):yl(d,v):(X._visibility|=2,ja(d,v,S,C,h)),h&&q&2048&&Rd(v.alternate,v);break;case 24:ja(d,v,S,C,h),h&&q&2048&&Cd(v.alternate,v);break;default:ja(d,v,S,C,h)}r=r.sibling}}function yl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:yl(a,l),h&2048&&Cd(l.alternate,l);break;default:yl(a,l)}r=r.sibling}}var _l=8192;function Ua(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)g_(t),t=t.sibling}function g_(t){switch(t.tag){case 26:Ua(t),t.flags&_l&&t.memoizedState!==null&&VA(qn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t);break;case 3:case 4:var r=qn;qn=kc(t.stateNode.containerInfo),Ua(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=_l,_l=16777216,Ua(t),_l=r):Ua(t));break;default:Ua(t)}}function y_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,v_(l,t)}y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,wc(t)):vl(t);break;default:vl(t)}}function wc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,v_(l,t)}y_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ai(8,r,r.return),wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,wc(r));break;default:wc(r)}t=t.sibling}}function v_(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ai(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(c_(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var JS={getCacheForType:function(t){var r=Yt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},WS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,et=null,xe=null,Le=0,Ke=0,gn=null,Ri=!1,za=!1,Id=!1,Qr=0,ht=0,Ci=0,zs=0,Nd=0,On=0,Ba=0,El=null,on=null,xd=!1,Dd=0,bc=1/0,Rc=null,Ii=null,qt=0,Ni=null,qa=null,Ha=0,Od=0,Md=null,E_=null,Tl=0,Pd=null;function yn(){if((Qe&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var t=xa;return t!==0?t:Bd()}return ci()}function T_(){On===0&&(On=(Le&536870912)===0||Be?xo():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),On}function _n(t,r,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),xi(t,Le,On,!1)),wr(t,a),((Qe&2)===0||t!==et)&&(t===et&&((Qe&2)===0&&(zs|=a),ht===4&&xi(t,Le,On,!1)),cr(t))}function S_(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||fs(t,r),h=l?tA(t,r):Ld(t,r,!0),d=l;do{if(h===0){za&&!l&&xi(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!ZS(a)){h=Ld(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var S=t;h=El;var C=S.current.memoizedState.isDehydrated;if(C&&(Fa(S,v).flags|=256),v=Ld(S,v,!1),v!==2){if(Id&&!C){S.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),xi(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xi(l,r,On,!Ri);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-Tn(),10<h)){if(xi(l,r,On,!Ri),oa(l,0,!0)!==0)break e;l.timeoutHandle=J_(A_.bind(null,l,a,on,Rc,xd,r,On,zs,Ba,Ri,d,2,-0,0),h);break e}A_(l,a,on,Rc,xd,r,On,zs,Ba,Ri,d,0,-0,0)}}break}while(!0);cr(t)}function A_(t,r,a,l,h,d,v,S,C,q,X,Z,F,G){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:PA},g_(r),Z=kA(),Z!==null)){t.cancelPendingCommit=Z(x_.bind(null,t,r,d,a,l,h,v,S,C,X,1,F,G)),xi(t,d,v,!q);return}x_(t,r,d,a,l,h,v,S,C)}function ZS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xi(t,r,a,l){r&=~Nd,r&=~zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&$n(t,a,r)}function Cc(){return(Qe&6)===0?(Sl(0),!1):!0}function Vd(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,jr=Ps=null,Wf(t),ka=null,fl=0,t=xe;for(;t!==null;)n_(t.alternate,t),t=t.return;xe=null}}function Fa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vd(),et=t,xe=a=Vr(t.current,null),Le=r,Ke=0,gn=null,Ri=!1,za=fs(t,r),Id=!1,Ba=On=Nd=zs=Ci=ht=0,on=El=null,xd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Kt(l),d=1<<h;r|=t[h],l&=~d}return Qr=r,$u(),a}function w_(t,r){Ce=null,$.H=mc,r===rl||r===ic?(r=Bg(),Ke=3):r===jg?(r=Bg(),Ke=4):Ke=r===qy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,xe===null&&(ht=1,vc(t,Cn(r,t.current)))}function b_(){var t=$.H;return $.H=mc,t===null?mc:t}function R_(){var t=$.A;return $.A=JS,t}function kd(){ht=4,Ri||(Le&4194048)!==Le&&Dn.current!==null||(za=!0),(Ci&134217727)===0&&(zs&134217727)===0||et===null||xi(et,Le,On,!1)}function Ld(t,r,a){var l=Qe;Qe|=2;var h=b_(),d=R_();(et!==t||Le!==r)&&(Rc=null,Fa(t,r)),r=!1;var v=ht;e:do try{if(Ke!==0&&xe!==null){var S=xe,C=gn;switch(Ke){case 8:Vd(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var q=Ke;if(Ke=0,gn=null,Ga(t,S,C,q),a&&za){v=0;break e}break;default:q=Ke,Ke=0,gn=null,Ga(t,S,C,q)}}eA(),v=ht;break}catch(X){w_(t,X)}while(!0);return r&&t.shellSuspendCounter++,jr=Ps=null,Qe=l,$.H=h,$.A=d,xe===null&&(et=null,Le=0,$u()),v}function eA(){for(;xe!==null;)C_(xe)}function tA(t,r){var a=Qe;Qe|=2;var l=b_(),h=R_();et!==t||Le!==r?(Rc=null,bc=Tn()+500,Fa(t,r)):za=fs(t,r);e:do try{if(Ke!==0&&xe!==null){r=xe;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,Ga(t,r,d,1);break;case 2:case 9:if(Ug(d)){Ke=0,gn=null,I_(r);break}r=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),cr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ug(d)?(Ke=0,gn=null,I_(r)):(Ke=0,gn=null,Ga(t,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var S=xe;if(!v||uv(v)){Ke=0,gn=null;var C=S.sibling;if(C!==null)xe=C;else{var q=S.return;q!==null?(xe=q,Ic(q)):xe=null}break t}}Ke=0,gn=null,Ga(t,r,d,5);break;case 6:Ke=0,gn=null,Ga(t,r,d,6);break;case 8:Vd(),ht=6;break e;default:throw Error(s(462))}}nA();break}catch(X){w_(t,X)}while(!0);return jr=Ps=null,$.H=l,$.A=h,Qe=a,xe!==null?0:(et=null,Le=0,$u(),ht)}function nA(){for(;xe!==null&&!Ro();)C_(xe)}function C_(t){var r=e_(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,r===null?Ic(t):xe=r}function I_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Yy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Yy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Wf(r);default:n_(a,r),r=xe=Ng(r,Qr),r=e_(a,r,Qr)}t.memoizedProps=t.pendingProps,r===null?Ic(t):xe=r}function Ga(t,r,a,l){jr=Ps=null,Wf(r),ka=null,fl=0;var h=r.return;try{if(GS(t,h,r,a,Le)){ht=1,vc(t,Cn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ht=1,vc(t,Cn(a,t.current)),xe=null;return}r.flags&32768?(Be||l===1?t=!0:za||(Le&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),N_(r,t)):Ic(r)}function Ic(t){var r=t;do{if((r.flags&32768)!==0){N_(r,Ri);return}t=r.return;var a=KS(r.alternate,r,Qr);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ht===0&&(ht=5)}function N_(t,r){do{var a=YS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ht=6,xe=null}function x_(t,r,a,l,h,d,v,S,C){t.cancelPendingCommit=null;do Nc();while(qt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Cf,Oo(t,a,d,v,S,C),t===et&&(xe=et=null,Le=0),qa=r,Ni=t,Ha=a,Od=d,Md=h,E_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aA(ls,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,v=Qe,Qe|=4;try{$S(t,r,a)}finally{Qe=v,ae.p=h,$.T=l}}qt=1,D_(),O_(),M_()}}function D_(){if(qt===1){qt=0;var t=Ni,r=qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Qe;Qe|=4;try{d_(r,t);var d=$d,v=vg(t.containerInfo),S=d.focusedElem,C=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(C!==null&&Sf(S)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var G=F.getSelection(),Te=S.textContent.length,ye=Math.min(C.start,Te),Je=C.end===void 0?ye:Math.min(C.end,Te);!G.extend&&ye>Je&&(v=Je,Je=ye,ye=v);var k=yg(S,ye),D=yg(S,Je);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var B=Z.createRange();B.setStart(k.node,k.offset),G.removeAllRanges(),ye>Je?(G.addRange(B),G.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),G.addRange(B))}}}}for(Z=[],G=S;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Bc=!!Yd,$d=Yd=null}finally{Qe=h,ae.p=l,$.T=a}}t.current=r,qt=2}}function O_(){if(qt===2){qt=0;var t=Ni,r=qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Qe;Qe|=4;try{u_(t,r.alternate,r)}finally{Qe=h,ae.p=l,$.T=a}}qt=3}}function M_(){if(qt===4||qt===3){qt=0,wu();var t=Ni,r=qa,a=Ha,l=E_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,qa=Ni=null,P_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ii=null),la(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{$.T=r,ae.p=h}}(Ha&3)!==0&&Nc(),cr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Pd?Tl++:(Tl=0,Pd=t):Tl=0,Sl(0)}}function P_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,tl(r)))}function Nc(t){return D_(),O_(),M_(),V_()}function V_(){if(qt!==5)return!1;var t=Ni,r=Od;Od=0;var a=la(Ha),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Md,Md=null;var d=Ni,v=Ha;if(qt=0,qa=Ni=null,Ha=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,__(d.current),p_(d,d.current,v,a),Qe=S,Sl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,$.T=l,P_(t,r)}}function k_(t,r,a){r=Cn(a,r),r=fd(t.stateNode,r,2),t=vi(t,r,2),t!==null&&(wr(t,2),cr(t))}function We(t,r,a){if(t.tag===3)k_(t,t,a);else for(;r!==null;){if(r.tag===3){k_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ii===null||!Ii.has(l))){t=Cn(a,t),a=zy(2),l=vi(r,a,2),l!==null&&(By(a,l,r,t),wr(l,2),cr(l));break}}r=r.return}}function jd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new WS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Id=!0,h.add(a),t=rA.bind(null,t,r,a),r.then(t,t))}function rA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Tn()-Dd?(Qe&2)===0&&Fa(t,0):Nd|=a,Ba===Le&&(Ba=0)),cr(t)}function L_(t,r){r===0&&(r=Do()),t=Ra(t,r),t!==null&&(wr(t,r),cr(t))}function iA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),L_(t,a)}function sA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),L_(t,a)}function aA(t,r){return as(t,r)}var xc=null,Qa=null,Ud=!1,Dc=!1,zd=!1,Bs=0;function cr(t){t!==Qa&&t.next===null&&(Qa===null?xc=Qa=t:Qa=Qa.next=t),Dc=!0,Ud||(Ud=!0,lA())}function Sl(t,r){if(!zd&&Dc){zd=!0;do for(var a=!1,l=xc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,B_(l,d))}else d=Le,d=oa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fs(l,d)||(a=!0,B_(l,d));l=l.next}while(a);zd=!1}}function oA(){j_()}function j_(){Dc=Ud=!1;var t=0;Bs!==0&&(gA()&&(t=Bs),Bs=0);for(var r=Tn(),a=null,l=xc;l!==null;){var h=l.next,d=U_(l,r);d===0?(l.next=null,a===null?xc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Sl(t)}function U_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),S=1<<v,C=h[v];C===-1?((S&a)===0||(S&l)!==0)&&(h[v]=No(S,r)):C<=r&&(t.expiredLanes|=S),d&=~S}if(r=et,a=Le,a=oa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&os(l),la(a)){case 2:case 8:a=sa;break;case 32:a=ls;break;case 268435456:a=aa;break;default:a=ls}return l=z_.bind(null,t),a=as(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function z_(t,r){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=Le;return l=oa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,r),U_(t,Tn()),t.callbackNode!=null&&t.callbackNode===a?z_.bind(null,t):null)}function B_(t,r){if(Nc())return null;S_(t,r,!0)}function lA(){_A(function(){(Qe&6)!==0?as(Co,oA):j_()})}function Bd(){return Bs===0&&(Bs=xo()),Bs}function q_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function H_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function uA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=q_((h[yt]||null).action),v=l.submitter;v&&(r=(r=v[yt]||null)?q_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var S=new pa("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var C=v?H_(h,v):new FormData(h);od(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=v?H_(h,v):new FormData(h),od(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var qd=0;qd<Rf.length;qd++){var Hd=Rf[qd],cA=Hd.toLowerCase(),hA=Hd[0].toUpperCase()+Hd.slice(1);Bn(cA,"on"+hA)}Bn(Sg,"onAnimationEnd"),Bn(Ag,"onAnimationIteration"),Bn(wg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(IS,"onTransitionRun"),Bn(NS,"onTransitionStart"),Bn(xS,"onTransitionCancel"),Bn(bg,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function F_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,q=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,q=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=q;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=C}}}}function De(t,r){var a=r[Po];a===void 0&&(a=r[Po]=new Set);var l=t+"__bubble";a.has(l)||(G_(r,t,2,!1),a.add(l))}function Fd(t,r,a){var l=0;r&&(l|=4),G_(a,t,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Oc]){t[Oc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,Fd("selectionchange",!1,r))}}function G_(t,r,a,l){switch(pv(r)){case 2:var h=UA;break;case 8:h=zA;break;default:h=sm}a=h.bind(null,r,a,t),h=void 0,!bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Qd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;S!==null;){if(v=br(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Pu(function(){var q=d,X=wn(a),Z=[];e:{var F=Rg.get(t);if(F!==void 0){var G=pa,Te=t;switch(t){case"keypress":if(tr(a)===0)break e;case"keydown":case"keyup":G=Ta;break;case"focusin":Te="focus",G=_a;break;case"focusout":Te="blur",G=_a;break;case"beforeblur":case"afterblur":G=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=qu;break;case Sg:case Ag:case wg:G=va;break;case bg:G=Fu;break;case"scroll":case"scrollend":G=Vu;break;case"wheel":G=Sa;break;case"copy":case"cut":case"paste":G=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ko;break;case"toggle":case"beforetoggle":G=Qu}var ye=(r&4)!==0,Je=!ye&&(t==="scroll"||t==="scrollend"),k=ye?F!==null?F+"Capture":null:F;ye=[];for(var D=q,B;D!==null;){var J=D;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||k===null||(J=Es(D,k),J!=null&&ye.push(wl(D,J,B))),Je)break;D=D.return}0<ye.length&&(F=new G(F,Te,null,a,X),Z.push({event:F,listeners:ye}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Nr&&(Te=a.relatedTarget||a.fromElement)&&(br(Te)||Te[Sn]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=q,Te=Te?br(Te):null,Te!==null&&(Je=u(Te),ye=Te.tag,Te!==Je||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(ye=Rn,J="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ko,J="onPointerLeave",k="onPointerEnter",D="pointer"),Je=G==null?F:Jn(G),B=Te==null?F:Jn(Te),F=new ye(J,D+"leave",G,a,X),F.target=Je,F.relatedTarget=B,J=null,br(X)===q&&(ye=new ye(k,D+"enter",Te,a,X),ye.target=B,ye.relatedTarget=Je,J=ye),Je=J,G&&Te)t:{for(ye=G,k=Te,D=0,B=ye;B;B=Ka(B))D++;for(B=0,J=k;J;J=Ka(J))B++;for(;0<D-B;)ye=Ka(ye),D--;for(;0<B-D;)k=Ka(k),B--;for(;D--;){if(ye===k||k!==null&&ye===k.alternate)break t;ye=Ka(ye),k=Ka(k)}ye=null}else ye=null;G!==null&&Q_(Z,F,G,ye,!1),Te!==null&&Je!==null&&Q_(Z,Je,Te,ye,!0)}}e:{if(F=q?Jn(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var he=hg;else if(Rt(F))if(fg)he=bS;else{he=AS;var Ne=SS}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&zo(q.elementType)&&(he=hg):he=wS;if(he&&(he=he(t,q))){Pr(Z,he,a,X);break e}Ne&&Ne(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&mi(F,"number",F.value)}switch(Ne=q?Jn(q):window,t){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(Aa=Ne,Af=q,Xo=null);break;case"focusout":Xo=Af=Aa=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Eg(Z,a,X);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Eg(Z,a,X)}var fe;if(ir)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(fe=qo()):(er=X,pi="value"in er?er.value:er.textContent,Ve=!0)),Ne=Mc(q,_e),0<Ne.length&&(_e=new Go(_e,t,null,a,X),Z.push({event:_e,listeners:Ne}),fe?_e.data=fe:(fe=ie(a),fe!==null&&(_e.data=fe)))),(fe=y?bt(t,a):ke(t,a))&&(_e=Mc(q,"onBeforeInput"),0<_e.length&&(Ne=new Go("onBeforeInput","beforeinput",null,a,X),Z.push({event:Ne,listeners:_e}),Ne.data=fe)),uA(Z,t,q,a,X)}F_(Z,r)})}function wl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Mc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Es(t,r),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var S=a,C=S.alternate,q=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||q===null||(C=q,h?(q=Es(a,d),q!=null&&v.unshift(wl(a,q,C))):h||(q=Es(a,d),q!=null&&v.push(wl(a,q,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var dA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(dA,`
`).replace(mA,"")}function Y_(t,r){return r=K_(r),K_(t)===r}function Pc(){}function Xe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":Wn(t,"class",l);break;case"tabIndex":Wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(r!=="object"){Wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",h.name,h,null),Xe(t,r,"formEncType",h.formEncType,h,null),Xe(t,r,"formMethod",h.formMethod,h,null),Xe(t,r,"formTarget",h.formTarget,h,null)):(Xe(t,r,"encType",h.encType,h,null),Xe(t,r,"method",h.method,h,null),Xe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),di(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":di(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,di(t,a,l))}}function Kd(t,r,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):di(t,a,l)}}}function Ht(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,d,v,a,null)}}h&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=v=h=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Xe(t,r,l,X,a,null)}}ys(t,d,S,C,q,v,h,!1),da(t);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Xe(t,r,h,S,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Xe(t,r,v,S,a,null)}_s(t,l,h,d),da(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,C,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)De(Al[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,q,l,a,null)}return;default:if(zo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Kd(t,r,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Xe(t,r,S,l,a,null))}function pA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,C=null,q=null,X=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(G)||Xe(t,r,G,null,l,Z)}}for(var F in l){var G=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(G!=null||Z!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==Z&&Xe(t,r,F,G,l,Z)}}hn(t,v,S,C,q,X,d,h);return;case"select":G=v=S=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Xe(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==C&&Xe(t,r,h,d,l,C)}r=S,a=v,l=G,F!=null?Ir(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Xe(t,r,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,r,v,h,l,d)}Ye(t,F,G);return;case"option":for(var Te in a)if(F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,r,Te,null,l,F)}for(C in l)if(F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Xe(t,r,C,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&Xe(t,r,ye,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Xe(t,r,q,F,l,G)}return;default:if(zo(r)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&Kd(t,r,Je,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Kd(t,r,X,F,l,G);return}}for(var k in a)F=a[k],a.hasOwnProperty(k)&&F!=null&&!l.hasOwnProperty(k)&&Xe(t,r,k,null,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F==null&&G==null||Xe(t,r,Z,F,l,G)}var Yd=null,$d=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function $_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jd=null;function gA(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(vA)}:J_;function vA(t){setTimeout(function(){throw t})}function Di(t){return t==="head"}function Z_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&bl(v.documentElement),a&2&&bl(v.body),a&4)for(a=v.head,bl(a),v=a.firstChild;v;){var S=v.nextSibling,C=v.nodeName;v[ds]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=S}}if(h===0){t.removeChild(d),Ml(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function Wd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function EA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function TA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function SA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var em=null;function ev(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function tv(t,r,a){switch(r=Vc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fi(t)}var Mn=new Map,nv=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Kr=ae.d;ae.d={f:AA,r:wA,D:bA,C:RA,L:CA,m:IA,X:xA,S:NA,M:DA};function AA(){var t=Kr.f(),r=Cc();return t||r}function wA(t){var r=Xn(t);r!==null&&r.tag===5&&r.type==="form"?Sy(r):Kr.r(t)}var Ya=typeof document>"u"?null:document;function rv(t,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=_t(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),nv.has(h)||(nv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ht(r,"link",t),ft(r),l.head.appendChild(r)))}}function bA(t){Kr.D(t),rv("dns-prefetch",t,null)}function RA(t,r){Kr.C(t,r),rv("preconnect",t,r)}function CA(t,r,a){Kr.L(t,r,a);var l=Ya;if(l&&t&&r){var h='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var d=h;switch(r){case"style":d=$a(t);break;case"script":d=Xa(t)}Mn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),Ht(r,"link",t),ft(r),l.head.appendChild(r)))}}function IA(t,r){Kr.m(t,r);var a=Ya;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Mn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Ht(l,"link",t),ft(l),a.head.appendChild(l)}}}function NA(t,r,a){Kr.S(t,r,a);var l=Ya;if(l&&t){var h=en(l).hoistableStyles,d=$a(t);r=r||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Rl(d)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mn.get(d))&&tm(t,a);var C=v=l.createElement("link");ft(C),Ht(C,"link",t),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function xA(t,r){Kr.X(t,r);var a=Ya;if(a&&t){var l=en(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=E({src:t,async:!0},r),(r=Mn.get(h))&&nm(t,r),d=a.createElement("script"),ft(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function DA(t,r){Kr.M(t,r);var a=Ya;if(a&&t){var l=en(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Mn.get(h))&&nm(t,r),d=a.createElement("script"),ft(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iv(t,r,a,l){var h=(h=Se.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=$a(a.href),a=en(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Rl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||OA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=en(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $a(t){return'href="'+_t(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function sv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function OA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),ft(r),t.head.appendChild(r))}function Xa(t){return'[src="'+_t(t)+'"]'}function Cl(t){return"script[async]"+t}function av(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Ht(l,"style",h),Lc(l,a.precedence,t),r.instance=l;case"stylesheet":h=$a(a.href);var d=t.querySelector(Rl(h));if(d)return r.state.loading|=4,r.instance=d,ft(d),d;l=sv(a),(h=Mn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ht(d,"link",l),r.state.loading|=4,Lc(d,a.precedence,t),r.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Cl(d)))?(r.instance=h,ft(h),h):(l=a,(h=Mn.get(d))&&(l=E({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Ht(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,t));return r.instance}function Lc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===r)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var jc=null;function ov(t,r,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ds]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function lv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function MA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function PA(){}function VA(t,r,a){if(Il===null)throw Error(s(475));var l=Il;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(a.href),d=t.querySelector(Rl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ft(d);return}d=t.ownerDocument||t,a=sv(a),(h=Mn.get(h))&&tm(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),Ht(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Uc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function kA(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&rm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&rm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function rm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,r.forEach(LA,t),zc=null,Uc.call(t))}function LA(t,r){if(!(r.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:se,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jA(t,r,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function cv(t,r,a,l,h,d,v,S,C,q,X,Z){return t=new jA(t,r,a,v,S,C,q,Z),r=1,d===!0&&(r|=24),d=dn(3,null,null,r),t.current=d,d.stateNode=t,r=jf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},qf(d),t}function hv(t){return t?(t=Ca,t):Ca}function fv(t,r,a,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=_i(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vi(t,l,r),a!==null&&(_n(a,t,r),sl(a,t,r))}function dv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){dv(t,r),(t=t.alternate)&&dv(t,r)}function mv(t){if(t.tag===13){var r=Ra(t,67108864);r!==null&&_n(r,t,67108864),im(t,67108864)}}var Bc=!0;function UA(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,sm(t,r,a,l)}finally{ae.p=d,$.T=h}}function zA(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,sm(t,r,a,l)}finally{ae.p=d,$.T=h}}function sm(t,r,a,l){if(Bc){var h=am(l);if(h===null)Qd(t,r,l,qc,a),gv(t,l);else if(qA(h,t,r,a,l))l.stopPropagation();else if(gv(t,l),r&4&&-1<BA.indexOf(t)){for(;h!==null;){var d=Xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-Kt(v);S.entanglements[1]|=C,v&=~C}cr(d),(Qe&6)===0&&(bc=Tn()+500,Sl(0))}}break;case 13:S=Ra(d,2),S!==null&&_n(S,d,2),Cc(),im(d,2)}if(d=am(l),d===null&&Qd(t,r,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,r,l,null,a)}}function am(t){return t=wn(t),om(t)}var qc=null;function om(t){if(qc=null,t=br(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return qc=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case Co:return 2;case sa:return 8;case ls:case hf:return 32;case aa:return 268435456;default:return 32}default:return 32}}var lm=!1,Oi=null,Mi=null,Pi=null,xl=new Map,Dl=new Map,Vi=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gv(t,r){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Ol(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Xn(r),r!==null&&mv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function qA(t,r,a,l,h){switch(r){case"focusin":return Oi=Ol(Oi,t,r,a,l,h),!0;case"dragenter":return Mi=Ol(Mi,t,r,a,l,h),!0;case"mouseover":return Pi=Ol(Pi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Ol(xl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,r,a,l,h)),!0}return!1}function yv(t){var r=br(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Cu(t.priority,function(){if(a.tag===13){var l=yn();l=ui(l);var h=Ra(a,l);h!==null&&_n(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nr=l,a.target.dispatchEvent(l),Nr=null}else return r=Xn(a),r!==null&&mv(r),t.blockedOn=a,!1;r.shift()}return!0}function _v(t,r,a){Hc(t)&&a.delete(r)}function HA(){lm=!1,Oi!==null&&Hc(Oi)&&(Oi=null),Mi!==null&&Hc(Mi)&&(Mi=null),Pi!==null&&Hc(Pi)&&(Pi=null),xl.forEach(_v),Dl.forEach(_v)}function Fc(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,HA)))}var Gc=null;function vv(t){Gc!==t&&(Gc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Xn(a);d!==null&&(t.splice(r,3),r-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function r(C){return Fc(C,t)}Oi!==null&&Fc(Oi,t),Mi!==null&&Fc(Mi,t),Pi!==null&&Fc(Pi,t),xl.forEach(r),Dl.forEach(r);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)yv(a),a.blockedOn===null&&Vi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[yt]||null;if(typeof d=="function")v||vv(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[yt]||null)S=v.formAction;else if(om(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),vv(a)}}}function um(t){this._internalRoot=t}Qc.prototype.render=um.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();fv(a,l,t,r,null,null)},Qc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;fv(t.current,2,null,t,null,null),Cc(),r[Sn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ci();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Vi.length&&r!==0&&r<Vi[a].priority;a++);Vi.splice(a,0,t),a===0&&yv(t)}};var Ev=e.version;if(Ev!=="19.1.1")throw Error(s(527,Ev,"19.1.1"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var FA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{ut=Kc.inject(FA),Ge=Kc}catch{}}return Vl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=ky,d=Ly,v=jy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=cv(t,1,!1,null,null,a,l,h,d,v,S,null),t[Sn]=r.current,Gd(t),new um(r)},Vl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ky,v=Ly,S=jy,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=cv(t,1,!0,r,a??null,l,h,d,v,S,C,q),r.context=hv(null),a=r.current,l=yn(),l=ui(l),h=_i(l),h.callback=null,vi(a,h,l),a=l,r.current.lanes=a,wr(r,a),cr(r),t[Sn]=r.current,Gd(t),new Qc(r)},Vl.version="19.1.1",Vl}var xv;function ew(){if(xv)return fm.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=ZA(),fm.exports}var tw=ew();const nw=()=>{};var Dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},rw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,P=p&63;g||(P=64,f||(b=64)),s.push(n[E],n[A],n[b],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(m0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new iw;const b=u<<2|m>>4;if(s.push(b),p!==64){const P=m<<4&240|p>>2;if(s.push(P),A!==64){const H=p<<6&192|A;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sw=function(i){const e=m0(i);return p0.encodeByteArray(e,!0)},ph=function(i){return sw(i).replace(/\./g,"")},g0=function(i){try{return p0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=()=>aw().__FIREBASE_DEFAULTS__,lw=()=>{if(typeof process>"u"||typeof Dv>"u")return;const i=Dv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&g0(i[1]);return e&&JSON.parse(e)},Lh=()=>{try{return nw()||ow()||lw()||uw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},y0=i=>Lh()?.emulatorHosts?.[i],cw=i=>{const e=y0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_0=()=>Lh()?.config,v0=i=>Lh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const Fl={};function dw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function mw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Ov=!1;function T0(i,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Fl[i]===e||Fl[i]||Ov)return;Fl[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=dw().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Ov=!0,f()},b}function E(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=mw(s),P=n("text"),H=document.getElementById(P)||document.createElement("span"),Y=n("learnmore"),L=document.getElementById(Y)||document.createElement("a"),Q=n("preprendIcon"),re=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;m(se),E(L,Y);const be=p();g(re,Q),se.append(re,H,L,be),document.body.appendChild(se)}u?(H.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function gw(){const i=Lh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _w(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function vw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ew(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Tw(){return!gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sw(){try{return typeof indexedDB=="object"}catch{return!1}}function Aw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="FirebaseError";class ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ww,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ai(o,m,s)}}function bw(i,e){return i.replace(Rw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Rw=/\{\$([^}]+)}/g;function Cw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ks(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Mv(u)&&Mv(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Mv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Iw(i,e){const n=new Nw(i,e);return n.subscribe.bind(n)}class Nw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");xw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i){return i&&i._delegate?i._delegate:i}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new hw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mw(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ow(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ow(i){return i===qs?void 0:i}function Mw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const Vw={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},kw=Oe.INFO,Lw={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},jw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Lw[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=kw,this._logHandler=jw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Uw=(i,e)=>e.some(n=>i instanceof n);let Pv,Vv;function zw(){return Pv||(Pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bw(){return Vv||(Vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Om=new WeakMap,A0=new WeakMap,ym=new WeakMap,fp=new WeakMap;function qw(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Hi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,i)}).catch(()=>{}),fp.set(e,i),e}function Hw(i){if(Om.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Om.set(i,e)}let Mm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Om.get(i);if(e==="objectStoreNames")return i.objectStoreNames||A0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Fw(i){Mm=i(Mm)}function Gw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(_m(this),e,...n);return A0.set(s,e.sort?e.sort():[e]),Hi(s)}:Bw().includes(i)?function(...e){return i.apply(_m(this),e),Hi(S0.get(this))}:function(...e){return Hi(i.apply(_m(this),e))}}function Qw(i){return typeof i=="function"?Gw(i):(i instanceof IDBTransaction&&Hw(i),Uw(i,zw())?new Proxy(i,Mm):i)}function Hi(i){if(i instanceof IDBRequest)return qw(i);if(ym.has(i))return ym.get(i);const e=Qw(i);return e!==i&&(ym.set(i,e),fp.set(e,i)),e}const _m=i=>fp.get(i);function Kw(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Hi(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Hi(f.result),g.oldVersion,g.newVersion,Hi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Yw=["get","getKey","getAll","getAllKeys","count"],$w=["put","add","delete","clear"],vm=new Map;function kv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$w.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Yw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return vm.set(e,u),u}Fw(i=>({...i,get:(e,n,s)=>kv(e,n)||i.get(e,n,s),has:(e,n)=>!!kv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Jw(i){return i.getComponent()?.type==="VERSION"}const Pm="@firebase/app",Lv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new hp("@firebase/app"),Ww="@firebase/app-compat",Zw="@firebase/analytics-compat",eb="@firebase/analytics",tb="@firebase/app-check-compat",nb="@firebase/app-check",rb="@firebase/auth",ib="@firebase/auth-compat",sb="@firebase/database",ab="@firebase/data-connect",ob="@firebase/database-compat",lb="@firebase/functions",ub="@firebase/functions-compat",cb="@firebase/installations",hb="@firebase/installations-compat",fb="@firebase/messaging",db="@firebase/messaging-compat",mb="@firebase/performance",pb="@firebase/performance-compat",gb="@firebase/remote-config",yb="@firebase/remote-config-compat",_b="@firebase/storage",vb="@firebase/storage-compat",Eb="@firebase/firestore",Tb="@firebase/ai",Sb="@firebase/firestore-compat",Ab="firebase",wb="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",bb={[Pm]:"fire-core",[Ww]:"fire-core-compat",[eb]:"fire-analytics",[Zw]:"fire-analytics-compat",[nb]:"fire-app-check",[tb]:"fire-app-check-compat",[rb]:"fire-auth",[ib]:"fire-auth-compat",[sb]:"fire-rtdb",[ab]:"fire-data-connect",[ob]:"fire-rtdb-compat",[lb]:"fire-fn",[ub]:"fire-fn-compat",[cb]:"fire-iid",[hb]:"fire-iid-compat",[fb]:"fire-fcm",[db]:"fire-fcm-compat",[mb]:"fire-perf",[pb]:"fire-perf-compat",[gb]:"fire-rc",[yb]:"fire-rc-compat",[_b]:"fire-gcs",[vb]:"fire-gcs-compat",[Eb]:"fire-fst",[Sb]:"fire-fst-compat",[Tb]:"fire-vertex","fire-js":"fire-js",[Ab]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,Rb=new Map,km=new Map;function jv(i,e){try{i.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const e=i.name;if(km.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,i);for(const n of gh.values())jv(n,i);for(const n of Rb.values())jv(n,i);return!0}function dp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new uu("app","Firebase",Cb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=wb;function w0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Vm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(n||(n=_0()),!n)throw Fi.create("no-options");const u=gh.get(o);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw Fi.create("duplicate-app",{appName:o})}const f=new Pw(o);for(const g of km.values())f.addComponent(g);const m=new Ib(n,s,f);return gh.set(o,m),m}function b0(i=Vm){const e=gh.get(i);if(!e&&i===Vm&&_0())return w0();if(!e)throw Fi.create("no-app",{appName:i});return e}function Gi(i,e,n){let s=bb[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(f.join(" "));return}oo(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="firebase-heartbeat-database",xb=1,Xl="firebase-heartbeat-store";let Em=null;function R0(){return Em||(Em=Kw(Nb,xb,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Fi.create("idb-open",{originalErrorMessage:i.message})})),Em}async function Db(i){try{const n=(await R0()).transaction(Xl),s=await n.objectStore(Xl).get(C0(i));return await n.done,s}catch(e){if(e instanceof ai)ti.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e?.message});ti.warn(n.message)}}}async function Uv(i,e){try{const s=(await R0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,C0(i)),await s.done}catch(n){if(n instanceof ai)ti.warn(n.message);else{const s=Fi.create("idb-set",{originalErrorMessage:n?.message});ti.warn(s.message)}}}function C0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=1024,Mb=30;class Pb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Mb){const o=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zv(),{heartbeatsToSend:n,unsentEntries:s}=Vb(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ti.warn(e),""}}}function zv(){return new Date().toISOString().substring(0,10)}function Vb(i,e=Ob){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Bv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sw()?Aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Db(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bv(i){return ph(JSON.stringify({version:2,heartbeats:i})).length}function Lb(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i){oo(new Ys("platform-logger",e=>new Xw(e),"PRIVATE")),oo(new Ys("heartbeat",e=>new Pb(e),"PRIVATE")),Gi(Pm,Lv,i),Gi(Pm,Lv,"esm2020"),Gi("fire-js","")}jb("");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ub=I0,N0=new uu("auth","Firebase",I0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new hp("@firebase/auth");function zb(i,...e){yh.logLevel<=Oe.WARN&&yh.warn(`Auth (${yo}): ${i}`,...e)}function rh(i,...e){yh.logLevel<=Oe.ERROR&&yh.error(`Auth (${yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,...e){throw mp(i,...e)}function dr(i,...e){return mp(i,...e)}function x0(i,e,n){const s={...Ub(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:i.name})}function Jr(i){return x0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return N0.create(i,...e)}function ve(i,e,...n){if(!i)throw mp(e,...n)}function $r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw rh(e),new Error(e)}function ni(i,e){i||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){return typeof self<"u"&&self.location?.href||""}function Bb(){return qv()==="http:"||qv()==="https:"}function qv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bb()||_w()||"connection"in navigator)?navigator.onLine:!0}function Hb(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=pw()||vw()}get(){return qb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(i,e){ni(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qb=new hu(3e4,6e4);function es(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ts(i,e,n,s,o={}){return O0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return yw()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&go(i.emulatorConfig.host)&&(p.credentials="include"),D0.fetch()(await M0(i,i.config.apiHost,n,m),p)})}async function O0(i,e,n){i._canInitEmulator=!1;const s={...Fb,...e};try{const o=new Yb(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw x0(i,E,p);Gn(i,E)}}catch(o){if(o instanceof ai)throw o;Gn(i,"network-request-failed",{message:String(o)})}}async function fu(i,e,n,s,o={}){const u=await ts(i,e,n,s,o);return"mfaPendingCredential"in u&&Gn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function M0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?pp(i.config,o):`${i.config.apiScheme}://${o}`;return Gb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Kb(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(dr(this.auth,"network-request-failed")),Qb.get())})}}function Yc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=dr(i,e,s);return o.customData._tokenResponse=n,o}function Hv(i){return i!==void 0&&i.enterprise!==void 0}class $b{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Kb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Xb(i,e){return ts(i,"GET","/v2/recaptchaConfig",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(i,e){return ts(i,"POST","/v1/accounts:delete",e)}async function _h(i,e){return ts(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wb(i,e=!1){const n=Lt(i),s=await n.getIdToken(e),o=gp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Tm(o.auth_time)),issuedAtTime:Gl(Tm(o.iat)),expirationTime:Gl(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Tm(i){return Number(i)*1e3}function gp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=g0(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Fv(i){const e=gp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ai&&Zb(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Zb({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){const e=i.auth,n=await i.getIdToken(),s=await Jl(i,_h(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?P0(o.providerUserInfo):[],f=nR(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function tR(i){const e=Lt(i);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function P0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(i,e){const n=await O0(i,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await M0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&go(i.emulatorConfig.host)&&(g.credentials="include"),D0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iR(i,e){return ts(i,"POST","/v2/accounts:revokeToken",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Fv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new eR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Wb(this,e)}reload(){return tR(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Jl(this,Jb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:b,isAnonymous:P,providerData:H,stsTokenManager:Y}=n;ve(A&&Y,e,"internal-error");const L=no.fromJSON(this.name,Y);ve(typeof A=="string",e,"internal-error"),Li(s,e.name),Li(o,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Li(u,e.name),Li(f,e.name),Li(m,e.name),Li(g,e.name),Li(p,e.name),Li(E,e.name);const Q=new Fn({uid:A,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:p,lastLoginAt:E});return H&&Array.isArray(H)&&(Q.providerData=H.map(re=>({...re}))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?P0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const g=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;function Xr(i){ni(i instanceof Function,"Expected a class definition");let e=Gv.get(i);return e?(ni(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Gv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V0.type="NONE";const Qv=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(i,e,n){return`firebase:${i}:${e}:${n}`}class ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ro(Xr(Qv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Xr(Qv);const f=ih(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let A;if(typeof E=="string"){const b=await _h(e,{idToken:E}).catch(()=>{});if(!b)break;A=await Fn._fromGetAccountInfoResponse(e,b,E)}else A=Fn._fromJSON(e,E);p!==u&&(m=A),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ro(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ro(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B0(e))return"Blackberry";if(q0(e))return"Webos";if(L0(e))return"Safari";if((e.includes("chrome/")||j0(e))&&!e.includes("edge/"))return"Chrome";if(z0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function k0(i=Zt()){return/firefox\//i.test(i)}function L0(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j0(i=Zt()){return/crios\//i.test(i)}function U0(i=Zt()){return/iemobile/i.test(i)}function z0(i=Zt()){return/android/i.test(i)}function B0(i=Zt()){return/blackberry/i.test(i)}function q0(i=Zt()){return/webos/i.test(i)}function yp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function sR(i=Zt()){return yp(i)&&!!window.navigator?.standalone}function aR(){return Ew()&&document.documentMode===10}function H0(i=Zt()){return yp(i)||z0(i)||q0(i)||B0(i)||/windows phone/i.test(i)||U0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(i,e=[]){let n;switch(i){case"Browser":n=Kv(Zt());break;case"Worker":n=`${Kv(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(i,e={}){return ts(i,"GET","/v2/passwordPolicy",es(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=6;class cR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new oR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Jr(this));const n=e?Lt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lR(this),n=new cR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&zb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zs(i){return Lt(i)}class Yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Iw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fR(i){jh=i}function G0(i){return jh.loadJS(i)}function dR(){return jh.recaptchaEnterpriseScript}function mR(){return jh.gapiScript}function pR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class gR{constructor(){this.enterprise=new yR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class yR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _R="recaptcha-enterprise",Q0="NO_RECAPTCHA";class vR{constructor(e){this.type=_R,this.auth=Zs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Xb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new $b(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Hv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f(Q0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Hv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=dR();g.length!==0&&(g+=m),G0(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function $v(i,e,n,s=!1,o=!1){const u=new vR(i);let f;if(o)f=Q0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Um(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $v(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await $v(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i,e){const n=dp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;Gn(o,"already-initialized")}return n.initialize({options:e})}function TR(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function SR(i,e,n){const s=Zs(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=K0(e),{host:f,port:m}=AR(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ks(p,s.config.emulator)&&Ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,go(f)?(E0(`${u}//${f}${g}`),T0("Auth",!0)):wR()}function K0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AR(i){const e=K0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Xv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Xv(f)}}}function Xv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function bR(i,e){return ts(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(i,e){return fu(i,"POST","/v1/accounts:signInWithPassword",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(i,e){return fu(i,"POST","/v1/accounts:signInWithEmailLink",es(i,e))}async function IR(i,e){return fu(i,"POST","/v1/accounts:signInWithEmailLink",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends _p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",RR);case"emailLink":return CR(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,s,"signUpPassword",bR);case"emailLink":return IR(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(i,e){return fu(i,"POST","/v1/accounts:signInWithIdp",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="http://localhost";class $s extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new $s(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:NR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DR(i){const e=jl(Ul(i)).link,n=e?jl(Ul(e)).deep_link_id:null,s=jl(Ul(i)).deep_link_id;return(s?jl(Ul(s)).link:null)||s||n||e||i}class vp{constructor(e){const n=jl(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=xR(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=DR(e);try{return new vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=vp.parseLink(n);return ve(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends Y0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends du{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends du{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends du{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Bi.credential(n,s)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(i,e){return fu(i,"POST","/v1/accounts:signUp",es(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=Jv(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Jv(s);return new Xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends ai{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function $0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(i,u,e,s):u})}async function MR(i,e,n=!1){const s=await Jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Xs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(i,e,n=!1){const{auth:s}=i;if(Vn(s.app))return Promise.reject(Jr(s));const o="reauthenticate";try{const u=await Jl(i,$0(s,o,e,i),n);ve(u.idToken,s,"internal-error");const f=gp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),Xs._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Gn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(i,e,n=!1){if(Vn(i.app))return Promise.reject(Jr(i));const s="signIn",o=await $0(i,s,e),u=await Xs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function VR(i,e){return X0(Zs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(i){const e=Zs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kR(i,e,n){if(Vn(i.app))return Promise.reject(Jr(i));const s=Zs(i),f=await Um(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&J0(i),g}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function LR(i,e,n){return Vn(i.app)?Promise.reject(Jr(i)):VR(Lt(i),_o.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&J0(i),s})}function jR(i,e,n,s){return Lt(i).onIdTokenChanged(e,n,s)}function UR(i,e,n){return Lt(i).beforeAuthStateChanged(e,n)}function zR(i,e,n,s){return Lt(i).onAuthStateChanged(e,n,s)}function BR(i){return Lt(i).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1e3,HR=10;class Z0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const FR=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eT.type="SESSION";const tT=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await GR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=Ep("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function KR(i){mr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function YR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $R(){return navigator?.serviceWorker?.controller||null}function XR(){return nT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",JR=1,Sh="firebaseLocalStorage",iT="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function WR(){const i=indexedDB.deleteDatabase(rT);return new mu(i).toPromise()}function zm(){const i=indexedDB.open(rT,JR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Sh,{keyPath:iT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await WR(),e(await zm()))})})}async function Wv(i,e,n){const s=zh(i,!0).put({[iT]:e,value:n});return new mu(s).toPromise()}async function ZR(i,e){const n=zh(i,!1).get(e),s=await new mu(n).toPromise();return s===void 0?null:s.value}function Zv(i,e){const n=zh(i,!0).delete(e);return new mu(n).toPromise()}const e2=800,t2=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>t2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(XR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new QR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$R()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await Wv(e,Th,"1"),await Zv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Wv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ZR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const n2=sT;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i,e){return e?Xr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i2(i){return X0(i.auth,new Tp(i),i.bypassAuthState)}function s2(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),PR(n,new Tp(i),i.bypassAuthState)}async function a2(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),MR(n,new Tp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:Gn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new hu(2e3,1e4);class to extends aT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o2.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="pendingRedirect",sh=new Map;class u2 extends aT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await c2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2(i,e){const n=d2(e),s=f2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function h2(i,e){sh.set(i._key(),e)}function f2(i){return Xr(i._redirectPersistence)}function d2(i){return ih(l2,i.config.apiKey,i.name)}async function m2(i,e,n=!1){if(Vn(i.app))return Promise.reject(Jr(i));const s=Zs(i),o=r2(s,e),f=await new u2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=600*1e3;class g2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(dr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p2&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function oT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function y2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(i,e={}){return ts(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E2=/^https?/;async function T2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _2(i);for(const n of e)try{if(S2(n))return}catch{}Gn(i,"unauthorized-domain")}function S2(i){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!E2.test(n))return!1;if(v2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new hu(3e4,6e4);function tE(){const i=mr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function w2(i){return new Promise((e,n)=>{function s(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(dr(i,"network-request-failed"))},timeout:A2.get()})}if(mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mr().gapi?.load)s();else{const o=pR("iframefcb");return mr()[o]=()=>{gapi.load?s():n(dr(i,"network-request-failed"))},G0(`${mR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function b2(i){return ah=ah||w2(i),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new hu(5e3,15e3),C2="__/auth/iframe",I2="emulator/auth/iframe",N2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?pp(e,I2):`https://${i.config.authDomain}/${C2}`,s={apiKey:e.apiKey,appName:i.name,v:yo},o=x2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function O2(i){const e=await b2(i),n=mr().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:D2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=dr(i,"network-request-failed"),m=mr().setTimeout(()=>{u(f)},R2.get());function g(){mr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P2=500,V2=600,k2="_blank",L2="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j2(i,e,n,s=P2,o=V2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...M2,width:s.toString(),height:o.toString(),top:u,left:f},p=Zt().toLowerCase();n&&(m=j0(p)?k2:n),k0(p)&&(e=e||L2,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[P,H])=>`${b}${P}=${H},`,"");if(sR(p)&&m!=="_self")return U2(e||"",m),new nE(null);const A=window.open(e||"",m,E);ve(A,i,"popup-blocked");try{A.focus()}catch{}return new nE(A)}function U2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__/auth/handler",B2="emulator/auth/handler",q2=encodeURIComponent("fac");async function rE(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof Y0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Cw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof du){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${q2}=${encodeURIComponent(g)}`:"";return`${H2(i)}?${cu(m).slice(1)}${p}`}function H2({config:i}){return i.emulator?pp(i,B2):`https://${i.authDomain}/${z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class F2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=m2,this._overrideRedirectResult=h2}async _openPopup(e,n,s,o){ni(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rE(e,n,s,Lm(),o);return j2(e,u,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await rE(e,n,s,Lm(),o);return KR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ni(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await O2(e),s=new g2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{const u=o?.[0]?.[Sm];u!==void 0&&n(!!u),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return H0()||L0()||yp()}}const G2=F2;var iE="@firebase/auth",sE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y2(i){oo(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(i)},p=new hR(s,o,u,g);return TR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Ys("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(s=>new Q2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(iE,sE,K2(i)),Gi(iE,sE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=300,X2=v0("authIdTokenMaxAge")||$2;let aE=null;const J2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X2)return;const o=n?.token;aE!==o&&(aE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function W2(i=b0()){const e=dp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=ER(i,{popupRedirectResolver:G2,persistence:[n2,FR,tT]}),s=v0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=J2(u.toString());UR(n,f,()=>f(n.currentUser)),jR(n,m=>f(m))}}const o=y0("auth");return o&&SR(n,`http://${o}`),n}function Z2(){return document.getElementsByTagName("head")?.[0]??document}fR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=dr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y2("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,lT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function I(){}I.prototype=R.prototype,O.D=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,V,j){for(var N=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)N[jt-2]=arguments[jt];return R.prototype[V].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)M[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],V=O.g[2];var j=O.g[3],N=R+(j^I&(V^j))+M[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+M[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+M[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+M[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(j^I&(V^j))+M[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+M[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+M[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+M[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(j^I&(V^j))+M[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+M[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+M[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+M[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(j^I&(V^j))+M[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(V^R&(I^V))+M[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=V+(I^j&(R^I))+M[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(R^V&(j^R))+M[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=R+(V^j&(I^V))+M[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+M[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+M[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+M[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(I^V))+M[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+M[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+M[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+M[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(I^V))+M[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+M[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+M[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+M[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(V^j&(I^V))+M[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(R^I))+M[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=V+(R^I&(j^R))+M[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(V^j))+M[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=R+(I^V^j)+M[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+M[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+M[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+M[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^j)+M[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+M[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+M[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+M[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^j)+M[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+M[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+M[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+M[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(I^V^j)+M[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^V)+M[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=V+(j^R^I)+M[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^R)+M[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=R+(V^(I|~j))+M[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+M[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+M[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+M[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~j))+M[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+M[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+M[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+M[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~j))+M[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+M[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+M[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+M[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=R+(V^(I|~j))+M[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~V))+M[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=V+(R^(j|~I))+M[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~R))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+j&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var I=R-this.blockSize,M=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=I;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<R;)if(M[V++]=O.charCodeAt(j++),V==this.blockSize){o(this,M),V=0;break}}else for(;j<R;)if(M[V++]=O[j++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var I=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=I&255,I/=256;for(this.u(O),O=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)O[I++]=this.g[R]>>>M&255;return O};function u(O,R){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function f(O,R){this.h=R;for(var I=[],M=!0,V=O.length-1;0<=V;V--){var j=O[V]|0;M&&j==R||(I[V]=j,M=!1)}this.g=I}var m={};function g(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return L(p(-O));for(var R=[],I=1,M=0;O>=I;M++)R[M]=O/I|0,I*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return L(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),M=A,V=0;V<O.length;V+=8){var j=Math.min(8,O.length-V),N=parseInt(O.substring(V,V+j),R);8>j?(j=p(Math.pow(R,j)),M=M.j(j).add(p(N))):(M=M.j(I),M=M.add(p(N)))}return M}var A=g(0),b=g(1),P=g(16777216);i=f.prototype,i.m=function(){if(Y(this))return-L(this).m();for(var O=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(H(this))return"0";if(Y(this))return"-"+L(this).toString(O);for(var R=p(Math.pow(O,6)),I=this,M="";;){var V=be(I,R).g;I=Q(I,V.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=V,H(I))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function H(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Y(O){return O.h==-1}i.l=function(O){return O=Q(this,O),Y(O)?-1:H(O)?0:1};function L(O){for(var R=O.g.length,I=[],M=0;M<R;M++)I[M]=~O.g[M];return new f(I,~O.h).add(b)}i.abs=function(){return Y(this)?L(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0,V=0;V<=R;V++){var j=M+(this.i(V)&65535)+(O.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);M=N>>>16,j&=65535,N&=65535,I[V]=N<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Q(O,R){return O.add(L(R))}i.j=function(O){if(H(this)||H(O))return A;if(Y(this))return Y(O)?L(this).j(L(O)):L(L(this).j(O));if(Y(O))return L(this.j(L(O)));if(0>this.l(P)&&0>O.l(P))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<O.g.length;V++){var j=this.i(M)>>>16,N=this.i(M)&65535,jt=O.i(V)>>>16,lt=O.i(V)&65535;I[2*M+2*V]+=N*lt,re(I,2*M+2*V),I[2*M+2*V+1]+=j*lt,re(I,2*M+2*V+1),I[2*M+2*V+1]+=N*jt,re(I,2*M+2*V+1),I[2*M+2*V+2]+=j*jt,re(I,2*M+2*V+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new f(I,0)};function re(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function se(O,R){this.g=O,this.h=R}function be(O,R){if(H(R))throw Error("division by zero");if(H(O))return new se(A,A);if(Y(O))return R=be(L(O),R),new se(L(R.g),L(R.h));if(Y(R))return R=be(O,L(R)),new se(L(R.g),R.h);if(30<O.g.length){if(Y(O)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=R;0>=M.l(O);)I=le(I),M=le(M);var V=ge(I,1),j=ge(M,1);for(M=ge(M,2),I=ge(I,2);!H(M);){var N=j.add(M);0>=N.l(O)&&(V=V.add(I),j=N),M=ge(M,1),I=ge(I,1)}return R=Q(O,V.j(R)),new se(V,R)}for(V=A;0<=O.l(R);){for(I=Math.max(1,Math.floor(O.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=p(I),N=j.j(R);Y(N)||0<N.l(O);)I-=M,j=p(I),N=j.j(R);H(j)&&(j=b),V=V.add(j),O=Q(O,N)}return new se(V,O)}i.A=function(O){return be(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&O.i(M);return new f(I,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|O.i(M);return new f(I,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^O.i(M);return new f(I,this.h^O.h)};function le(O){for(var R=O.g.length+1,I=[],M=0;M<R;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new f(I,O.h)}function ge(O,R){var I=R>>5;R%=32;for(var M=O.g.length-I,V=[],j=0;j<M;j++)V[j]=0<R?O.i(j+I)>>>R|O.i(j+I+1)<<32-R:O.i(j+I);return new f(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Qi=f}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,zl,cT,oh,Bm,hT,fT,dT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,z={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function H(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,z,K){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return y.prototype[z].apply(w,ie)}}function Y(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const z=c.length||0,K=w.length||0;c.length=z+K;for(let ie=0;ie<K;ie++)c[z+ie]=w[ie]}else c.push(w)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var le=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function ge(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class jt{constructor(){this.h=this.g=null}add(y,_){const w=lt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var lt=new Q(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ze=new jt,x=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){j(_)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{be(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}H(Ie,ne);var Se={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Yn(c,y,_,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=z,this.key=++Ze,this.da=this.fa=!1}function li(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,y,_,w,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ie=as(c,y,w,z);return-1<ie?(y=c[ie],_||(y.fa=!1)):(y=new Yn(y,this.src,K,!!w,z),y.fa=_,c.push(y)),y};function ss(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(li(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function as(c,y,_,w){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return z}return-1}var os="closure_lm_"+(1e6*Math.random()|0),Ro={};function wu(c,y,_,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)wu(c,y[K],_,w,z);return null}return _=bu(_),c&&c[xt]?c.K(y,_,p(w)?!!w.capture:!1,z):Tn(c,y,_,!1,w,z)}function Tn(c,y,_,w,z,K){if(!y)throw Error("Invalid event type");var ie=p(z)?!!z.capture:!!z,Ve=aa(c);if(Ve||(c[os]=Ve=new Sr(c)),_=Ve.add(y,_,w,ie,K),_.proxy)return _;if(w=cf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)pe||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(ls(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cf(){function c(_){return y.call(c.src,c.listener,_)}const y=hf;return c}function Co(c,y,_,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Co(c,y[K],_,w,z);else w=p(w)?!!w.capture:!!w,_=bu(_),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=as(K,_,w,z),-1<_&&(li(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=as(y,_,w,z)),(_=-1<c?y[c]:null)&&sa(_))}function sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])ss(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ls(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=aa(y))?(ss(_,c),_.h==0&&(_.src=null,y[os]=null)):li(c)}}}function ls(c){return c in Ro?Ro[c]:Ro[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&sa(c),c=_.call(w,y)}return c}function aa(c){return c=c[os],c instanceof Sr?c:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(y){return c.handleEvent(y)}),c[Io])}function ut(){oe.call(this),this.i=new Sr(this),this.M=this,this.F=null}H(ut,oe),ut.prototype[xt]=!0,ut.prototype.removeEventListener=function(c,y,_,w){Co(this,c,y,_,w)};function Ge(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ne(y,c);else if(y instanceof ne)y.target=y.target||c;else{var z=y;y=new ne(w,c),M(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var ie=y.g=_[K];z=cn(ie,w,!0,y)&&z}if(ie=y.g=c,z=cn(ie,w,!0,y)&&z,z=cn(ie,w,!1,y)&&z,_)for(K=0;K<_.length;K++)ie=y.g=_[K],z=cn(ie,w,!1,y)&&z}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)li(_[w]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ut.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function cn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ie=y[K];if(ie&&!ie.da&&ie.capture==_){var Ve=ie.listener,bt=ie.ha||ie.src;ie.fa&&ss(c.i,ie),z=Ve.call(bt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Kt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ru(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){oe.call(this),this.h=c,this.g={}}H(us,oe);var cs=[];function hs(c){ge(c.g,function(y,_){this.g.hasOwnProperty(_)&&sa(y)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,oa=m.JSON.parse,fs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Do(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ne.call(this,"d")}H(wr,ne);function Oo(){ne.call(this,"c")}H(Oo,ne);var $n={},Mo=null;function ui(){return Mo=Mo||new ut}$n.La="serverreachability";function la(c){ne.call(this,$n.La,c)}H(la,ne);function ci(c){const y=ui();Ge(y,new la(y))}$n.STAT_EVENT="statevent";function Cu(c,y){ne.call(this,$n.STAT_EVENT,c),this.stat=y}H(Cu,ne);function rt(c){const y=ui();Ge(y,new Cu(y,c))}$n.Ma="timingevent";function wt(c,y){ne.call(this,$n.Ma,c),this.size=y}H(wt,ne);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Po(c,y,_,w,z,K){c.info(function(){if(c.g)if(K)for(var ie="",Ve=K.split("&"),bt=0;bt<Ve.length;bt++){var ke=Ve[bt].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var Rt=Ot.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(Ot+"="+ke+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+_+`
`+ie})}function df(c,y,_,w,z,K,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+ie})}function hi(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ds(c,_)+(w?" "+w:"")})}function Iu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function ds(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return jn(_)}catch{return y}}var fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Jn(){}H(Jn,No),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Xn=new Jn;function en(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Vo={},ua={};function Un(c,y,_){c.L=1,c.v=_s(hn(y)),c.m=_,c.P=!0,Rr(c,null)}function Rr(c,y){c.F=Date.now(),ms(c),c.A=hn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Bo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ft,c.g=Fu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ff(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(cs[0]=z.toString()),z=cs);for(var K=0;K<z.length;K++){var ie=wu(_,z[K],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ci(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Rn(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Pr?ci(3):ci(2)),di(this);var _=this.g.Z();this.X=_;t:if(Nu(this)){var w=ku(this.g);c="";var z=w.length,K=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Wn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,df(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,bt=this.g;if((Ve=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ve)){var ke=Ve;break t}}ke=null}if(_=ke)hi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,_);else{this.o=!1,this.s=3,rt(12),Ut(this),Wn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=xu(this,ie),zt==ua){Rt==4&&(this.s=4,rt(14),_=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Vo){this.s=4,rt(15),hi(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else hi(this.i,this.l,zt,null),ps(this,zt);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)hi(this.i,this.l,ie,"[Invalid Chunked Response]"),Ut(this),Wn(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Rs(Ot),Ot.M=!0,rt(11))}}else hi(this.i,this.l,ie,null),ps(this,ie);Rt==4&&Ut(this),this.o&&!this.J&&(Rt==4?Bu(this.j,this):(this.o=!1,ms(this)))}else _f(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ut(this),Wn(this)}}}catch{}finally{}};function Nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ua:(_=Number(y.substring(_,w)),isNaN(_)?Vo:(w+=1,w+_>y.length?ua:(y=y.slice(w,w+_),c.C=w+_,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function ms(c){c.S=Date.now()+c.I,Du(c,c.I)}function Du(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),y)}function di(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Iu(this.i,this.A),this.L!=2&&(ci(),rt(17)),Ut(this),this.s=2,Wn(this)):Du(this,this.S-c)};function Wn(c){c.j.G==0||c.J||Bu(c.j,c)}function Ut(c){di(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ps(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ta(_),va(_);else break e;Qo(_),rt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(b(_.Za,_),6e3));if(1>=ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((c.K||_.g==c)&&Ta(_),!re(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ke=z[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Ot=ke[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const Rt=ke[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Pr=ke[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(w=1.5*Pr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const zt=c.g;if(zt){const sr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var K=w.h;K.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(fa(K,K.h),K.h=null))}if(w.D){const Yo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(w.ya=Yo,Ye(w.I,w.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ie=c;if(w.qa=Hu(w,w.J?w.ia:null,w.W),ie.K){tn(w.h,ie);var Ve=ie,bt=w.L;bt&&(Ve.I=bt),Ve.B&&(di(Ve),ms(Ve)),w.g=ie}else Uu(w);0<_.i.length&&Ea(_)}else ke[0]!="stop"&&ke[0]!="close"||Mr(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Mr(_,7):Fo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}ci(4)}catch{}}var Ou=class{constructor(c,y){this.g=c,this.map=y}};function Cr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ha(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Cr.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Y(c.i)}function mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=da(c),w=mf(c),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],_&&_[K],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),z=null;if(0<=w){var K=c[_].substring(0,w);z=c[_].substring(w+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,mi(this,c.s),this.l=c.l;var y=c.i,_=new Nr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ir(this,_),this.m=c.m}else c&&(y=String(c).match(gs))?(this.h=!1,ys(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),mi(this,y[4]),this.l=An(y[5]||"",!0),Ir(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(vs(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vs(_,_.charAt(0)=="/"?gf:zo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vs(_,ma)),c.join("")};function hn(c){return new _t(c)}function ys(c,y,_){c.j=_?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ir(c,y,_){y instanceof Nr?(c.i=y,Pu(c.i,c.h)):(_||(y=vs(y,yf)),c.i=new Nr(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function _s(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Mu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,zo=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,ma=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Nr.prototype,i.add=function(c,y){wn(this),this.i=null,c=Zn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xr(c,y){wn(c),y=Zn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Dr(c,y){return wn(c),y=Zn(c,y),c.g.has(y)}i.forEach=function(c,y){wn(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(y,z,w,this)},this)},this)},i.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const z=c[w];for(let K=0;K<z.length;K++)_.push(y[w])}return _},i.V=function(c){wn(this);let y=[];if(typeof c=="string")Dr(this,c)&&(y=y.concat(this.g.get(Zn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return wn(this),this.i=null,c=Zn(this,c),Dr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,_){xr(c,y),0<_.length&&(c.i=null,c.g.set(Zn(c,y),Y(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var z=K;ie[w]!==""&&(z+="="+encodeURIComponent(String(ie[w]))),c.push(z)}}return this.i=c.join("&")};function Zn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(xr(this,w),Bo(this,z,_))},c)),c.j=y}function Es(c,y){const _=new Sn;if(m.Image){const w=new Image;w.onload=P(bn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=P(bn,_,"TestLoadImage: error",!1,y,w),w.onabort=P(bn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(bn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function zn(c,y){const _=new Sn,w=new AbortController,z=setTimeout(()=>{w.abort(),bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?bn(_,"TestPingServer: ok",!0,y):bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),bn(_,"TestPingServer: error",!1,y)})}function bn(c,y,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function Ts(){this.g=new fs}function er(c,y,_){const w=_||"";try{jo(c,function(z,K){let ie=z;p(z)&&(ie=jn(z)),y.push(w+K+"="+encodeURIComponent(ie))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}H(pi,No),pi.prototype.g=function(){return new Or(this.l,this.j)},pi.prototype.i=function(c){return function(){return c}}({});function Or(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Or,ut),i=Or.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,nr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?tr(this):nr(this),this.readyState==3&&qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},i.Qa=function(c){this.g&&(this.response=c,tr(this))},i.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ho(c){let y="";return ge(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Dt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Ho(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(He,ut);var pa=/^https?$/i,Ss=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?xo(this.o):xo(Xn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Vu(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of _)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Vu(this,K)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ga(c),rr(c)}function ga(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},i.bb=function(){ya(this)};function ya(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Kt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ie===0){var z=String(c.D).match(gs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!pa.test(z?z.toLowerCase():"")}_=w}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<Rn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ga(c)}}finally{rr(c)}}}}function rr(c,y){if(c.g){As(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=w}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oa(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(re(c[w]))continue;var _=V(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}O(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _a(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_a.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){rt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Hu(this,null,this.W),Ea(this)};function Fo(c){if(Lu(c),c.G==3){var y=c.U++,_=hn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),bs(c,_),y=new en(c,c.j,y),y.L=2,y.v=_s(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ms(y)}qu(c)}function va(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Lu(c){va(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ea(c){if(!ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||x(),de||(ae(),de=!0),ze.add(y,c),c.B=0}}function vf(c,y){return ha(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,z,y),_=hn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),bs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Ho(K)))+"&"+y:this.m&&Dt(_,this.m,K)),fa(this.h,z),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),z.T=!0,Un(z,_,null)):Un(z,_,y),this.G=2}}else this.G==3&&(c?Go(this,c):this.i.length==0||ca(this.h)||Go(this))};function Go(c,y){var _;y?_=y.l:_=c.U++;const w=hn(c.I);Ye(w,"SID",c.K),Ye(w,"RID",_),Ye(w,"AID",c.T),bs(c,w),c.m&&c.o&&Dt(w,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fa(c.h,_),Un(_,w,y)}function bs(c,y){c.H&&ge(c.H,function(_,w){Ye(y,w,_)}),c.l&&jo({},function(_,w){Ye(y,w,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);var w=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ie=["count="+_];K==-1?0<_?(K=z[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Ve=!0;for(let bt=0;bt<_;bt++){let ke=z[bt].g;const Ot=z[bt].map;if(ke-=K,0>ke)K=Math.max(0,z[bt].g-100),Ve=!1;else try{er(Ot,ie,"req"+ke+"_")}catch{w&&w(Ot)}}if(Ve){w=ie.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Uu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||x(),de||(ae(),de=!0),ze.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),Ko(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),va(this),zu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),bs(c,y),c.m&&c.o&&Dt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(hn(y)),_.m=null,_.P=!0,Rr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,va(this),Qo(this),rt(19))};function Ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Bu(c,y){var _=null;if(c.g==y){Ta(c),Rs(c),c.g=null;var w=2}else if(ko(c.h,y))_=y.D,tn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=ui(),Ge(w,new wt(w,_)),Ea(c)}else Uu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&vf(c,y)||w==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mr(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),w=c.Xa;const z=!w;w=new _t(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ys(w,"https"),_s(w),z?Es(w.toString(),_):zn(w.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,_){var w=_ instanceof _t?hn(_):new _t(_);if(w.g!="")y&&(w.g=y+"."+w.g),mi(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new _t(null);w&&ys(K,w),y&&(K.g=y),z&&mi(K,z),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&Ye(w,_,y),Ye(w,"VER",c.la),bs(c,w),w}function Fu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new pi({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Sa(){}Sa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ir(this)}H(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Fo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new Ou(y.Ya++,c)),y.G==3&&Ea(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,nn.aa.N.call(this)};function Qu(c){wr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}H(Qu,wr);function Ku(){Oo.call(this),this.status=1}H(Ku,Oo);function ir(c){this.g=c}H(ir,Gu),ir.prototype.ua=function(){Ge(this.g,"a")},ir.prototype.ta=function(c){Ge(this.g,new Qu(c))},ir.prototype.sa=function(c){Ge(this.g,new Ku)},ir.prototype.ra=function(){Ge(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,dT=function(){return new Sa},fT=function(){return ui()},hT=$n,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,oh=fi,br.COMPLETE="complete",cT=br,Do.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",ut.prototype.listen=ut.prototype.K,zl=Do,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,uT=He}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new hp("@firebase/firestore");function Ja(){return Js.logLevel}function ce(i,...e){if(Js.logLevel<=Oe.DEBUG){const n=e.map(Sp);Js.debug(`Firestore (${vo}): ${i}`,...n)}}function ri(i,...e){if(Js.logLevel<=Oe.ERROR){const n=e.map(Sp);Js.error(`Firestore (${vo}): ${i}`,...n)}}function lo(i,...e){if(Js.logLevel<=Oe.WARN){const n=e.map(Sp);Js.warn(`Firestore (${vo}): ${i}`,...n)}}function Sp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mT(i,s,n)}function mT(i,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ri(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||mT(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class tC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new pT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class rC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function qm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Am(o)===Am(u)?Me(o,u):Am(o)?1:-1}return Me(i.length,e.length)}const oC=55296,lC=57343;function Am(i){const e=i.charCodeAt(0);return e>=oC&&e<=lC}function uo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class hr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=hr.isNumericId(e),o=hr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class tt extends hr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const uC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends hr{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return uC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Gt([hE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(i,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cC(i,e,n,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fE(i){if(!me.isDocumentKey(i))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dE(i){if(me.isDocumentKey(i))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Qn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(i);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i,e){const n={typeString:i};return e&&(n.value=e),n}function pu(i,e){if(!yT(i))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-62135596800,pE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pE);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mE)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:At("string",nt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nt(0,0))}static max(){return new Ae(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function hC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new Yi(o,me.empty(),e)}function fC(i){return new Yi(i.readTime,i.key,Zl)}class Yi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yi(Ae.min(),me.empty(),Zl)}static max(){return new Yi(Ae.max(),me.empty(),Zl)}}function dC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==mC)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{f[p]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function gC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Hh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function yC(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="";function _C(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=gE(e)),e=vC(i.get(n),e);return gE(e)}function vC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case _T:n+="";break;default:n+=u}}return n}function gE(i){return i+_T+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ns(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Nt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ET("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const EC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=EC.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xi(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",ST="__type__",AT="__previous_value__",wT="__local_write_time__";function bp(i){return(i?.mapValue?.fields||{})[ST]?.stringValue===TT}function Fh(i){const e=i.mapValue.fields[AT];return bp(e)?Fh(e):e}function eu(i){const e=$i(i.mapValue.fields[wT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,s,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const wh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",SC="__max__",Jc={mapValue:{}},RT="__vector__",bh="value";function Ji(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:wC(i)?9007199254740991:AC(i)?10:11:Ee(28295,{value:i})}function vr(i,e){if(i===e)return!0;const n=Ji(i);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eu(i).isEqual(eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=$i(o.timestampValue),m=$i(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(f)!==yE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!vr(f[g],m[g])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function nu(i,e){return(i.values||[]).find(n=>vr(n,e))!==void 0}function co(i,e){if(i===e)return 0;const n=Ji(i),s=Ji(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),g=pt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return vE(i.timestampValue,e.timestampValue);case 4:return vE(eu(i),eu(e));case 5:return qm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Xi(u),g=Xi(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Me(m[p],g[p]);if(E!==0)return E}return Me(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(pt(u.latitude),pt(f.latitude));return m!==0?m:Me(pt(u.longitude),pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return EE(i.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},g=f.fields||{},p=m[bh]?.arrayValue,E=g[bh]?.arrayValue,A=Me(p?.values?.length||0,E?.values?.length||0);return A!==0?A:EE(p,E)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const b=qm(g[A],E[A]);if(b!==0)return b;const P=co(m[g[A]],p[E[A]]);if(P!==0)return P}return Me(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function vE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=$i(i),s=$i(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function EE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function ho(i){return Hm(i)}function Hm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=$i(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Xi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return me.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Hm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Hm(n.fields[f])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function lh(i){switch(Ji(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(i);return e?16+lh(e):16;case 5:return 2*i.stringValue.length;case 6:return Xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+lh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ns(s.fields,(u,f)=>{o+=u.length+lh(f)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function TE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fm(i){return!!i&&"integerValue"in i}function Rp(i){return!!i&&"arrayValue"in i}function SE(i){return!!i&&"nullValue"in i}function AE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function AC(i){return(i?.mapValue?.fields||{})[bT]?.stringValue===RT}function Ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ns(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ql(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return{...i}}function wC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===SC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ns(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(Ql(this.value))}}function CT(i){const e=[];return ns(i.fields,(n,s)=>{const o=new Gt([n]);if(uh(s)){const u=CT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function wE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function bE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!vr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function bC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class St extends IT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CC(e,n,s):n==="array-contains"?new xC(e,s):n==="in"?new DC(e,s):n==="not-in"?new OC(e,s):n==="array-contains-any"?new MC(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IC(e,s):new NC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NT(i){return i.op==="and"}function xT(i){return RC(i)&&NT(i)}function RC(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function Gm(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(xT(i))return i.filters.map(e=>Gm(e)).join(",");{const e=i.filters.map(n=>Gm(n)).join(",");return`${i.op}(${e})`}}function DT(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&vr(s.value,o.value)}(i,e):i instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&DT(f,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function OT(i){return i instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"}(i):"Filter"}class CC extends St{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class IC extends St{constructor(e,n){super(e,"in",n),this.keys=MT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NC extends St{constructor(e,n){super(e,"not-in",n),this.keys=MT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MT(i,e){return(e.arrayValue?.values||[]).map(n=>me.fromName(n.referenceValue))}class xC extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&nu(n.arrayValue,this.value)}}class DC extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class OC extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class MC extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function RE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new PC(i,e,n,s,o,u,f)}function Cp(i){const e=we(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Gm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ho(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ho(s)).join(",")),e.Te=n}return e.Te}function Ip(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!bC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!DT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!bE(i.startAt,e.startAt)&&bE(i.endAt,e.endAt)}function Qm(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VC(i,e,n,s,o,u,f,m){return new So(i,e,n,s,o,u,f,m)}function Np(i){return new So(i)}function CE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function PT(i){return i.collectionGroup!==null}function Kl(i){const e=we(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Gt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ru(u,s))}),n.has(Gt.keyField().canonicalString())||e.Ie.push(new ru(Gt.keyField(),s))}return e.Ie}function pr(i){const e=we(i);return e.Ee||(e.Ee=kC(e,Kl(i))),e.Ee}function kC(i,e){if(i.limitType==="F")return RE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ru(o.field,u)});const n=i.endAt?new Rh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Rh(i.startAt.position,i.startAt.inclusive):null;return RE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Km(i,e){const n=i.filters.concat([e]);return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ym(i,e,n){return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gh(i,e){return Ip(pr(i),pr(e))&&i.limitType===e.limitType}function VT(i){return`${Cp(pr(i))}|lt:${i.limitType}`}function Wa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>OT(o)).join(", ")}]`),Hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ho(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ho(o)).join(",")),`Target(${s})`}(pr(i))}; limitType=${i.limitType})`}function Qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const p=wE(f,m,g);return f.inclusive?p<=0:p<0}(s.startAt,Kl(s),o)||s.endAt&&!function(f,m,g){const p=wE(f,m,g);return f.inclusive?p>=0:p>0}(s.endAt,Kl(s),o))}(i,e)}function LC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kT(i){return(e,n)=>{let s=!1;for(const o of Kl(i)){const u=jC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jC(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?co(g,p):Ee(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new ot(me.comparator);function ii(){return UC}const LT=new ot(me.comparator);function Bl(...i){let e=LT;for(const n of i)e=e.insert(n.key,n);return e}function jT(i){let e=LT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fs(){return Yl()}function UT(){return Yl()}function Yl(){return new ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const zC=new ot(me.comparator),BC=new Nt(me.comparator);function Pe(...i){let e=BC;for(const n of i)e=e.add(n);return e}const qC=new Nt(Me);function HC(){return qC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function zT(i){return{integerValue:""+i}}function FC(i,e){return yC(e)?zT(e):xp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function GC(i,e,n){return i instanceof Ch?function(o,u){const f={fields:{[ST]:{stringValue:TT},[wT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=Fh(u)),u&&(f.fields[AT]=u),{mapValue:f}}(n,e):i instanceof iu?qT(i,e):i instanceof su?HT(i,e):function(o,u){const f=BT(o,u),m=IE(f)+IE(o.Ae);return Fm(f)&&Fm(o.Ae)?zT(m):xp(o.serializer,m)}(i,e)}function QC(i,e,n){return i instanceof iu?qT(i,e):i instanceof su?HT(i,e):n}function BT(i,e){return i instanceof Ih?function(s){return Fm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ch extends Kh{}class iu extends Kh{constructor(e){super(),this.elements=e}}function qT(i,e){const n=FT(e);for(const s of i.elements)n.some(o=>vr(o,s))||n.push(s);return{arrayValue:{values:n}}}class su extends Kh{constructor(e){super(),this.elements=e}}function HT(i,e){let n=FT(e);for(const s of i.elements)n=n.filter(o=>!vr(o,s));return{arrayValue:{values:n}}}class Ih extends Kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IE(i){return pt(i.integerValue||i.doubleValue)}function FT(i){return Rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function KC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof iu&&o instanceof iu||s instanceof su&&o instanceof su?uo(s.elements,o.elements,vr):s instanceof Ih&&o instanceof Ih?vr(s.Ae,o.Ae):s instanceof Ch&&o instanceof Ch}(i.transform,e.transform)}class YC{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Yh{}function GT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Dp(i.key,Ln.none()):new gu(i.key,i.data,Ln.none());{const n=i.data,s=un.empty();let o=new Nt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(i.key,s,new vn(o.toArray()),Ln.none())}}function $C(i,e,n){i instanceof gu?function(o,u,f){const m=o.value.clone(),g=xE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof rs?function(o,u,f){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=xE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(QT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(i,e,n,s){return i instanceof gu?function(u,f,m,g){if(!ch(u.precondition,f))return m;const p=u.value.clone(),E=DE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(i,e,n,s):i instanceof rs?function(u,f,m,g){if(!ch(u.precondition,f))return m;const p=DE(u.fieldTransforms,g,f),E=f.data;return E.setAll(QT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function XC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=BT(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function NE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,(u,f)=>KC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends Yh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends Yh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function xE(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,QC(f,m,n[o]))}return s}function DE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,GC(u,f,e))}return s}class Dp extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JC extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$C(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=UT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=GT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,s)=>NE(n,s))&&uo(this.baseMutations,e.baseMutations,(n,s)=>NE(n,s))}}class Op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return zC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function tI(i){switch(i){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function KT(i){if(i===void 0)return ri("GRPC error has no .code"),W.UNKNOWN;switch(i){case Tt.OK:return W.OK;case Tt.CANCELLED:return W.CANCELLED;case Tt.UNKNOWN:return W.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return W.INTERNAL;case Tt.UNAVAILABLE:return W.UNAVAILABLE;case Tt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Tt.NOT_FOUND:return W.NOT_FOUND;case Tt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Tt.ABORTED:return W.ABORTED;case Tt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Tt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:i})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Qi([4294967295,4294967295],0);function OE(i){const e=nI().encode(i),n=new lT;return n.update(e),new Uint8Array(n.digest())}function ME(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([n,s],0),new Qi([o,u],0)]}class Mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Qi.fromNumber(s)));return o.compare(rI)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=OE(e),[s,o]=ME(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $h(Ae.min(),o,new ot(Me),ii(),Pe())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class YT{constructor(e,n){this.targetId=e,this.Ce=n}}class $T{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class PE{constructor(){this.ve=0,this.Fe=VE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new yu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=VE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ii(),this.Je=Wc(),this.He=Wc(),this.Ye=new ot(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Qm(u))if(s===0){const f=new me(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xi(s).toUint8Array()}catch(g){if(g instanceof ET)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Mp(f,o,u)}catch(g){return lo(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Qm(m.target)){const g=new me(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Pe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new $h(e,n,this.Ye,this.je,s);return this.je=ii(),this.Je=Wc(),this.He=Wc(),this.Ye=new ot(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ot(me.comparator)}function VE(){return new ot(me.comparator)}const sI={asc:"ASCENDING",desc:"DESCENDING"},aI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oI={and:"AND",or:"OR"};class lI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(i,e){return i.useProto3Json||Hh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uI(i,e){return Nh(i,e.toTimestamp())}function gr(i){return Fe(!!i,49232),Ae.fromTimestamp(function(n){const s=$i(n);return new nt(s.seconds,s.nanos)}(i))}function Pp(i,e){return Xm(i,e).canonicalString()}function Xm(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function JT(i){const e=tt.fromString(i);return Fe(n1(e),10190,{key:e.toString()}),e}function Jm(i,e){return Pp(i.databaseId,e.path)}function wm(i,e){const n=JT(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(ZT(n))}function WT(i,e){return Pp(i.databaseId,e)}function cI(i){const e=JT(i);return e.length===4?tt.emptyPath():ZT(e)}function Wm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ZT(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function kE(i,e,n){return{name:Jm(i,e),fields:n.value.mapValue.fields}}function hI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?W.UNKNOWN:KT(p.code);return new ue(E,p.message||"")}(f);n=new $T(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(i,s.document.name),u=gr(s.document.updateTime),f=s.document.createTime?gr(s.document.createTime):Ae.min(),m=new un({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new hh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(i,s.document),u=s.readTime?gr(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(i,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new eI(o,u),m=s.targetId;n=new YT(m,f)}}return n}function fI(i,e){let n;if(e instanceof gu)n={update:kE(i,e.key,e.value)};else if(e instanceof Dp)n={delete:Jm(i,e.key)};else if(e instanceof rs)n={update:kE(i,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof JC))return Ee(16599,{Vt:e.type});n={verify:Jm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:uI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),n}function dI(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?gr(o.updateTime):gr(u);return f.isEqual(Ae.min())&&(f=gr(u)),new YC(f,o.transformResults||[])}(n,e))):[]}function mI(i,e){return{documents:[WT(i,e.path)]}}function pI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WT(i,o);const u=function(p){if(p.length!==0)return t1(Kn.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(b){return{field:Za(b.field),direction:_I(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:o}}function gI(i){let e=cI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const b=e1(A);return b instanceof Kn&&xT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(b=>function(H){return new ru(eo(H.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,Hh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(A){const b=!!A.before,P=A.values||[];return new Rh(P,b)}(n.startAt));let p=null;return n.endAt&&(p=function(A){const b=!A.before,P=A.values||[];return new Rh(P,b)}(n.endAt)),VC(e,o,f,u,m,"F",g,p)}function yI(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e1(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return St.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(n){return St.create(eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>e1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(i):Ee(30097,{filter:i})}function _I(i){return sI[i]}function vI(i){return aI[i]}function EI(i){return oI[i]}function Za(i){return{fieldPath:i.canonicalString()}}function eo(i){return Gt.fromServerFormat(i.fieldPath)}function t1(i){return i instanceof St?function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:vI(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(o=>t1(o));return s.length===1?s[0]:{compositeFilter:{op:EI(n.op),filters:s}}}(i):Ee(54877,{filter:i})}function TI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.yt=e}}function AI(i){const e=gI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Cn=new bI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Yi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class bI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(r1,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",RI=1048576;function UE([i,e],[n,s]){const o=Me(i,n);return o===0?Me(e,s):o}class CI{constructor(e){this.Ir=e,this.buffer=new Nt(UE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();UE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(jE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?ce(jE,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)})}}class NI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(qh.ce);const s=new CI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(LE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(p=Date.now(),Ja()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function xI(i,e){return new NI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&$l(s.mutation,o,vn.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Bl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ii();const f=Yl(),m=function(){return Yl()}();return n.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),$l(E.mutation,p,E.mutation.getFieldMask(),nt.now())):f.set(p.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>m.set(p,new OI(E,f.get(p)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new ot((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||vn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const A=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,A=UT();E.forEach(b=>{if(!u.has(b)){const P=GT(n.get(b),s.get(b));P!==null&&A.set(b,P),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Fs());let m=Zl,g=u;return f.next(p=>ee.forEach(p,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,Pe())).next(E=>({batchId:m,changes:jT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,g=>{const p=function(A,b){return new So(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Bl();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&$l(E.mutation,p,vn.empty(),nt.now()),Qh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:AI(o.bundledQuery),readTime:gr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.overlays=new ot(me.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Fs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new ZC(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.Qr=new Nt(kt.$r),this.Ur=new Nt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new me(new tt([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new kt(n,e),o=new kt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new WC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Me);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let m=new Nt(Me);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)},f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.ri=e,this.docs=function(){return new ot(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ii();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ii();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||dC(fC(E),s)<=0||(o.has(E.key)||Qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new UI(this)}getSize(e){return ee.resolve(this.size)}}class UI extends DI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.persistence=e,this.si=new ea(n=>Cp(n),Ip),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Vp,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.ui={},this.overlays={},this.ci=new qh(0),this.li=!1,this.li=!0,this.hi=new kI,this.referenceDelegate=e(this),this.Pi=new zI(this),this.indexManager=new wI,this.remoteDocumentCache=function(o){return new jI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new SI(n),this.Ii=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new LI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new BI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class BI extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Vp,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=me.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.pi=new ea(s=>_C(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=xI(this,n)}static mi(e,n){return new xh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Lp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Tw()?8:gC(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new qI;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ja()<=Oe.DEBUG&&ce("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):ee.resolve())}ys(e,n){if(CE(n))return ee.resolve(null);let s=pr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),s=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,p,n,g)}))})))}ws(e,n,s,o){return CE(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Ja()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.vs(e,f,n,hC(o,Zl)).next(m=>m))})}Ds(e,n){let s=new Nt(kT(e));return n.forEach((o,u)=>{Qh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(e,n,Yi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",FI=3e8;class GI{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(Me),this.xs=new ea(u=>Cp(u),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function QI(i,e,n,s){return new GI(i,e,n,s)}async function s1(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Pe();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(p=>({Ls:p,removedBatchIds:f,addedBatchIds:m}))})})}function KI(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const A=p.batch,b=A.keys();let P=ee.resolve();return b.forEach(H=>{P=P.next(()=>E.getEntry(g,H)).next(Y=>{const L=p.docVersions.get(H);Fe(L!==null,48541),Y.version.compareTo(L)<0&&(A.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function a1(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function YI(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,A)=>{const b=o.get(A);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(A,P),function(Y,L,Q){return Y.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=FI?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(b,P,E)&&m.push(n.Pi.updateTargetData(u,P))});let g=ii(),p=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push($I(u,f,e.documentUpdates).next(E=>{g=E.ks,p=E.qs})),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ms=o,u))}function $I(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ii();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ce(jp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{ks:f,qs:o}})}function XI(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function JI(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new qi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Zm(i,e,n){const s=we(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!To(f))throw f;ce(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zE(i,e,n){const s=we(i);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const A=we(g),b=A.xs.get(E);return b!==void 0?ee.resolve(A.Ms.get(b)):A.Pi.getTargetData(p,E)}(s,f,pr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Pe())).next(m=>(WI(s,LC(e),m),{documents:m,Qs:u})))}function WI(i,e,n){let s=i.Os.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class BE{constructor(){this.activeTargetIds=HC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(){this.Mo=new BE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class HE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(qE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function ep(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",tN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ep(),m=this.zo(e,n.toUriEncodedString());ce(bm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=go(p);return this.Jo(e,m,g,s,E).then(A=>(ce(bm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw lo(bm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=tN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class iN extends nN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ep();return new Promise((m,g)=>{const p=new uT;p.setWithCredentials(!0),p.listenOnce(cT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oh.NO_ERROR:const A=p.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case oh.TIMEOUT:ce(Xt,`RPC '${e}' ${f} timed out`),g(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const b=p.getStatus();if(ce(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P?.error;if(H&&H.status&&H.message){const Y=function(Q){const re=Q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(re)>=0?re:W.UNKNOWN}(H.status);g(new ue(Y,H.message))}else g(new ue(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)})}T_(e,n,s){const o=ep(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=dT(),m=fT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const A=f.createWebChannel(E,g);this.I_(A);let b=!1,P=!1;const H=new rN({Yo:L=>{P?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(b||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Zo:()=>A.close()}),Y=(L,Q,re)=>{L.listen(Q,se=>{try{re(se)}catch(be){setTimeout(()=>{throw be},0)}})};return Y(A,zl.EventType.OPEN,()=>{P||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),H.o_())}),Y(A,zl.EventType.CLOSE,()=>{P||(P=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(A))}),Y(A,zl.EventType.ERROR,L=>{P||(P=!0,lo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),H.a_(new ue(W.UNAVAILABLE,"The operation could not be completed")))}),Y(A,zl.EventType.MESSAGE,L=>{if(!P){const Q=L.data[0];Fe(!!Q,16349);const re=Q,se=re?.error||re[0]?.error;if(se){ce(Xt,`RPC '${e}' stream ${o} received error:`,se);const be=se.status;let le=function(R){const I=Tt[R];if(I!==void 0)return KT(I)}(be),ge=se.message;le===void 0&&(le=W.INTERNAL,ge="Unknown error status: "+be+" with message "+se.message),P=!0,H.a_(new ue(le,ge)),A.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,Q),H.u_(Q)}}),Y(m,hT.STAT_EVENT,L=>{L.stat===Bm.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.__()},0),H}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i){return new lI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class l1{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sN extends l1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?gr(f.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Qm(g)?{documents:mI(u,g)}:{query:pI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=XT(u,f.resumeToken);const p=$m(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const p=$m(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=yI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class aN extends l1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=dI(e.writeResults,e.commitTime),s=gr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>fI(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{}class lN extends oN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Xm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Xm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(W.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ri(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class cN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{ta(this)&&(ce(Ws,"Restarting streams for network reachability change."),await async function(g){const p=we(g);p.Ea.add(4),await _u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Jh(p)}(this))})}),this.Ra=new uN(s,o)}}async function Jh(i){if(ta(i))for(const e of i.da)await e(!0)}async function _u(i){for(const e of i.da)await e(!1)}function u1(i,e){const n=we(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Bp(n):Ao(n).O_()&&zp(n,e))}function Up(i,e){const n=we(i),s=Ao(n);n.Ia.delete(e),s.O_()&&c1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ta(n)&&n.Ra.set("Unknown"))}function zp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(i).Y_(e)}function c1(i,e){i.Va.Ue(e),Ao(i).Z_(e)}function Bp(i){i.Va=new iI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ao(i).start(),i.Ra.ua()}function qp(i){return ta(i)&&!Ao(i).x_()&&i.Ia.size>0}function ta(i){return we(i).Ea.size===0}function h1(i){i.Va=void 0}async function hN(i){i.Ra.set("Online")}async function fN(i){i.Ia.forEach((e,n)=>{zp(i,e)})}async function dN(i,e){h1(i),qp(i)?(i.Ra.ha(e),Bp(i)):i.Ra.set("Unknown")}async function mN(i,e,n){if(i.Ra.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){ce(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(i,s)}else if(e instanceof hh?i.Va.Ze(e):e instanceof YT?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await a1(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),c1(u,g);const A=new qi(E.target,g,p,E.sequenceNumber);zp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(Ws,"Failed to raise snapshot:",s),await Dh(i,s)}}async function Dh(i,e,n){if(!To(e))throw e;i.Ea.add(1),await _u(i),i.Ra.set("Offline"),n||(n=()=>a1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Ws,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Jh(i)})}function f1(i,e){return e().catch(n=>Dh(i,n,e))}async function Wh(i){const e=we(i),n=Wi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;pN(e);)try{const o=await XI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,gN(e,o)}catch(o){await Dh(e,o)}d1(e)&&m1(e)}function pN(i){return ta(i)&&i.Ta.length<10}function gN(i,e){i.Ta.push(e);const n=Wi(i);n.O_()&&n.X_&&n.ea(e.mutations)}function d1(i){return ta(i)&&!Wi(i).x_()&&i.Ta.length>0}function m1(i){Wi(i).start()}async function yN(i){Wi(i).ra()}async function _N(i){const e=Wi(i);for(const n of i.Ta)e.ea(n.mutations)}async function vN(i,e,n){const s=i.Ta.shift(),o=Op.from(s,e,n);await f1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Wh(i)}async function EN(i,e){e&&Wi(i).X_&&await async function(s,o){if(function(f){return tI(f)&&f!==W.ABORTED}(o.code)){const u=s.Ta.shift();Wi(s).B_(),await f1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wh(s)}}(i,e),d1(i)&&m1(i)}async function GE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ce(Ws,"RemoteStore received new credentials");const s=ta(n);n.Ea.add(3),await _u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jh(n)}async function TN(i,e){const n=we(i);e?(n.Ea.delete(2),await Jh(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Ao(i){return i.ma||(i.ma=function(n,s,o){const u=we(n);return u.sa(),new sN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:hN.bind(null,i),t_:fN.bind(null,i),r_:dN.bind(null,i),H_:mN.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),qp(i)?Bp(i):i.Ra.set("Unknown")):(await i.ma.stop(),h1(i))})),i.ma}function Wi(i){return i.fa||(i.fa=function(n,s,o){const u=we(n);return u.sa(),new aN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:yN.bind(null,i),r_:EN.bind(null,i),ta:_N.bind(null,i),na:vN.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Wh(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(Ws,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Hp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(ri("AsyncQueue",`${e}: ${i}`),To(i))return new ue(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.ga=new ot(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class mo{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new mo(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AN{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=KE(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function KE(){return new ea(i=>VT(i),Gh)}async function p1(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new SN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Fp(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function g1(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wN(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Gp(n)}function bN(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Gp(i){i.Ca.forEach(e=>{e.next()})}var tp,YE;(YE=tp||(tp={})).Ma="default",YE.Cache="cache";class y1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.key=e}}class v1{constructor(e){this.key=e}}class RN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=kT(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const b=o.get(E),P=Qh(this.query,A)?A:null,H=!!b&&this.mutatedKeys.has(b.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;b&&P?b.data.isEqual(P.data)?H!==Y&&(s.track({type:3,doc:P}),L=!0):this.su(b,P)||(s.track({type:2,doc:P}),L=!0,(g&&this.eu(P,g)>0||p&&this.eu(P,p)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),L=!0):b&&!P&&(s.track({type:1,doc:b}),L=!0,(g||p)&&(m=!0)),L&&(P?(f=f.add(P),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,A)=>function(P,H){const Y=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return Y(P)-Y(H)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new mo(this.query,e.tu,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new v1(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new _1(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class CN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IN{constructor(e){this.key=e,this.hu=!1}}class NN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea(m=>VT(m),Gh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(me.comparator),this.Au=new Map,this.Ru=new Vp,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xN(i,e,n=!0){const s=b1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await E1(s,e,n,!0),o}async function DN(i,e){const n=b1(i);await E1(n,e,!0,!1)}async function E1(i,e,n,s){const o=await JI(i.localStore,pr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ON(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&u1(i.remoteStore,o),m}async function ON(i,e,n,s,o){i.pu=(A,b,P)=>async function(Y,L,Q,re){let se=L.view.ru(Q);se.Cs&&(se=await zE(Y.localStore,L.query,!1).then(({documents:O})=>L.view.ru(O,se)));const be=re&&re.targetChanges.get(L.targetId),le=re&&re.targetMismatches.get(L.targetId)!=null,ge=L.view.applyChanges(se,Y.isPrimaryClient,be,le);return XE(Y,L.targetId,ge.au),ge.snapshot}(i,A,b,P);const u=await zE(i.localStore,e,!0),f=new RN(e,u.Qs),m=f.ru(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=f.applyChanges(m,i.isPrimaryClient,g);XE(i,n,p.au);const E=new CN(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function MN(i,e,n){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Gh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Up(s.remoteStore,o.targetId),np(s,o.targetId)}).catch(Eo)):(np(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function PN(i,e){const n=we(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Up(n.remoteStore,s.targetId))}async function VN(i,e,n){const s=qN(i);try{const o=await function(f,m){const g=we(f),p=nt.now(),E=m.reduce((P,H)=>P.add(H.key),Pe());let A,b;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let H=ii(),Y=Pe();return g.Ns.getEntries(P,E).next(L=>{H=L,H.forEach((Q,re)=>{re.isValidDocument()||(Y=Y.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,H)).next(L=>{A=L;const Q=[];for(const re of m){const se=XC(re,A.get(re.key).overlayedDocument);se!=null&&Q.push(new rs(re.key,se,CT(se.value.mapValue),Ln.exists(!0)))}return g.mutationQueue.addMutationBatch(P,p,Q,m)}).next(L=>{b=L;const Q=L.applyToLocalDocumentSet(A,Y);return g.documentOverlayCache.saveOverlays(P,L.batchId,Q)})}).then(()=>({batchId:b.batchId,changes:jT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new ot(Me)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p}(s,o.batchId,n),await vu(s,o.changes),await Wh(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function T1(i,e){const n=we(i);try{const s=await YI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))}),await vu(n,s,e)}catch(s){await Eo(s)}}function $E(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=we(f);g.onlineState=m;let p=!1;g.queries.forEach((E,A)=>{for(const b of A.Sa)b.va(m)&&(p=!0)}),p&&Gp(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kN(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ot(me.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Pe().add(u),g=new $h(Ae.min(),new Map,new ot(Me),f,m);await T1(s,g),s.du=s.du.remove(u),s.Au.delete(e),Kp(s)}else await Zm(s.localStore,e,!1).then(()=>np(s,e,n)).catch(Eo)}async function LN(i,e){const n=we(i),s=e.batch.batchId;try{const o=await KI(n.localStore,e);A1(n,s,null),S1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Eo(o)}}async function jN(i,e,n){const s=we(i);try{const o=await function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(A=>(Fe(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(p,A))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,e);A1(s,e,n),S1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await Eo(o)}}function S1(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function A1(i,e,n){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function np(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||w1(i,s)})}function w1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Up(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Kp(i))}function XE(i,e,n){for(const s of n)s instanceof _1?(i.Ru.addReference(s.key,e),UN(i,s)):s instanceof v1?(ce(Qp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||w1(i,s.key)):Ee(19791,{wu:s})}function UN(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ce(Qp,"New document in limbo: "+n),i.Eu.add(s),Kp(i))}function Kp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new IN(n)),i.du=i.du.insert(n,s),u1(i.remoteStore,new qi(pr(Np(n.path)),s,"TargetPurposeLimboResolution",qh.ce))}}async function vu(i,e,n){const s=we(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{f.push(s.pu(g,e,n).then(p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Lp.As(g.targetId,p);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,p){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(p,b=>ee.forEach(b.Es,P=>E.persistence.referenceDelegate.addReference(A,b.targetId,P)).next(()=>ee.forEach(b.ds,P=>E.persistence.referenceDelegate.removeReference(A,b.targetId,P)))))}catch(A){if(!To(A))throw A;ce(jp,"Failed to update sequence numbers: "+A)}for(const A of p){const b=A.targetId;if(!A.fromCache){const P=E.Ms.get(b),H=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(b,Y)}}}(s.localStore,u))}async function zN(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ce(Qp,"User change. New user:",e.toKey());const s=await s1(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new ue(W.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function BN(i,e){const n=we(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function b1(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kN.bind(null,e),e.Pu.H_=wN.bind(null,e.eventManager),e.Pu.yu=bN.bind(null,e.eventManager),e}function qN(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jN.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return QI(this.persistence,new HI,e.initialUser,this.serializer)}Cu(e){return new i1(kp.mi,this.serializer)}Du(e){return new ZI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class HN extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new II(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new i1(s=>xh.mi(s,n),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zN.bind(null,this.syncEngine),await TN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AN}()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=function(u){return new iN(u)}(e.databaseInfo);return function(u,f,m,g){return new lN(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new cN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return HE.v()?new HE:new eN}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,E){const A=new NN(o,u,f,m,g,p);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=we(n);ce(Ws,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class FN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(Zi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Zi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Cm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Zi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await s1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function JE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await GN(i);ce(Zi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>GE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>GE(e.remoteStore,o)),i._onlineComponents=e}async function GN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Zi,"Using user provided OfflineComponentProvider");try{await Cm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await Cm(i,new Oh)}}else ce(Zi,"Using default OfflineComponentProvider"),await Cm(i,new HN(void 0));return i._offlineComponents}async function C1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Zi,"Using user provided OnlineComponentProvider"),await JE(i,i._uninitializedComponentsProvider._online)):(ce(Zi,"Using default OnlineComponentProvider"),await JE(i,new rp))),i._onlineComponents}function QN(i){return C1(i).then(e=>e.syncEngine)}async function I1(i){const e=await C1(i),n=e.eventManager;return n.onListen=xN.bind(null,e.syncEngine),n.onUnlisten=MN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PN.bind(null,e.syncEngine),n}function KN(i,e,n={}){const s=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new R1({next:b=>{E.Nu(),f.enqueueAndForget(()=>g1(u,A));const P=b.docs.has(m);!P&&b.fromCache?p.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&g&&g.source==="server"?p.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new y1(Np(m.path),E,{includeMetadataChanges:!0,qa:!0});return p1(u,A)}(await I1(i),i.asyncQueue,e,n,s)),s.promise}function YN(i,e,n={}){const s=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new R1({next:b=>{E.Nu(),f.enqueueAndForget(()=>g1(u,A)),b.fromCache&&g.source==="server"?p.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new y1(m,E,{includeMetadataChanges:!0,qa:!0});return p1(u,A)}(await I1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firestore.googleapis.com",ZE=!0;class e0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x1,this.ssl=ZE}else this.host=e.host,this.ssl=e.ssl??ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RI)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eC;switch(s.type){case"firstParty":return new iC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=WE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),WE.delete(n),s.terminate())}(this),Promise.resolve()}}function $N(i,e,n,s={}){i=Qn(i,Zh);const o=go(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(E0(`https://${m}`),T0("Firestore",!0)),u.host!==x1&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ks(g,f)&&(i._setSettings(g),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Jt.MOCK_USER;else{p=fw(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jt(A)}i._authCredentials=new tC(new pT(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(pu(n,gt._jsonSchema))return new gt(e,s||null,new me(tt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:At("string",gt._jsonSchemaVersion),referencePath:At("string")};class Ki extends na{constructor(e,n,s){super(e,n,Np(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new me(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function ip(i,e,...n){if(i=Lt(i),gT("collection","path",e),i instanceof Zh){const s=tt.fromString(e,...n);return dE(s),new Ki(i,null,s)}{if(!(i instanceof gt||i instanceof Ki))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return dE(s),new Ki(i.firestore,null,s)}}function fr(i,e,...n){if(i=Lt(i),arguments.length===1&&(e=Ap.newId()),gT("doc","path",e),i instanceof Zh){const s=tt.fromString(e,...n);return fE(s),new gt(i,null,new me(s))}{if(!(i instanceof gt||i instanceof Ki))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return fE(s),new gt(i.firestore,i instanceof Ki?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="AsyncQueue";class n0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o1(this,"async_queue_retry"),this._c=()=>{const s=Rm();s&&ce(t0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ce(t0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ri("INTERNAL UNHANDLED ERROR: ",r0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:r0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ra extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new n0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n0(e),this._firestoreClient=void 0,await e}}}function XN(i,e){const n=typeof i=="object"?i:b0(),s=typeof i=="string"?i:wh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=cw("firestore");u&&$N(o,...u)}return o}function Yp(i){if(i._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||JN(i),i._firestoreClient}function JN(i){const e=i._freezeSettings(),n=function(o,u,f,m){return new TC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,N1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new FN(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Qt.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:At("string",kn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(pu(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:At("string",yr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,_r._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _r(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:At("string",_r._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^__.*__$/;class ZN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class D1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function O1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O1(this.Ac)&&WN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ex{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}Cc(e,n,s,o=!1){return new Xp({Ac:e,methodName:n,Dc:s,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(i){const e=i._freezeSettings(),n=Xh(i._databaseId);return new ex(i._databaseId,!!e.ignoreUndefinedProperties,n)}function M1(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Jp("Data must be an object, but it was:",f,s);const m=P1(s,f);let g,p;if(u.merge)g=new vn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=sp(e,A,n);if(!f.contains(b))throw new ue(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);k1(E,b)||E.push(b)}g=new vn(E),p=f.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,p=f.fieldTransforms;return new ZN(new un(m),g,p)}class nf extends $p{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function tx(i,e,n,s){const o=i.Cc(1,e,n);Jp("Data must be an object, but it was:",o,s);const u=[],f=un.empty();ns(s,(g,p)=>{const E=Wp(e,g,n);p=Lt(p);const A=o.yc(E);if(p instanceof nf)u.push(E);else{const b=Eu(p,A);b!=null&&(u.push(E),f.set(E,b))}});const m=new vn(u);return new D1(f,m,o.fieldTransforms)}function nx(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[sp(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(sp(e,u[b])),g.push(u[b+1]);const p=[],E=un.empty();for(let b=m.length-1;b>=0;--b)if(!k1(p,m[b])){const P=m[b];let H=g[b];H=Lt(H);const Y=f.yc(P);if(H instanceof nf)p.push(P);else{const L=Eu(H,Y);L!=null&&(p.push(P),E.set(P,L))}}const A=new vn(p);return new D1(E,A,f.fieldTransforms)}function rx(i,e,n,s=!1){return Eu(n,i.Cc(s?4:3,e))}function Eu(i,e){if(V1(i=Lt(i)))return Jp("Unsupported field value:",e,i),P1(i,e);if(i instanceof $p)return function(s,o){if(!O1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Eu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:XT(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _r)return function(f,m){return{mapValue:{fields:{[bT]:{stringValue:RT},[bh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return xp(m.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Bh(s)}`)}(i,e)}function P1(i,e){const n={};return vT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(i,(s,o)=>{const u=Eu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function V1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof yr||i instanceof kn||i instanceof gt||i instanceof $p||i instanceof _r)}function Jp(i,e,n){if(!V1(n)||!yT(n)){const s=Bh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function sp(i,e,n){if((e=Lt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Wp(i,e);throw Mh("Field path arguments must be of type string or ",i,!1,void 0,n)}const ix=new RegExp("[~\\*/\\[\\]]");function Wp(i,e,n){if(e.search(ix)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(W.INVALID_ARGUMENT,m+i+g)}function k1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sx extends L1{data(){return super.data()}}function rf(i,e){return typeof e=="string"?Wp(i,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class j1 extends Zp{}function ox(i,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof eg).length,m=u.filter(g=>g instanceof sf).length;if(f>1||f>0&&m>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class sf extends j1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new sf(e,n,s)}_apply(e){const n=this._parse(e);return U1(e._query,n),new na(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=tf(e.firestore);return function(u,f,m,g,p,E,A){let b;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){s0(A,E);const H=[];for(const Y of A)H.push(i0(g,u,Y));b={arrayValue:{values:H}}}else b=i0(g,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||s0(A,E),b=rx(m,f,A,E==="in"||E==="not-in");return St.create(p,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lx(i,e,n){const s=e,o=rf("where",i);return sf._create(o,s,n)}class eg extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)U1(f,g),f=Km(f,g)}(e._query,n),new na(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tg extends j1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(u,f)}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new So(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function ux(i,e="asc"){const n=e,s=rf("orderBy",i);return tg._create(s,n)}function i0(i,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PT(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TE(i,new me(s))}if(n instanceof gt)return TE(i,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function s0(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U1(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cx{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ns(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[bh].arrayValue?.values?.map(s=>pt(s.doubleValue));return new _r(n)}convertGeoPoint(e){return new yr(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=$i(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(n1(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qs extends L1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:At("string",Qs._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class fh extends Qs{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:hx(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(i){i=Qn(i,gt);const e=Qn(i.firestore,ra);return KN(Yp(e),i._key).then(n=>px(e,i,n))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:At("string",ao._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class B1 extends cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function fx(i){i=Qn(i,na);const e=Qn(i.firestore,ra),n=Yp(e),s=new B1(e);return ax(i._query),YN(n,i._query).then(o=>new ao(e,s,i,o))}function dx(i,e,n){i=Qn(i,gt);const s=Qn(i.firestore,ra),o=z1(i.converter,e);return af(s,[M1(tf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ln.none())])}function Im(i,e,n,...s){i=Qn(i,gt);const o=Qn(i.firestore,ra),u=tf(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof ef?nx(u,"updateDoc",i._key,e,n,s):tx(u,"updateDoc",i._key,e),af(o,[f.toMutation(i._key,Ln.exists(!0))])}function mx(i){return af(Qn(i.firestore,ra),[new Dp(i._key,Ln.none())])}function q1(i,e){const n=Qn(i.firestore,ra),s=fr(i),o=z1(i.converter,e);return af(n,[M1(tf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function af(i,e){return function(s,o){const u=new Wr;return s.asyncQueue.enqueueAndForget(async()=>VN(await QN(s),o,u)),u.promise}(Yp(i),e)}function px(i,e,n){const s=n.docs.get(e._key),o=new B1(i);return new Qs(i,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){vo=o})(yo),oo(new Ys("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ra(new nC(s.getProvider("auth-internal")),new sC(f,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(p.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Gi(lE,uE,e),Gi(lE,uE,"esm2020")})();var gx="firebase",yx="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(gx,yx,"app");const _x={apiKey:"AIzaSyAZOH18yEJr80qrZa028xu2ZW8ntYjep-M",authDomain:"osvan-a0589.firebaseapp.com",projectId:"osvan-a0589",storageBucket:"osvan-a0589.firebasestorage.app",messagingSenderId:"357247107529",appId:"1:357247107529:web:4ae0c90e327ca00e226818"},H1=w0(_x),kl=W2(H1),Pn=XN(H1),eh={async login(i){try{const e=await LR(kl,i.email,i.password),n=await Gs(fr(Pn,"users",e.user.uid));if(!n.exists())throw new Error("Usuário não encontrado");return{user:n.data(),token:await e.user.getIdToken()}}catch(e){throw e.code==="auth/user-not-found"?new Error("Usuário não encontrado"):e.code==="auth/wrong-password"?new Error("Senha incorreta"):e.code==="auth/invalid-email"?new Error("E-mail inválido"):new Error("Erro ao fazer login")}},async register(i){try{const e=await kR(kl,i.email,i.password),n={uid:e.user.uid,name:i.name,email:i.email,role:i.role||"client",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),cnpjs:[]};return await dx(fr(Pn,"users",e.user.uid),n),{user:n,token:await e.user.getIdToken()}}catch(e){throw e.code==="auth/email-already-in-use"?new Error("E-mail já está em uso"):e.code==="auth/weak-password"?new Error("Senha muito fraca"):e.code==="auth/invalid-email"?new Error("E-mail inválido"):new Error("Erro ao registrar usuário")}},async logout(){try{await BR(kl)}catch{throw new Error("Erro ao fazer logout")}},async getCurrentUser(){try{const i=kl.currentUser;if(!i)return null;const e=await Gs(fr(Pn,"users",i.uid));return e.exists()?e.data():null}catch{return null}},onAuthStateChange(i){return zR(kl,async e=>{if(e)try{const n=await Gs(fr(Pn,"users",e.uid));if(n.exists()){const s=n.data();i(s)}else i(null)}catch{i(null)}else i(null)})}},vx=()=>{const[i,e]=U.useState(null),[n,s]=U.useState(!0),[o,u]=U.useState(null),f=async E=>{try{s(!0),u(null);const A=await eh.login(E);e(A.user)}catch(A){throw u("Erro ao fazer login"),A}finally{s(!1)}},m=async E=>{try{s(!0),u(null);const A=await eh.register(E);e(A.user)}catch(A){throw u("Erro ao registrar"),A}finally{s(!1)}},g=async()=>{try{s(!0),u(null),await eh.logout(),e(null)}catch(E){throw u("Erro ao fazer logout"),E}finally{s(!1)}},p=()=>{u(null)};return U.useEffect(()=>{const E=eh.onAuthStateChange(A=>{e(A),s(!1)});return()=>E()},[]),{user:i,isLoading:n,error:o,isAuthenticated:!!i,login:f,register:m,logout:g,clearError:p}},F1=U.createContext(void 0),Ex=({children:i})=>{const e=vx();return T.jsx(F1.Provider,{value:e,children:i})};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a0="popstate";function Tx(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return ap("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:au(o)}return Ax(e,n,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Er(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sx(){return Math.random().toString(36).substring(2,10)}function o0(i,e){return{usr:i.state,key:i.key,idx:e}}function ap(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||Sx()}}function au({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Ax(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=E(),Q=L==null?null:L-p;p=L,g&&g({action:m,location:Y.location,delta:Q})}function b(L,Q){m="PUSH";let re=ap(Y.location,L,Q);p=E()+1;let se=o0(re,p),be=Y.createHref(re);try{f.pushState(se,"",be)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(be)}u&&g&&g({action:m,location:Y.location,delta:1})}function P(L,Q){m="REPLACE";let re=ap(Y.location,L,Q);p=E();let se=o0(re,p),be=Y.createHref(re);f.replaceState(se,"",be),u&&g&&g({action:m,location:Y.location,delta:0})}function H(L){return wx(L)}let Y={get action(){return m},get location(){return i(o,f)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(a0,A),g=L,()=>{o.removeEventListener(a0,A),g=null}},createHref(L){return e(o,L)},createURL:H,encodeLocation(L){let Q=H(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:b,replace:P,go(L){return f.go(L)}};return Y}function wx(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:au(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function G1(i,e,n="/"){return bx(i,e,n,!1)}function bx(i,e,n,s){let o=typeof e=="string"?wo(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let f=Q1(i);Rx(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Lx(u);m=Vx(f[g],p,s)}return m}function Q1(i,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(at(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=Zr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Q1(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:Mx(p,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of K1(u.path))o(u,f,m)}),e}function K1(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=K1(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Rx(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Px(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Cx=/^:[\w-]+$/,Ix=3,Nx=2,xx=1,Dx=10,Ox=-2,l0=i=>i==="*";function Mx(i,e){let n=i.split("/"),s=n.length;return n.some(l0)&&(s+=Ox),e&&(s+=Nx),n.filter(o=>!l0(o)).reduce((o,u)=>o+(Cx.test(u)?Ix:u===""?xx:Dx),s)}function Px(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Vx(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),b=g.route;if(!A&&p&&n&&!s[s.length-1].route.index&&(A=Ph({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Zr([u,A.pathname]),pathnameBase:Bx(Zr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=Zr([u,A.pathnameBase]))}return f}function Ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=kx(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:A},b)=>{if(E==="*"){let H=m[b]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const P=m[b];return A&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function kx(i,e=!1,n=!0){Er(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Lx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function jx(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?wo(i):i;return{pathname:n?n.startsWith("/")?n:Ux(n,e):e,search:qx(s),hash:Hx(o)}}function Ux(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zx(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y1(i){let e=zx(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $1(i,e,n,s=!1){let o;typeof i=="string"?o=wo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let g=jx(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Zr=i=>i.join("/").replace(/\/\/+/g,"/"),Bx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Hx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Fx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var X1=["POST","PUT","PATCH","DELETE"];new Set(X1);var Gx=["GET",...X1];new Set(Gx);var bo=U.createContext(null);bo.displayName="DataRouter";var of=U.createContext(null);of.displayName="DataRouterState";U.createContext(!1);var J1=U.createContext({isTransitioning:!1});J1.displayName="ViewTransition";var Qx=U.createContext(new Map);Qx.displayName="Fetchers";var Kx=U.createContext(null);Kx.displayName="Await";var Tr=U.createContext(null);Tr.displayName="Navigation";var Tu=U.createContext(null);Tu.displayName="Location";var oi=U.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var ng=U.createContext(null);ng.displayName="RouteError";function Yx(i,{relative:e}={}){at(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Tr),{hash:o,pathname:u,search:f}=Au(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Su(){return U.useContext(Tu)!=null}function ia(){return at(Su(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Tu).location}var W1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z1(i){U.useContext(Tr).static||U.useLayoutEffect(i)}function eS(){let{isDataRoute:i}=U.useContext(oi);return i?oD():$x()}function $x(){at(Su(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(bo),{basename:e,navigator:n}=U.useContext(Tr),{matches:s}=U.useContext(oi),{pathname:o}=ia(),u=JSON.stringify(Y1(s)),f=U.useRef(!1);return Z1(()=>{f.current=!0}),U.useCallback((g,p={})=>{if(Er(f.current,W1),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=$1(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,i])}U.createContext(null);function Au(i,{relative:e}={}){let{matches:n}=U.useContext(oi),{pathname:s}=ia(),o=JSON.stringify(Y1(n));return U.useMemo(()=>$1(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Xx(i,e){return tS(i,e)}function tS(i,e,n,s){at(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(Tr),{matches:u}=U.useContext(oi),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",E=f&&f.route;{let Q=E&&E.path||"";nS(g,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=ia(),b;if(e){let Q=typeof e=="string"?wo(e):e;at(p==="/"||Q.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),b=Q}else b=A;let P=b.pathname||"/",H=P;if(p!=="/"){let Q=p.replace(/^\//,"").split("/");H="/"+P.replace(/^\//,"").split("/").slice(Q.length).join("/")}let Y=G1(i,{pathname:H});Er(E||Y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Er(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=tD(Y&&Y.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:Zr([p,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?p:Zr([p,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,n,s);return e&&L?U.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function Jx(){let i=aD(),e=Fx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var Wx=U.createElement(Jx,null),Zx=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(oi.Provider,{value:this.props.routeContext},U.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eD({routeContext:i,match:e,children:n}){let s=U.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(oi.Provider,{value:i},n)}function tD(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);at(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:A}=n,b=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!A||A[p.route.id]===void 0);if(p.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let A,b=!1,P=null,H=null;n&&(A=u&&p.route.id?u[p.route.id]:void 0,P=p.route.errorElement||Wx,f&&(m<0&&E===0?(nS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,H=null):m===E&&(b=!0,H=p.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),L=()=>{let Q;return A?Q=P:b?Q=H:p.route.Component?Q=U.createElement(p.route.Component,null):p.route.element?Q=p.route.element:Q=g,U.createElement(eD,{match:p,routeContext:{outlet:g,matches:Y,isDataRoute:n!=null},children:Q})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?U.createElement(Zx,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:L(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):L()},null)}function rg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nD(i){let e=U.useContext(bo);return at(e,rg(i)),e}function rD(i){let e=U.useContext(of);return at(e,rg(i)),e}function iD(i){let e=U.useContext(oi);return at(e,rg(i)),e}function ig(i){let e=iD(i),n=e.matches[e.matches.length-1];return at(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function sD(){return ig("useRouteId")}function aD(){let i=U.useContext(ng),e=rD("useRouteError"),n=ig("useRouteError");return i!==void 0?i:e.errors?.[n]}function oD(){let{router:i}=nD("useNavigate"),e=ig("useNavigate"),n=U.useRef(!1);return Z1(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Er(n.current,W1),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var u0={};function nS(i,e,n){!e&&!u0[i]&&(u0[i]=!0,Er(!1,n))}U.memo(lD);function lD({routes:i,future:e,state:n}){return tS(i,void 0,n,e)}function Hs(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uD({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!Su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:g="/",search:p="",hash:E="",state:A=null,key:b="default"}=n,P=U.useMemo(()=>{let H=si(g,f);return H==null?null:{location:{pathname:H,search:p,hash:E,state:A,key:b},navigationType:s}},[f,g,p,E,A,b,s]);return Er(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(Tr.Provider,{value:m},U.createElement(Tu.Provider,{children:e,value:P}))}function cD({children:i,location:e}){return Xx(op(i),e)}function op(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,op(s.props.children,u));return}at(s.type===Hs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=op(s.props.children,u)),n.push(f)}),n}var dh="get",mh="application/x-www-form-urlencoded";function lf(i){return i!=null&&typeof i.tagName=="string"}function hD(i){return lf(i)&&i.tagName.toLowerCase()==="button"}function fD(i){return lf(i)&&i.tagName.toLowerCase()==="form"}function dD(i){return lf(i)&&i.tagName.toLowerCase()==="input"}function mD(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function pD(i,e){return i.button===0&&(!e||e==="_self")&&!mD(i)}var th=null;function gD(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var yD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(i){return i!=null&&!yD.has(i)?(Er(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):i}function _D(i,e){let n,s,o,u,f;if(fD(i)){let m=i.getAttribute("action");s=m?si(m,e):null,n=i.getAttribute("method")||dh,o=xm(i.getAttribute("enctype"))||mh,u=new FormData(i)}else if(hD(i)||dD(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?si(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=xm(i.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||mh,u=new FormData(m,i),!gD()){let{name:p,type:E,value:A}=i;if(E==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,A)}}else{if(lf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vD(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&si(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ED(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TD(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function SD(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ED(u,n);return f.links?f.links():[]}return[]}));return RD(s.flat(1).filter(TD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function c0(i,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function AD(i,e,{includeHydrateFallback:n}={}){return wD(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function wD(i){return[...new Set(i)]}function bD(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function RD(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(bD(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function rS(){let i=U.useContext(bo);return sg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function CD(){let i=U.useContext(of);return sg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ag=U.createContext(void 0);ag.displayName="FrameworkContext";function iS(){let i=U.useContext(ag);return sg(i,"You must render this element inside a <HydratedRouter> element"),i}function ID(i,e){let n=U.useContext(ag),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:A}=e,b=U.useRef(null);U.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Y=Q=>{Q.forEach(re=>{f(re.isIntersecting)})},L=new IntersectionObserver(Y,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[i]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},H=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Ll(m,P),onBlur:Ll(g,H),onMouseEnter:Ll(p,P),onMouseLeave:Ll(E,H),onTouchStart:Ll(A,P)}]:[!1,b,{}]}function Ll(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function ND({page:i,...e}){let{router:n}=rS(),s=U.useMemo(()=>G1(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(DD,{page:i,matches:s,...e}):null}function xD(i){let{manifest:e,routeModules:n}=iS(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return SD(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function DD({page:i,matches:e,...n}){let s=ia(),{manifest:o,routeModules:u}=iS(),{basename:f}=rS(),{loaderData:m,matches:g}=CD(),p=U.useMemo(()=>c0(i,e,g,o,s,"data"),[i,e,g,o,s]),E=U.useMemo(()=>c0(i,e,g,o,s,"assets"),[i,e,g,o,s]),A=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let H=new Set,Y=!1;if(e.forEach(Q=>{let re=o.routes[Q.route.id];!re||!re.hasLoader||(!p.some(se=>se.route.id===Q.route.id)&&Q.route.id in m&&u[Q.route.id]?.shouldRevalidate||re.hasClientLoader?Y=!0:H.add(Q.route.id))}),H.size===0)return[];let L=vD(i,f,"data");return Y&&H.size>0&&L.searchParams.set("_routes",e.filter(Q=>H.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,p,e,i,u]),b=U.useMemo(()=>AD(E,o),[E,o]),P=xD(E);return U.createElement(U.Fragment,null,A.map(H=>U.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),b.map(H=>U.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),P.map(({key:H,link:Y})=>U.createElement("link",{key:H,...Y})))}function OD(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var sS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sS&&(window.__reactRouterVersion="7.7.1")}catch{}function MD({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=Tx({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(g=>{U.startTransition(()=>f(g))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(uD,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oS=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:A,...b},P){let{basename:H}=U.useContext(Tr),Y=typeof p=="string"&&aS.test(p),L,Q=!1;if(typeof p=="string"&&Y&&(L=p,sS))try{let I=new URL(window.location.href),M=p.startsWith("//")?new URL(I.protocol+p):new URL(p),V=si(M.pathname,H);M.origin===I.origin&&V!=null?p=V+M.search+M.hash:Q=!0}catch{Er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Yx(p,{relative:o}),[se,be,le]=ID(s,b),ge=kD(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A});function O(I){e&&e(I),I.defaultPrevented||ge(I)}let R=U.createElement("a",{...b,...le,href:L||re,onClick:Q||u?e:O,ref:OD(P,be),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return se&&!Y?U.createElement(U.Fragment,null,R,U.createElement(ND,{page:re})):R});oS.displayName="Link";var lS=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let A=Au(f,{relative:p.relative}),b=ia(),P=U.useContext(of),{navigator:H,basename:Y}=U.useContext(Tr),L=P!=null&&BD(A)&&m===!0,Q=H.encodeLocation?H.encodeLocation(A).pathname:A.pathname,re=b.pathname,se=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),se=se?se.toLowerCase():null,Q=Q.toLowerCase()),se&&Y&&(se=si(se,Y)||se);const be=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let le=re===Q||!o&&re.startsWith(Q)&&re.charAt(be)==="/",ge=se!=null&&(se===Q||!o&&se.startsWith(Q)&&se.charAt(Q.length)==="/"),O={isActive:le,isPending:ge,isTransitioning:L},R=le?e:void 0,I;typeof s=="function"?I=s(O):I=[s,le?"active":null,ge?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(O):u;return U.createElement(oS,{...p,"aria-current":R,className:I,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(O):g)});lS.displayName="NavLink";var PD=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=dh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:A,...b},P)=>{let H=UD(),Y=zD(m,{relative:p}),L=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&aS.test(m),re=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let be=se.nativeEvent.submitter,le=be?.getAttribute("formmethod")||f;H(be||se.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:A})};return U.createElement("form",{ref:P,method:L,action:Y,onSubmit:s?g:re,...b,"data-discover":!Q&&i==="render"?"true":void 0})});PD.displayName="Form";function VD(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uS(i){let e=U.useContext(bo);return at(e,VD(i)),e}function kD(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=eS(),g=ia(),p=Au(i,{relative:u});return U.useCallback(E=>{if(pD(E,e)){E.preventDefault();let A=n!==void 0?n:au(g)===au(p);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,e,i,o,u,f])}var LD=0,jD=()=>`__${String(++LD)}__`;function UD(){let{router:i}=uS("useSubmit"),{basename:e}=U.useContext(Tr),n=sD();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=_D(s,e);if(o.navigate===!1){let E=o.fetcherKey||jD();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function zD(i,{relative:e}={}){let{basename:n}=U.useContext(Tr),s=U.useContext(oi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Au(i||".",{relative:e})},f=ia();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zr([n,u.pathname])),au(u)}function BD(i,{relative:e}={}){let n=U.useContext(J1);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uS("useViewTransitionState"),o=Au(i,{relative:e});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=si(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,f)!=null||Ph(o.pathname,u)!=null}const Yr={HOME:"/",LOGIN:"/login",REGISTER:"/register",DASHBOARD:"/dashboard",CERTIFICATES:"/certidoes",NEGOTIATION:"/negociacao"},is=()=>{const i=U.useContext(F1);if(!i)throw new Error("useAuthContext must be used within AuthProvider");return i},og=()=>{const i=eS(),[e,n]=U.useState(!1),[s,o]=U.useState(null);return{navigate:i,navigateTo:p=>{try{n(!0),o(null),i(p)}catch{o("Erro ao navegar para a página")}finally{n(!1)}},goBack:()=>{try{n(!0),o(null),i(-1)}catch{o("Erro ao voltar para a página anterior")}finally{n(!1)}},navigateWithLoading:async(p,E)=>{try{n(!0),o(null),E&&await new Promise(A=>setTimeout(A,E)),i(p)}catch{o("Erro durante a navegação")}finally{n(!1)}},isLoading:e,error:s,clearError:()=>{o(null)}}},qD=new Date().getFullYear(),HD=({theme:i="light",useGradient:e=!1,gradientColors:n=["#4A00E0","#8E2DE2"],gradientDirection:s="to right",backgroundColor:o=i==="dark"?"#1e1e1e":"#f9f9f9",logoVariant:u=i})=>{const f=i==="dark",m=e?{backgroundImage:`linear-gradient(${s}, ${n[0]}, ${n[1]})`}:{backgroundColor:o},g=f?"#ffffff":"#333333",p=u==="light"?"https://borderlessdevs.netlify.app/static/media/logo-dark.2fa878784899c906a14f.png":"https://borderlessdevs.netlify.app/static/media/logo-light.e753328ab34c0b67df5a.png";return T.jsxs("footer",{style:Object.assign(Object.assign({width:"100%",textAlign:"center",padding:"1.5rem 1rem"},m),{color:g}),children:[T.jsx("a",{href:"https://borderlessdevs.netlify.app",target:"_blank",rel:"noopener noreferrer",children:T.jsx("img",{src:p,alt:"Logo Borderless",style:{height:48,marginBottom:12}})}),T.jsxs("p",{style:{margin:0,fontSize:"1rem",fontWeight:500},children:["Desenvolvido por Borderless © ",qD]})]})},cS=({children:i})=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"auth-page",children:T.jsx("div",{className:"auth-container",children:i})}),T.jsx("div",{className:"footer",children:T.jsx(HD,{backgroundColor:"transparent"})})]}),hS=({type:i,title:e,subtitle:n})=>{const s=()=>i==="login"?T.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M2 17L12 22L22 17",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M2 12L12 17L22 12",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):T.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M3 21H21",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M5 21V7L13 2L21 7V21",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M9 9V21",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M17 9V21",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});return T.jsx("div",{className:`auth-illustration auth-illustration--${i}`,children:T.jsxs("div",{className:"illustration-content",children:[T.jsx("div",{className:"illustration-icon",children:s()}),T.jsx("h2",{children:e}),T.jsx("p",{children:n})]})})},fS=({children:i,title:e,subtitle:n,showBackButton:s=!1,onBackClick:o=()=>{}})=>T.jsx("div",{className:"auth-card",children:T.jsxs("div",{className:"auth-header",children:[s&&T.jsx("button",{type:"button",className:"back-button",onClick:o,children:T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M19 12H5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M12 19L5 12L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),T.jsx("h1",{className:"auth-title",children:e}),T.jsx("p",{className:"auth-description",children:n}),i]})});/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GD=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),h0=i=>{const e=GD(i);return e.charAt(0).toUpperCase()+e.slice(1)},dS=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),QD=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>U.createElement("svg",{ref:g,...KD,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:dS("lucide",o),...!u&&!QD(m)&&{"aria-hidden":"true"},...m},[...f.map(([p,E])=>U.createElement(p,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(i,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(YD,{ref:u,iconNode:e,className:dS(`lucide-${FD(h0(i))}`,`lucide-${i}`,s),...o}));return n.displayName=h0(i),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],mS=qe("building-2",$D);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],lg=qe("building",XD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],WD=qe("calculator",JD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],pS=qe("calendar-days",ZD);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gS=qe("calendar",eO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nO=qe("circle-check",tO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],iO=qe("circle-x",rO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aO=qe("clock",sO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],lO=qe("coins",oO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cO=qe("crown",uO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fO=qe("eye-off",hO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mO=qe("eye",dO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],gO=qe("file-search",pO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],_O=qe("file-spreadsheet",yO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ug=qe("file-text",vO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TO=qe("info",EO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],AO=qe("loader-circle",SO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bO=qe("lock",wO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CO=qe("log-out",RO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yS=qe("mail",IO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],xO=qe("percent",NO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],OO=qe("plus",DO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],_S=qe("scale",MO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VO=qe("settings",PO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],LO=qe("shield-alert",kO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UO=qe("shield-check",jO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],BO=qe("square-pen",zO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],f0=qe("timer",qO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],FO=qe("trash-2",HO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vh=qe("triangle-alert",GO);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uf=qe("user",QO),po=({label:i,type:e="text",value:n,onChange:s,error:o,required:u=!1,placeholder:f,icon:m})=>{const[g,p]=U.useState(!1);return T.jsxs("div",{className:"input-container",children:[T.jsxs("label",{className:"input-label",children:[i,u&&T.jsx("span",{className:"input-required",children:"*"})]}),T.jsxs("div",{className:`input-wrapper ${g?"input-wrapper--focused":""} ${o?"input-wrapper--error":""}`,children:[m&&T.jsx("div",{className:"input-icon",children:m}),T.jsx("input",{type:e,value:n,onChange:E=>s(E.target.value),onFocus:()=>p(!0),onBlur:()=>p(!1),placeholder:f,className:"input-field"})]}),o&&T.jsx("span",{className:"input-error",children:o})]})},lp=({label:i,value:e,onChange:n,error:s,placeholder:o,required:u=!1})=>{const[f,m]=U.useState(!1);return T.jsxs("div",{className:"password-input-container",children:[T.jsx(po,{label:i,type:f?"text":"password",value:e,onChange:n,error:s,placeholder:o,required:u,icon:T.jsx(bO,{size:20})}),T.jsx("button",{type:"button",className:"password-toggle",onClick:()=>m(!f),"aria-label":f?"Ocultar senha":"Mostrar senha",children:f?T.jsx(fO,{size:20}):T.jsx(mO,{size:20})})]})},ei=({children:i,onClick:e,type:n="button",variant:s="primary",size:o="medium",disabled:u=!1,className:f=""})=>{const m="button",g={primary:"button--primary",secondary:"button--secondary",danger:"button--danger"},p={small:"button--small",medium:"button--medium",large:"button--large"},E=[m,g[s],p[o],f].filter(Boolean).join(" ");return T.jsx("button",{type:n,onClick:e,disabled:u,className:E,children:i})},ou=({message:i})=>T.jsx("div",{className:"error-msessage",children:i}),KO=({onSubmit:i,onForgotPassword:e,isLoading:n,error:s})=>{const[o,u]=U.useState({email:"",password:""}),[f,m]=U.useState({}),g=()=>{const A={};return o.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(A.email="E-mail inválido"):A.email="E-mail é obrigatório",o.password?o.password.length<6&&(A.password="Senha deve ter pelo menos 6 caracteres"):A.password="Senha é obrigatória",m(A),Object.keys(A).length===0},p=async A=>{if(A.preventDefault(),!!g())try{await i(o)}catch(b){console.error("Erro no login:",b)}},E=(A,b)=>{u(P=>({...P,[A]:b})),f[A]&&m(P=>({...P,[A]:""}))};return T.jsxs("form",{onSubmit:p,className:"login-form",children:[T.jsx(po,{label:"E-mail",type:"email",value:o.email,onChange:A=>E("email",A),error:f.email,placeholder:"seu@email.com",icon:T.jsx(yS,{size:20}),required:!0}),T.jsx(lp,{label:"Senha",value:o.password,onChange:A=>E("password",A),error:f.password,placeholder:"Digite sua senha",required:!0}),s&&T.jsx(ou,{message:s}),T.jsxs(ei,{type:"submit",variant:"primary",size:"large",disabled:n,className:"login-button",children:[n?"Entrando...":"Entrar",n&&T.jsx(AO,{className:"animate-spin"})]}),T.jsx("a",{href:"#",className:"forgot-password",onClick:A=>{A.preventDefault(),e()},children:"Esqueci minha senha"})]})},d0=()=>{const[i,e]=U.useState(!1),{login:n,error:s,clearError:o}=is(),{navigateTo:u}=og(),f=async g=>{o(),e(!0);try{await n(g),u("/dashboard")}catch(p){console.error("Erro ao fazer login:",p)}finally{e(!1)}},m=()=>{alert("Funcionalidade em desenvolvimento")};return T.jsxs(cS,{children:[T.jsx(hS,{type:"login",title:"Renegociação Tributária",subtitle:"Simplifique a gestão fiscal da sua empresa"}),T.jsxs(fS,{title:"Bem-vindo de volta",subtitle:"Entre na sua conta para continuar",children:[T.jsx(KO,{onSubmit:f,onForgotPassword:m,isLoading:i,error:s}),T.jsx("div",{className:"login-footer",children:T.jsxs("p",{children:["Não tem uma conta?"," ",T.jsx("button",{type:"button",className:"create-account-link",onClick:()=>u("/register"),children:"Criar conta"})]})})]})]})},YO=({onSubmit:i,isLoading:e,error:n})=>{const[s,o]=U.useState({name:"",email:"",password:"",confirmPassword:""}),[u,f]=U.useState({}),[m,g]=U.useState(null),p=()=>{const b={};return s.name.trim()?s.name.trim().length<2&&(b.name="Nome deve ter pelo menos 2 caracteres"):b.name="Nome completo é obrigatório",s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(b.email="E-mail inválido"):b.email="E-mail é obrigatório",s.password?s.password.length<6&&(b.password="Senha deve ter pelo menos 6 caracteres"):b.password="Senha é obrigatória",s.confirmPassword?s.password!==s.confirmPassword&&(b.confirmPassword="Senhas não coincidem"):b.confirmPassword="Confirmação de senha é obrigatória",f(b),Object.keys(b).length===0},E=async b=>{if(b.preventDefault(),!!p())try{g(null);const P={name:s.name,email:s.email,password:s.password};await i({...P,name:P.name.trim()})}catch(P){P instanceof Error?(console.error("Erro no cadastro:",P.message),g(P.message)):(console.error("Erro desconhecido no cadastro:",P),g("Erro desconhecido ao criar conta"))}},A=(b,P)=>{o(H=>({...H,[b]:P})),u[b]&&f(H=>({...H,[b]:""})),m&&g(null)};return T.jsxs("form",{onSubmit:E,className:"register-form",children:[T.jsx(po,{label:"Nome completo",type:"text",value:s.name,onChange:b=>A("name",b),error:u.name,placeholder:"Seu nome completo",icon:T.jsx(uf,{size:20}),required:!0}),T.jsx(po,{label:"E-mail",type:"email",value:s.email,onChange:b=>A("email",b),error:u.email,placeholder:"seu@email.com",icon:T.jsx(yS,{size:20}),required:!0}),T.jsx(lp,{label:"Senha",value:s.password,onChange:b=>A("password",b),error:u.password,placeholder:"Crie uma senha segura",required:!0}),T.jsx(lp,{label:"Confirmar senha",value:s.confirmPassword,onChange:b=>A("confirmPassword",b),error:u.confirmPassword,placeholder:"Confirme sua senha",required:!0}),n&&T.jsx(ou,{message:n}),m&&T.jsx(ou,{message:m}),T.jsx(ei,{type:"submit",variant:"primary",size:"large",disabled:e,className:"register-button",children:e?"Criando conta...":"Cadastrar"}),T.jsx("div",{className:"register-footer",children:T.jsxs("p",{className:"terms-text",children:["Ao criar uma conta, você concorda com nossos"," ",T.jsx("a",{href:"#",className:"terms-link",children:"Termos de Uso"})," ","e"," ",T.jsx("a",{href:"#",className:"terms-link",children:"Política de Privacidade"})]})})]})},$O=()=>{const[i,e]=U.useState(!1),{register:n,error:s,clearError:o}=is(),{navigateTo:u}=og(),f=async g=>{o(),e(!0);try{await n({...g,role:"client"}),u("/dashboard")}catch(p){console.error("Erro no cadastro:",p)}finally{e(!1)}},m=()=>{u("/login")};return T.jsxs(cS,{children:[T.jsx(hS,{type:"register",title:"Junte-se a nós",subtitle:"Transforme a gestão tributária da sua empresa"}),T.jsx(fS,{title:"Criar nova conta",subtitle:"Preencha os dados para começar",showBackButton:!0,onBackClick:m,children:T.jsx(YO,{onSubmit:f,isLoading:i,error:s})})]})},XO=()=>{const{logout:i}=is(),{navigateTo:e}=og(),n=[{id:"dashboard",label:"Painel do cliente",to:Yr.DASHBOARD,icon:T.jsx(uf,{size:20})},{id:"certificates",label:"Consulta de certidões",to:Yr.CERTIFICATES,icon:T.jsx(ug,{size:20})},{id:"negotiation",label:"Simulação e Negociação",to:Yr.NEGOTIATION,icon:T.jsx(aO,{size:20})}],s=async()=>{try{await i(),e("/login")}catch(o){console.error("Erro ao fazer logout:",o)}};return T.jsxs("aside",{className:"sidebar",children:[T.jsxs("div",{className:"sidebar__header",children:[T.jsx(mS,{size:24}),T.jsx("span",{className:"sidebar__title",children:"TaxManager"})]}),T.jsx("nav",{className:"sidebar__nav",children:n.map(o=>T.jsxs(lS,{to:o.to,className:({isActive:u})=>`sidebar__link ${u?"sidebar__link--active":""}`,children:[T.jsx("span",{className:"sidebar__icon",children:o.icon}),T.jsx("span",{className:"sidebar__label",children:o.label})]},o.id))}),T.jsx("div",{className:"sidebar__footer",children:T.jsxs("button",{className:"sidebar__logout",onClick:s,children:[T.jsx(CO,{size:20}),T.jsx("span",{children:"Sair"})]})})]})},kh=({children:i})=>{const{user:e}=is();return T.jsxs("div",{className:"dashboard-layout",children:[T.jsx(XO,{}),T.jsxs("div",{className:"dashboard-main",children:[T.jsx("header",{className:"dashboard-header",children:T.jsxs("div",{className:"header-content",children:[T.jsx("div",{className:"header-left",children:T.jsx("h1",{className:"page-title",children:"Dashboard"})}),T.jsxs("div",{className:"header-right",children:[T.jsxs("div",{className:"user-info",children:[T.jsx(uf,{size:20}),T.jsx("span",{children:e?.name})]}),T.jsx("button",{className:"header-button",onClick:()=>alert("Configurações em desenvolvimento"),children:T.jsx(VO,{size:20})})]})]})}),T.jsx("main",{className:"dashboard-content",children:i})]})]})},En={async createCNPJ(i,e){try{if(await this.userHasCnpj(i,e.cnpj))throw new Error("Este CNPJ já está cadastrado para este usuário");const s=new Date().toISOString(),o={...e,userId:i,createdAt:s,updatedAt:s,dataAtualizacao:s},u=await q1(ip(Pn,"cnpjs"),o);return await this.addCnpjToUser(i,e.cnpj),{id:u.id,...o}}catch(n){throw console.error("Erro ao criar CNPJ:",n),n}},async addCnpjToUser(i,e){try{const n=fr(Pn,"users",i),s=await Gs(n);if(!s.exists())throw new Error("Usuário não encontrado");const u=s.data().cnpjs||[];u.includes(e)||await Im(n,{cnpjs:[...u,e],updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao adicionar CNPJ ao usuário:",n),n}},async removeCnpjFromUser(i,e){try{const n=fr(Pn,"users",i),s=await Gs(n);if(!s.exists())throw new Error("Usuário não encontrado");const f=(s.data().cnpjs||[]).filter(m=>m!==e);await Im(n,{cnpjs:f,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Erro ao remover CNPJ do usuário:",n),n}},async getUserCnpjs(i){try{const e=fr(Pn,"users",i),n=await Gs(e);return n.exists()?n.data().cnpjs||[]:[]}catch(e){return console.error("Erro ao buscar CNPJs do usuário:",e),[]}},async getUserCnpjCount(i){try{return(await this.getUserCnpjs(i)).length}catch(e){return console.error("Erro ao contar CNPJs do usuário:",e),0}},async userHasCnpj(i,e){try{return(await this.getUserCnpjs(i)).includes(e)}catch(n){return console.error("Erro ao verificar CNPJ do usuário:",n),!1}},async getCNPJsByUser(i){try{const e=ox(ip(Pn,"cnpjs"),lx("userId","==",i),ux("createdAt","desc")),n=await fx(e),s=[];return n.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(e){throw console.error("Erro ao buscar CNPJs:",e),new Error("Erro ao buscar CNPJs")}},async updateCNPJ(i,e){try{const n=fr(Pn,"cnpjs",i);await Im(n,{...e,updatedAt:new Date().toISOString(),dataAtualizacao:new Date().toISOString()})}catch(n){throw console.error("Erro ao atualizar CNPJ:",n),new Error("Erro ao atualizar CNPJ")}},async deleteCNPJ(i){try{const e=fr(Pn,"cnpjs",i),n=await Gs(e);if(!n.exists())throw new Error("CNPJ não encontrado");const s=n.data(),o=s.userId,u=s.cnpj;await mx(e),await this.removeCnpjFromUser(o,u)}catch(e){throw console.error("Erro ao deletar CNPJ:",e),new Error("Erro ao deletar CNPJ")}},formatCNPJ(i){return i.replace(/\D/g,"").replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")},validateCNPJ(i){const e=i.replace(/\D/g,"");if(e.length!==14||/^(\d)\1+$/.test(e))return!1;let n=0,s=5;for(let u=0;u<12;u++)n+=parseInt(e[u])*s,s=s===2?9:s-1;let o=n%11<2?0:11-n%11;if(parseInt(e[12])!==o)return!1;n=0,s=6;for(let u=0;u<13;u++)n+=parseInt(e[u])*s,s=s===2?9:s-1;return o=n%11<2?0:11-n%11,parseInt(e[13])===o},async getUserCnpjStats(i){try{const[e,n]=await Promise.all([this.getUserCnpjs(i),this.getCNPJsByUser(i)]);return{cnpjCount:e.length,cnpjs:e,userCnpjs:n}}catch(e){return console.error("Erro ao buscar estatísticas do usuário:",e),{cnpjCount:0,cnpjs:[],userCnpjs:[]}}}},JO=({onSuccess:i,onCancel:e,isLoading:n=!1,initialData:s,isEditing:o=!1})=>{const[u,f]=U.useState(s||{cnpj:"",nomeFantasia:"",statusFiscal:"regular",situacaoNegociacao:"pendente"}),[m,g]=U.useState({}),[p,E]=U.useState(null),[A,b]=U.useState(!1),P=()=>{const L={};return u.cnpj?En.validateCNPJ(u.cnpj)||(L.cnpj="CNPJ inválido"):L.cnpj="CNPJ é obrigatório",g(L),Object.keys(L).length===0},H=async L=>{if(L.preventDefault(),!!P()){b(!0),E(null);try{await i(u)}catch(Q){console.error("Erro ao criar CNPJ:",Q),Q instanceof Error?Q.message.includes("já está cadastrado")?E(Q.message):E("Erro ao processar CNPJ. Por favor, tente novamente."):E("Erro desconhecido ao processar CNPJ")}finally{b(!1)}}},Y=(L,Q)=>{if(L==="cnpj"){const re=En.formatCNPJ(Q);f(se=>({...se,[L]:re}))}else f(re=>({...re,[L]:Q}));m[L]&&g(re=>({...re,[L]:""})),p&&E(null)};return T.jsxs("div",{className:"cnpj-form-container",children:[T.jsxs("div",{className:"cnpj-form-header",children:[T.jsx("h3",{children:o?"Editar CNPJ":"Cadastrar Novo CNPJ"}),T.jsx("p",{children:o?"Atualize os dados da empresa":"Preencha os dados da empresa"})]}),T.jsxs("form",{onSubmit:H,className:"cnpj-form",children:[T.jsx(po,{label:"CNPJ",type:"text",value:u.cnpj,onChange:L=>Y("cnpj",L),error:m.cnpj,placeholder:"00.000.000/0000-00",icon:T.jsx(lg,{size:20}),required:!0}),T.jsx(po,{label:"Nome Fantasia",type:"text",value:u.nomeFantasia||"",onChange:L=>Y("nomeFantasia",L),placeholder:"Nome da empresa (opcional)",icon:T.jsx(ug,{size:20})}),T.jsxs("div",{className:"form-row",children:[T.jsxs("div",{className:"form-field",children:[T.jsxs("label",{className:"input-label",children:["Status Fiscal ",T.jsx("span",{className:"input-required",children:"*"})]}),T.jsxs("select",{value:u.statusFiscal,onChange:L=>Y("statusFiscal",L.target.value),className:"select-field",children:[T.jsx("option",{value:"regular",children:"Regular"}),T.jsx("option",{value:"irregular",children:"Irregular"}),T.jsx("option",{value:"suspenso",children:"Suspenso"}),T.jsx("option",{value:"baixado",children:"Baixado"})]})]}),T.jsxs("div",{className:"form-field",children:[T.jsxs("label",{className:"input-label",children:["Situação de Negociação ",T.jsx("span",{className:"input-required",children:"*"})]}),T.jsxs("select",{value:u.situacaoNegociacao,onChange:L=>Y("situacaoNegociacao",L.target.value),className:"select-field",children:[T.jsx("option",{value:"pendente",children:"Pendente"}),T.jsx("option",{value:"em_andamento",children:"Em Andamento"}),T.jsx("option",{value:"concluida",children:"Concluída"}),T.jsx("option",{value:"cancelada",children:"Cancelada"})]})]})]}),Object.keys(m).length>0&&T.jsx(ou,{message:"Por favor, corrija os erros acima"}),p&&T.jsx(ou,{message:p}),T.jsxs("div",{className:"form-actions",children:[T.jsx(ei,{type:"button",variant:"secondary",onClick:e,disabled:A||n,children:"Cancelar"}),T.jsx(ei,{type:"submit",variant:"primary",disabled:A||n,children:A?o?"Atualizando...":"Cadastrando...":o?"Atualizar CNPJ":"Cadastrar CNPJ"})]})]})]})},WO=({cnpjs:i,onEdit:e,onDelete:n,isLoading:s=!1})=>{const o=p=>({regular:"status-regular",irregular:"status-irregular",suspenso:"status-suspenso",baixado:"status-baixado"})[p]||"status-regular",u=p=>({pendente:"situacao-pendente",em_andamento:"situacao-andamento",concluida:"situacao-concluida",cancelada:"situacao-cancelada"})[p]||"situacao-pendente",f=p=>({regular:"Regular",irregular:"Irregular",suspenso:"Suspenso",baixado:"Baixado"})[p]||p,m=p=>({pendente:"Pendente",em_andamento:"Em Andamento",concluida:"Concluída",cancelada:"Cancelada"})[p]||p,g=p=>new Date(p).toLocaleDateString("pt-BR");return s?T.jsxs("div",{className:"cnpj-list-container",children:[T.jsx("div",{className:"cnpj-list-header",children:T.jsx("h3",{children:"CNPJs Cadastrados"})}),T.jsx("div",{className:"loading-state",children:T.jsx("p",{children:"Carregando CNPJs..."})})]}):i.length===0?T.jsxs("div",{className:"cnpj-list-container",children:[T.jsx("div",{className:"cnpj-list-header",children:T.jsx("h3",{children:"CNPJs Cadastrados"})}),T.jsxs("div",{className:"empty-state",children:[T.jsx(lg,{size:48}),T.jsx("h4",{children:"Nenhum CNPJ cadastrado"}),T.jsx("p",{children:"Cadastre seu primeiro CNPJ para comecar a gerenciar suas negociações tributarias"})]})]}):T.jsxs("div",{className:"cnpj-list-container",children:[T.jsxs("div",{className:"cnpj-list-header",children:[T.jsx("h3",{children:"CNPJs Cadastrados"}),T.jsxs("span",{className:"cnpj-count",children:[i.length," ",i.length===1?"CNPJ":"CNPJs"]})]}),T.jsx("div",{className:"cnpj-grid",children:i.map(p=>T.jsxs("div",{className:"cnpj-card",children:[T.jsxs("div",{className:"cnpj-card-header",children:[T.jsxs("div",{className:"cnpj-info",children:[T.jsx("h4",{children:p.nomeFantasia||"Empresa"}),T.jsx("p",{className:"cnpj-number",children:En.formatCNPJ(p.cnpj)})]}),T.jsxs("div",{className:"cnpj-actions",children:[e&&T.jsx("button",{className:"action-button edit-button",onClick:()=>e(p),title:"Editar CNPJ",children:T.jsx(BO,{size:16})}),n&&T.jsx("button",{className:"action-button delete-button",onClick:()=>n(p.id),title:"Excluir CNPJ",children:T.jsx(FO,{size:16})})]})]}),T.jsxs("div",{className:"cnpj-card-body",children:[T.jsxs("div",{className:"status-row",children:[T.jsxs("div",{className:"status-item",children:[T.jsx("span",{className:"status-label",children:"Status Fiscal:"}),T.jsx("span",{className:`status-badge ${o(p.statusFiscal)}`,children:f(p.statusFiscal)})]}),T.jsxs("div",{className:"status-item",children:[T.jsx("span",{className:"status-label",children:"Negociação:"}),T.jsx("span",{className:`status-badge ${u(p.situacaoNegociacao)}`,children:m(p.situacaoNegociacao)})]})]}),T.jsx("div",{className:"cnpj-card-footer",children:T.jsxs("div",{className:"update-info",children:[T.jsx(gS,{size:14}),T.jsxs("span",{children:["Atualizado em ",g(p.dataAtualizacao)]})]})})]})]},p.id))})]})},vS={basic:{name:"Básico",maxCNPJs:3,price:99,features:["Até 3 CNPJs","Suporte por email","Relatórios básicos"]}},ZO=()=>{const{user:i}=is();if(!i)return null;const e=vS.basic,n=s=>new Date(s).toLocaleDateString("pt-BR");return T.jsxs("div",{className:"user-profile",children:[T.jsxs("div",{className:"profile-header",children:[T.jsx("div",{className:"profile-avatar",children:T.jsx(uf,{size:32})}),T.jsxs("div",{className:"profile-info",children:[T.jsx("h2",{children:i.name}),T.jsx("p",{className:"profile-email",children:i.email}),T.jsxs("div",{className:"profile-meta",children:[T.jsx("span",{className:"profile-role",children:i.role==="client"?"Cliente":i.role}),T.jsxs("span",{className:"profile-date",children:[T.jsx(gS,{size:14}),"Desde ",n(i.createdAt)]})]})]})]}),T.jsxs("div",{className:"plan-info",children:[T.jsxs("div",{className:"plan-header",children:[T.jsx(cO,{size:20}),T.jsx("span",{children:"Plano Atual"})]}),T.jsxs("div",{className:"plan-details",children:[T.jsx("h3",{children:e.name}),T.jsxs("p",{className:"plan-price",children:["R$ ",e.price,"/mês"]}),T.jsx("div",{className:"plan-features",children:e.features.map((s,o)=>T.jsx("span",{className:"plan-feature",children:s},o))})]}),T.jsx("button",{className:"upgrade-button",children:T.jsx("span",{children:"Atualizar Plano"})})]})]})},e4=()=>{const{user:i}=is(),[e,n]=U.useState([]),[s,o]=U.useState(0),[u,f]=U.useState(!1),[m,g]=U.useState(null),[p,E]=U.useState(!0),[A,b]=U.useState(null),P=vS.basic||{maxCNPJs:3},H=async()=>{if(i)try{E(!0),b(null);const le=await En.getUserCnpjStats(i.uid);n(le.userCnpjs),o(le.cnpjCount)}catch(le){console.error("Erro ao carregar CNPJs:",le),b("Erro ao carregar CNPJs. Por favor, tente novamente.")}finally{E(!1)}};U.useEffect(()=>{H()},[i]);const Y=async le=>{if(i)try{const ge=await En.createCNPJ(i.uid,le);n([...e,ge]),o(O=>O+1),f(!1),g(null)}catch(ge){throw console.error("Erro ao criar CNPJ:",ge),ge}finally{E(!1)}},L=async le=>{if(m)try{await En.updateCNPJ(m.id,le),n(ge=>ge.map(O=>O.id===m.id?{...O,...le,updatedAt:new Date().toISOString()}:O)),f(!1),g(null)}catch(ge){throw console.error("Erro ao atualizar CNPJ:",ge),ge}finally{E(!1)}},Q=async le=>{if(confirm("Tem certeza que deseja excluir este CNPJ?"))try{await En.deleteCNPJ(le),n(ge=>ge.filter(O=>O.id!==le)),o(ge=>ge-1)}catch(ge){alert("Erro ao excluir CNPJ:"+ge),console.log(ge),b("Erro ao excluir CNPJ. Por favor, tente novamente.")}},re=le=>{g(le),f(!0)},se=()=>P.maxCNPJs===-1?!0:s<P.maxCNPJs,be=()=>P.maxCNPJs===-1?"Ilimitado":P.maxCNPJs-s;return i?T.jsx(kh,{children:T.jsxs("div",{className:"dashboard-page",children:[T.jsxs("div",{className:"dashboard-sidebar",children:[T.jsx(ZO,{}),T.jsxs("div",{className:"plan-limits",children:[T.jsx("h4",{children:"Limite do Plano"}),T.jsxs("div",{className:"limit-info",children:[T.jsx("span",{className:"limit-current",children:s}),T.jsx("span",{className:"limit-separator",children:"/"}),T.jsx("span",{className:"limit-max",children:P.maxCNPJs===-1?"∞":P.maxCNPJs})]}),T.jsx("p",{className:"limit-text",children:P.maxCNPJs===-1?"CNPJs ilimitados":`${be()} CNPJs restantes`}),!se()&&T.jsxs("div",{className:"limit-warning",children:[T.jsx(Vh,{size:16}),T.jsx("span",{children:"Limite atingido"})]})]})]}),T.jsxs("div",{className:"dashboard-main-content",children:[A&&T.jsxs("div",{className:"error-banner",children:[T.jsx(Vh,{size:20}),T.jsx("span",{children:A}),T.jsx("button",{onClick:H,className:"retry-button",children:"Tentar novamente"})]}),u?T.jsx(JO,{onSuccess:async le=>{m?await L(le):await Y(le)},onCancel:()=>{f(!1),g(null)},initialData:m?{cnpj:m.cnpj,nomeFantasia:m.nomeFantasia||"",statusFiscal:m.statusFiscal,situacaoNegociacao:m.situacaoNegociacao}:void 0,isEditing:!!m}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"dashboard-header-content",children:[T.jsxs("div",{className:"header-info",children:[T.jsx("h1",{children:"Meus CNPJs"}),T.jsx("p",{children:"Gerencie suas empresas e negociações tributárias"})]}),T.jsxs(ei,{onClick:()=>f(!0),disabled:!se(),className:"add-cnpj-button",children:[T.jsx(OO,{size:20}),"Adicionar CNPJ"]})]}),T.jsx(WO,{cnpjs:e,onEdit:re,onDelete:Q,isLoading:p})]})]})]})}):T.jsx(kh,{children:T.jsx("div",{className:"loading-container",children:T.jsx("p",{children:"Carregando..."})})})},ES=({label:i,options:e,value:n,onChange:s,disabled:o,error:u})=>T.jsxs("div",{className:"selectcnpj-container",children:[T.jsx("label",{className:"selectcnpj-label",children:i}),T.jsx("div",{className:`selectcnpj-wrapper ${u?"selectcnpj-wrapper--error":""}`,children:T.jsxs("select",{className:"selectcnpj-field",value:n,onChange:f=>s(f.target.value),disabled:o,children:[T.jsx("option",{value:"",children:"Selecione um CNPJ"}),e.map(f=>T.jsxs("option",{value:f.value,children:[f.label," ",f.subLabel?`- ${f.subLabel}`:""]},f.value))]})}),u&&T.jsx("span",{className:"selectcnpj-error",children:u})]}),cg=({children:i,content:e})=>T.jsxs("span",{className:"tooltip",children:[i,T.jsx("span",{className:"tooltip-content",children:e})]}),Dm=({title:i,value:e,variant:n,tooltip:s})=>{const o={success:T.jsx(nO,{size:20}),danger:T.jsx(iO,{size:20}),warning:T.jsx(Vh,{size:20}),neutral:T.jsx(Vh,{size:20})},u=T.jsxs("div",{className:`status-indicator status-indicator--${n}`,children:[T.jsx("div",{className:"status-icon",children:o[n]}),T.jsxs("div",{className:"status-texts",children:[T.jsx("span",{className:"status-title",children:i}),T.jsx("span",{className:"status-value",children:e})]})]});return s?T.jsx(cg,{content:s,children:u}):u},t4=({situacaoRegular:i,dividasAtivas:e,negociavel:n})=>T.jsxs("div",{className:"fiscal-indicators",children:[T.jsx(Dm,{title:"Situação Fiscal",value:i?"Regular":"Irregular",variant:i?"success":"danger",tooltip:i?"Sem pendencias nas certidoes fiscais":"Pendencias encontradas nas certidoes fiscais"}),T.jsx(Dm,{title:"Dívidas Ativas",value:e?"Sim":"Não",variant:e?"success":"danger",tooltip:e?"Existem débitos inscritos em dívida ativa.":"Nenhuma dívida ativa localizada."}),T.jsx(Dm,{title:"Possibilidade de Negociacao",value:n?"Sim":"Não",variant:n?"success":"danger",tooltip:n?"Este CNPJ pode iniciar uma negociação tributária.":"Negociação pode estar limitada por status fiscal ou restrições."})]});function nh(i,e=0,n=1){let s=2166136261;for(let u=0;u<i.length;u++)s^=i.charCodeAt(u),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);const o=Math.abs(s%1e3)/1e3;return e+o*(n-e)}const n4=["INSS","IRPJ","ICMS","IPI","ISS","PIS/COFINS","Outros"],lu={async consultarCertidao(i){await new Promise(P=>setTimeout(P,900));const e=i.cnpj,n=i.statusFiscal==="regular",s=i.statusFiscal==="baixado",o=i.statusFiscal==="suspenso",u=i.situacaoNegociacao==="cancelada",f=s||u,m=!f&&!o;let g=0,p=0,E=!1,A=[];if(n)E=!1,g=0,p=0,A=[];else{E=!0,g=Math.round(nh(e,1e4,25e4)),p=Math.floor(nh(e+"p",1,8));const P=Math.max(1,Math.floor(nh(e+"t",1,4))),H=[...n4];for(let Y=0;Y<P;Y++){const L=Math.floor(nh(e+Y,0,H.length)),Q=H.splice(L,1)[0];A.push(Q)}}const b=i.nomeFantasia&&i.nomeFantasia.trim().length>0?i.nomeFantasia:"Razão Social não informada";return{cnpj:i.cnpj,razaoSocial:b,situacaoFiscal:n?"regular":"irregular",dividasAtivas:E,negociavel:m,impedidoDeNegociar:f,impedimentoMotivo:f?s?"Empresa baixada - negociação indisponível.":"Negociação cancelada - contate o suporte.":void 0,tiposDivida:A,valorTotalDivida:g,numeroProcessos:p,dataUltimaAtualizacao:new Date().toISOString()}},formatCurrencyBRL(i){return i.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},exportToCsv(i){const e=["CNPJ","Razão Social","Situação Fiscal","Dívidas Ativas","Negociável","Tipos de Dívida","Valor Total da Dívida","Número de Processos","Data da Última Atualização"],n=[En.formatCNPJ(i.cnpj),i.razaoSocial,i.situacaoFiscal==="regular"?"Regular":"Irregular",i.dividasAtivas?"Sim":"Não",i.negociavel?"Sim":"Não",i.tiposDivida.join(" | "),this.formatCurrencyBRL(i.valorTotalDivida),String(i.numeroProcessos),new Date(i.dataUltimaAtualizacao).toLocaleString("pt-BR")],s=[e.join(","),n.map(m=>`"${String(m).replace(/"/g,'""')}"`).join(",")].join(`
`),o=new Blob([s],{type:"text/csv;charset=utf-8;"}),u=URL.createObjectURL(o),f=document.createElement("a");f.href=u,f.download=`certidao_${i.cnpj}.csv`,f.click(),URL.revokeObjectURL(u)}},r4=({result:i})=>T.jsxs("div",{className:"fiscal-details-card",children:[T.jsxs("div",{className:"fiscal-details-header",children:[T.jsxs("div",{className:"details-title",children:[T.jsx(ug,{size:20}),T.jsx("h3",{children:"Detalhes da Certidão"})]}),T.jsxs("button",{className:"export-button",type:"button",onClick:()=>lu.exportToCsv(i),children:[T.jsx(_O,{size:28}),"Exportar (.csv)"]})]}),T.jsxs("div",{className:"details-grid",children:[T.jsxs("div",{className:"details-item",children:[T.jsx("span",{className:"details-label",children:"CNPJ"}),T.jsx("span",{className:"details-value mono",children:En.formatCNPJ(i.cnpj)})]}),T.jsxs("div",{className:"details-item",children:[T.jsx("span",{className:"details-label",children:"Tipo(s) de Divida"}),T.jsx("div",{className:"tags",children:i.tiposDivida.length===0?T.jsx("span",{className:"tag tag--muted",children:"Sem dívidas"}):i.tiposDivida.map(e=>T.jsxs("span",{className:"tag",children:[T.jsx(_S,{size:14}),e]},e))})]}),T.jsxs("div",{className:"details-item",children:[T.jsx("span",{className:"details-label",children:"Valor Total da Dívida"}),T.jsx("span",{className:`details-value ${i.valorTotalDivida>0?"danger":""}`,children:lu.formatCurrencyBRL(i.valorTotalDivida)})]}),T.jsxs("div",{className:"details-item",children:[T.jsx("span",{className:"details-label",children:"Nº de Processos/Pendências"}),T.jsx("span",{className:"details-value",children:i.numeroProcessos})]}),T.jsxs("div",{className:"details-item",children:[T.jsx("span",{className:"details-label",children:"Última Atualização"}),T.jsxs("span",{className:"details-value with-icon",children:[T.jsx(pS,{size:14}),new Date(i.dataUltimaAtualizacao).toLocaleString("pt-BR")]})]})]}),i.impedidoDeNegociar&&T.jsxs("div",{className:"negociation-alert",children:[T.jsx(mS,{size:18}),T.jsxs("div",{children:[T.jsx("strong",{children:"Impedido de negociar."})," ",T.jsx("span",{children:i.impedimentoMotivo||"Verifique a situação cadastral."})]})]}),i.situacaoFiscal==="regular"&&T.jsxs("div",{className:"no-pendencias",children:[T.jsx("strong",{children:"Sem pendências."})," Este CNPJ está regular nas certidões fiscais consultadas."]})]}),up=({label:i="Carregando..."})=>T.jsx("div",{className:"loading-spinner",children:T.jsx("div",{className:"spinner","aria-hidden":"true",children:T.jsx("span",{children:i})})}),i4=()=>{const{user:i}=is(),[e,n]=U.useState([]),[s,o]=U.useState(""),[u,f]=U.useState(!0),[m,g]=U.useState(!1),[p,E]=U.useState(null),[A,b]=U.useState(null);U.useEffect(()=>{(async()=>{if(i)try{f(!0),E(null);const Q=await En.getCNPJsByUser(i.uid);n(Q)}catch(Q){E("Não foi possível carregar seus CNPJs."+Q)}finally{f(!1)}})()},[i]);const P=U.useMemo(()=>e.map(L=>({value:L.id,label:L.nomeFantasia&&L.nomeFantasia.trim()?L.nomeFantasia:"Empresa",sublabel:En.formatCNPJ(L.cnpj)})),[e]),H=U.useMemo(()=>e.find(L=>L.id===s),[e,s]),Y=async()=>{if(H)try{g(!0),E(null);const L=await lu.consultarCertidao(H);b(L)}catch(L){E("Falha na consulta. Tente novamente em instantes."+L),b(null)}finally{g(!1)}};return T.jsx(kh,{children:T.jsxs("div",{className:"fiscal-consult",children:[T.jsxs("div",{className:"consult-card",children:[T.jsxs("div",{className:"consult-header",children:[T.jsxs("div",{className:"title-group",children:[T.jsx(gO,{size:20}),T.jsx("h1",{children:"Consulta de Certidões"})]}),T.jsx("p",{className:"subtitle",children:"Selecione um CNPJ para verificar a situação fiscal e certidões"})]}),u?T.jsx("div",{className:"centered",children:T.jsx(up,{label:"Carregando seus CNPJs..."})}):e.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx(lg,{size:48}),T.jsx("h3",{children:"Você ainda não cadastrou CNPJs"}),T.jsx("p",{children:"Cadastre seus CNPJs no painel para iniciar consultas."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"consult-form",children:[T.jsx(ES,{label:"CNPJ da empresa",options:P,value:s,onChange:L=>o(L)}),T.jsx(ei,{variant:"primary",onClick:Y,disabled:!s||m,className:"consult-button",children:m?"Consultando...":"Consultar Certidão"})]}),p&&T.jsx("div",{className:"error-banner",children:p}),A&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"indicators-wrapper",children:T.jsx(t4,{situacaoRegular:A.situacaoFiscal==="regular",dividasAtivas:A.dividasAtivas,negociavel:A.negociavel})}),T.jsx(r4,{result:A})]})]})]}),T.jsx("div",{className:"illustration-side","aria-hidden":"true",children:T.jsxs("div",{className:"illustration-content",children:[T.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M3 3H15L21 9V21H3V3Z",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M15 3V9H21",stroke:"#3b82f6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),T.jsx("path",{d:"M7 13H17",stroke:"#94a3b8",strokeWidth:"2",strokeLinecap:"round"}),T.jsx("path",{d:"M7 17H13",stroke:"#94a3b8",strokeWidth:"2",strokeLinecap:"round"})]}),T.jsx("h4",{children:"Certidões Fiscais"}),T.jsx("p",{children:"Visualize rapidamente a situação fiscal de cada empresa."})]})})]})})},s4=({isRegular:i,impedido:e,emCastigo:n,castigoDiasRestantes:s,motivoCastigo:o})=>{let u="status-badge neutral",f="Status do CNPJ",m="Selecione um CNPJ para ver o status";e?(u="status-badge danger",f="Impedido de negociar",m="Este CNPJ está impedido de realizar negociação."):n?(u="status-badge warning",f="Em castigo",m=`Aguardando término do período de bloqueio${s!==void 0?` (${s} dias restantes)`:""}.`):(u=i?"status-badge success":"status-badge warning",f=i?"Disponível para negociação":"Irregular - pode haver restrições",m=i?"CNPJ apto para iniciar negociação.":"Situação irregular detectada.");const g=e?LO:i&&!n?UO:f0;return T.jsxs("div",{className:"neg-status-card",children:[T.jsxs("div",{className:"neg-status-header",children:[T.jsxs("div",{className:u,children:[T.jsx(g,{size:18}),T.jsx("span",{children:f})]}),(n||e)&&o&&T.jsx(cg,{content:o,children:T.jsx("span",{className:"info-icon","aria-label":"Maios informações",children:T.jsx(TO,{size:16})})})]}),T.jsx("p",{className:"neg-status-desc",children:m}),n&&s!==void 0&&T.jsxs("div",{className:"countdown",children:[T.jsx(f0,{size:16}),T.jsxs("span",{children:[s," dias para liberar nova negociação"]})]})]})},a4=({result:i})=>T.jsxs("div",{className:"debt-summary-card",children:[T.jsx("div",{className:"debt-header",children:T.jsx("h3",{children:"Resumo da Dívida"})}),T.jsxs("div",{className:"debt-grid",children:[T.jsxs("div",{className:"debt-item",children:[T.jsx("span",{className:"label",children:"Valor Total"}),T.jsxs("div",{className:"value with-icon danger",children:[T.jsx(lO,{size:16}),lu.formatCurrencyBRL(i.valorTotalDivida)]})]}),T.jsxs("div",{className:"debt-item",children:[T.jsx("span",{className:"label",children:"Tipo(s) de Dívida"}),T.jsx("div",{className:"tags",children:i.tiposDivida.length===0?T.jsx("span",{className:"tag tag-muted",children:"Sem dividas"}):i.tiposDivida.map(e=>T.jsxs("span",{className:"tag",children:[T.jsx(_S,{size:16}),e]},e))})]}),T.jsxs("div",{className:"debt-item",children:[T.jsx("span",{className:"label",children:"Ultima atualização"}),T.jsxs("div",{className:"value with-icon",children:[T.jsx(pS,{size:16}),new Date(i.dataUltimaAtualizacao).toLocaleDateString("pt-BR")]})]})]})]}),TS={calcularSimulacao(i){const e=Math.max(i.valorTotal),n=Math.max(0,Math.min(90,i.descontoPercentual||0)),s=Math.max(1,Math.min(60,i.parcelas||1)),o=e*n/100,u=Math.max(0,e-o),f=s>0?u/s:u;return{valorTotalOriginal:e,descontoPercentual:n,descontoValor:o,valorComDesconto:u,parcelas:s,valorParcela:f}},async salvarSimulacao(i,e,n){const s=this.calcularSimulacao(e),o={userId:i,cnpj:e.cnpj,dataSimulacao:new Date().toISOString(),status:n,resultado:s};return{id:(await q1(ip(Pn,"simulacoes"),o)).id,...o}}},o4=({baseAmount:i,cnpj:e,disabled:n,onSaved:s})=>{const[o,u]=U.useState(12),[f,m]=U.useState(10),[g,p]=U.useState("idle"),E=U.useMemo(()=>TS.calcularSimulacao({cnpj:e,valorTotal:i,parcelas:o,descontoPercentual:f}),[i,e,o,f]);U.useEffect(()=>{o<1&&u(1),o>60&&u(60),f<0&&m(0),f>90&&m(90)},[o,f]);const A=async b=>{if(!n)try{p("saving"),s?.(b)}finally{p("idle")}};return T.jsxs("div",{className:"sim-card",children:[T.jsx("div",{className:"sim-header",children:T.jsx("h3",{children:"Simulação de Negociação"})}),T.jsxs("div",{className:"sim-grid",children:[T.jsxs("div",{className:"sim-field",children:[T.jsx("label",{children:"Quantidade de parcelas"}),T.jsx("input",{type:"number",min:1,max:60,value:o,onChange:b=>u(Number.parseInt(b.target.value||"1",10)),disabled:n}),T.jsx("small",{children:"Máx. 60 parcelas"})]}),T.jsxs("div",{className:"sim-field",children:[T.jsxs("label",{children:["Desconto aplicado (%)",T.jsx(cg,{content:"Descontos acima de 90% não são permitidos.",children:T.jsx("span",{className:"icon-inline","aria-hidden":"true",children:T.jsx(xO,{size:14})})})]}),T.jsx("input",{type:"number",min:0,max:90,step:1,value:f,onChange:b=>m(Number.parseInt(b.target.value||"0",10)),disabled:n}),T.jsx("small",{children:"0% a 90%"})]})]}),T.jsxs("div",{className:"sim-results",children:[T.jsxs("div",{className:"result-row",children:[T.jsx("span",{children:"Valor original"}),T.jsx("strong",{children:E.valorTotalOriginal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),T.jsxs("div",{className:"result-row",children:[T.jsx("span",{children:"Desconto"}),T.jsxs("strong",{children:[E.descontoPercentual,"% (",E.descontoValor.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),")"]})]}),T.jsxs("div",{className:"result-row",children:[T.jsx("span",{children:"Total com desconto"}),T.jsx("strong",{children:E.valorComDesconto.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),T.jsxs("div",{className:"result-row",children:[T.jsxs("span",{children:["Valor de cada parcela (",E.parcelas,"x)"]}),T.jsx("strong",{children:E.valorParcela.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),T.jsxs("div",{className:"sim-actions",children:[T.jsxs(ei,{variant:"secondary",onClick:()=>A("simulado"),disabled:n||g==="saving",children:[T.jsx(WD,{size:16}),"Simular"]}),T.jsx(ei,{variant:"primary",onClick:()=>A("confirmado"),disabled:n||g==="saving",children:"Prosseguir para negociação"}),T.jsx(ei,{variant:"danger",onClick:()=>s?.("simulado"),disabled:g==="saving",children:"Cancelar"})]})]})},l4=()=>{const{user:i}=is(),[e,n]=U.useState([]),[s,o]=U.useState(""),[u,f]=U.useState(!0),[m,g]=U.useState(!1),[p,E]=U.useState(null);U.useEffect(()=>{(async()=>{if(i)try{f(!0);const re=await En.getCNPJsByUser(i.uid);n(re)}catch{console.error("Erro ao carregar CNPJs")}finally{f(!1)}})()},[i]);const A=U.useMemo(()=>e.find(Q=>Q.id===s),[e,s]);U.useEffect(()=>{(async()=>{if(!A){E(null);return}try{g(!0);const re=await lu.consultarCertidao(A);E(re)}catch{console.error("Falha ao carregar resumo fiscal."),E(null)}finally{g(!1)}})()},[A]);const b=U.useMemo(()=>A?A.statusFiscal==="baixado"||A.statusFiscal==="suspenso":!1,[A]),P=U.useMemo(()=>({emCastigo:!1}),[A]),H=U.useMemo(()=>e.map(Q=>({value:Q.id,label:Q.nomeFantasia&&Q.nomeFantasia.trim()?Q.nomeFantasia:"Empresa",sublabel:En.formatCNPJ(Q.cnpj)})),[e]),Y=async Q=>{if(!(!i||!A||!p))try{const re={cnpj:p.cnpj,valorTotal:p.valorTotalDivida,parcelas:12,descontoPercentual:10};await TS.salvarSimulacao(i.uid,re,Q),alert(Q==="confirmado"?"Negociação confirmada e salva!":"Simulação registrada.")}catch{alert("Erro ao salvar a simulação.")}},L=!!(!A||b||P.emCastigo||p&&p.valorTotalDivida<=0);return T.jsx(kh,{children:T.jsxs("div",{className:"neg-page",children:[T.jsxs("div",{className:"neg-left",children:[T.jsx("div",{className:"card",children:u?T.jsx("div",{className:"centered",children:T.jsx(up,{label:"Carregando CNPJs..."})}):T.jsxs(T.Fragment,{children:[T.jsx("h1",{children:"Simulação e Negociação"}),T.jsx("p",{className:"subtitle",children:"Selecione um CNPJ para iniciar a simulação"}),T.jsx(ES,{label:"CNPJ da empresa",options:H,value:s,onChange:Q=>o(Q)})]})}),T.jsx(s4,{isRegular:!!(p&&p.situacaoFiscal==="regular"),impedido:!!b,emCastigo:!!P.emCastigo,castigoDiasRestantes:void 0,motivoCastigo:void 0}),m?T.jsx("div",{className:"card centered",children:T.jsx(up,{label:"Carregando resumo..."})}):p?T.jsx(a4,{result:p}):s&&!m&&T.jsx("div",{className:"card note",children:"Não foi possível carregar o resumo fiscal deste CNPJ."}),p&&p.valorTotalDivida===0&&T.jsx("div",{className:"card success",children:"Este CNPJ não possui pendências. Nada a negociar no momento."}),(b||P.emCastigo)&&T.jsx("div",{className:"card warning",children:b?"CNPJ impedido — não é possível realizar novas simulações.":"Em castigo — aguarde o período de bloqueio terminar."})]}),T.jsx("div",{className:"neg-right",children:T.jsx(o4,{baseAmount:p?.valorTotalDivida||0,cnpj:p?.cnpj||"",disabled:L,onSaved:Y})})]})})},u4=()=>T.jsx(MD,{children:T.jsxs(cD,{children:[T.jsx(Hs,{path:Yr.HOME,element:T.jsx(d0,{})}),T.jsx(Hs,{path:Yr.LOGIN,element:T.jsx(d0,{})}),T.jsx(Hs,{path:Yr.REGISTER,element:T.jsx($O,{})}),T.jsx(Hs,{path:Yr.DASHBOARD,element:T.jsx(e4,{})}),T.jsx(Hs,{path:Yr.CERTIFICATES,element:T.jsx(i4,{})}),T.jsx(Hs,{path:Yr.NEGOTIATION,element:T.jsx(l4,{})})]})});function c4(){return T.jsx(Ex,{children:T.jsx(u4,{})})}tw.createRoot(document.getElementById("root")).render(T.jsx(U.StrictMode,{children:T.jsx(c4,{})}));
